<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type"/>
<title>CityJSON Specifications 1.1.2</title>
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in § N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *     -> ins/del.c### for candidate and proposed changes (amendments)
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *   - .correction for "candidate corrections"       (div, aside, details, section)
 *   - .addition   for "candidate additions"         (div, aside, details, section)
 *   - .correction.proposed for "proposed corrections" (div, aside, details, section)
 *   - .addition.proposed   for "proposed additions"   (div, aside, details, section)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Outdated warning for old specs
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/* color variables included separately for reliability */

/******************************************************************************/
/*                                    Body                                    */
/******************************************************************************/

	html {
	}

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;			  /* limit line length to 50em for readability   */
		margin: 0 auto;				/* center text within page                    */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag    */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		color: black;
		color: var(--text);
		background: white top left fixed no-repeat;
		background: var(--bg) top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em; }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border: solid var(--logo-bg);
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		background: var(--logo-bg);
		color: white;
		color: var(--logo-text);
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		background: var(--logo-active-bg);
		border-color: #c00;
		border-color: var(--logo-active-bg);
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small; }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 3;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;

			color: #707070;
			color: var(--tocnav-normal-text);
			background: white;
			background: var(--tocnav-normal-bg);
		}
		#toc-nav > a:hover,
		#toc-nav > a:focus {
			color: black;
			color: var(--tocnav-hover-text);
			background: #f8f8f8;
			background: var(--tocnav-hover-bg);
		}
		#toc-nav > a:active {
			color: #c00;
			color: var(--tocnav-active-text);
			background: white;
			background: var(--tocnav-active-bg);
		}

		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			color: black;
			color: var(--tocsidebar-text);
			background: inherit;
			background-color: #f7f8f9;
			background-color: var(--tocsidebar-bg);
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
			box-shadow: -.1em 0 .25em var(--tocsidebar-shadow) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
			color: var(--tocsidebar-heading-text);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;	/* Inherit the font family. */
		line-height: 1.2;		/* Keep wrapped headings compact */
		hyphens: manual;		/* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		color: var(--heading-text);
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#profile-and-date {
		/* #profile-and-date is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > :not(.head) + hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		color: black;
		color: var(--hr-text);
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	border-left: 0.5em solid #DEF;
	border-left: 0.5em solid var(--algo-border);
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	 padding: .5em;
	 border: thin solid #ddd;
	 border: thin solid var(--algo-border);
	 border-radius: .5em;
	 margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	 margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	 margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	margin-left: -2em;
	}
	dl.switch {
	padding-left: 2em;
	}
	dl.switch > dt {
	text-indent: -1.5em;
	margin-top: 1em;
	}
	dl.switch > dt + dt {
	margin-top: 0;
	}
	dl.switch > dt::before {
	content: '\21AA';
	padding: 0 0.5em 0 0;
	display: inline-block;
	width: 1em;
	text-align: right;
	line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: inherit;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del {
		color: #aa0000;
		color: var(--del-text);
		background: transparent;
		background: var(--del-bg);
		text-decoration: line-through;
	}
	ins {
		color: #006100;
		color: var(--ins-text);
		background: transparent;
		background: var(--ins-bg);
		text-decoration: underline;
	}

	/* for amendments (candidate/proposed changes) */

	.amendment ins, .correction ins, .addition ins,
	ins[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment del, .correction del, .addition del,
	del[class^=c] {
		text-decoration-style: dotted;
	}
	.amendment.proposed ins, .correction.proposed ins, .addition.proposed ins,
	ins[class^=c].proposed {
		text-decoration-style: double;
	}
	.amendment.proposed del, .correction.proposed del, .addition.proposed del,
	del[class^=c].proposed {
		text-decoration-style: double;
	}

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		hyphens: none;
		text-transform: none;
		text-align: left;
		text-align: start;
		font-variant: normal;
		orphans: 3;
		widows: 3;
		page-break-before: avoid;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

	/* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		color: var(--a-normal-text);
		text-decoration: underline #707070;
		text-decoration: underline var(--a-normal-underline);
		text-decoration-skip-ink: none;
	}
	a:visited {
		color: #034575;
		color: var(--a-visited-text);
		text-decoration-color: #bbb;
		text-decoration-color: var(--a-visited-underline);
	}

	/* Indicate interaction with the link */
	a[href]:focus,
	a[href]:hover {
		text-decoration-thickness: 2px;
	}
	a[href]:active {
		color: #c00;
		color: var(--a-active-text);
		text-decoration-color: #c00;
		text-decoration-color: var(--a-active-underline);
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	img, svg {
		/* Intentionally not color-scheme aware. */
		background: white;
	}

	/* For autogen numbers, add
	  .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,	.sidefigure img,	figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
		height: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em;
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em; }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote,
	.amendment, .correction, .addition {
		margin: 1em auto;
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	blockquote > :first-child,
	.note  > p:first-child,
	.issue > p:first-child,
	.amendment > p:first-child,
	.correction > p:first-child,
	.addition > p:first-child {
		margin-top: 0;
	}
	blockquote > :last-child,
	.note  > p:last-child,
	.issue > p:last-child,
	.amendment > p:last-child,
	.correction > p:last-child,
	.addition > p:last-child {
		margin-bottom: 0;
	}


	.issue::before, .issue > .marker,
	.example::before, .example > .marker,
	.note::before, .note > .marker,
	details.note > summary > .marker,
	.amendment::before, .amendment > .marker,
	details.amendment > summary > .marker,
	.addition::before, .addition > .marker,
	addition.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	correction.amendment > summary > .marker
	{
		text-transform: uppercase;
		padding-right: 1em;
	}

	.example::before, .example > .marker {
		display: block;
		padding-right: 0em;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
		border-color: var(--blockquote-border);
		background: transparent;
		background: var(--blockquote-bg);
		color: currentcolor;
		color: var(--blockquote-text);
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #e05252;
		border-color: var(--issue-border);
		background: #fbe9e9;
		background: var(--issue-bg);
		color: black;
		color: var(--issue-text);
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		color: #831616;
		color: var(--issueheading-text);
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	  or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #e0cb52;
		border-color: var(--example-border);
		background: #fcfaee;
		background: var(--example-bg);
		color: black;
		color: var(--example-text);
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		color: #574b0f;
		color: var(--exampleheading-text);
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	  or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52e052;
		border-color: var(--note-border);
		background: #e9fbe9;
		background: var(--note-bg);
		color: black;
		color: var(--note-text);
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary {
		color: hsl(120, 70%, 30%);
		color: var(--noteheading-text);
	}
	/* Add .note::before { content: "Note "; } for autogen label,
	  or use class="marker" to mark up the label in source. */

	details.note[open] > summary {
		border-bottom: 1px silver solid;
		border-bottom: 1px var(--notesummary-underline) solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		border-color: var(--assertion-border);
		background: #EEE;
		background: var(--assertion-bg);
		color: black;
		color: var(--assertion-text);
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-color: var(--advisement-border);
		border-style: none solid;
		background: #fec;
		background: var(--advisement-bg);
		color: black;
		color: var(--advisement-text);
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement::before, .advisement > .marker {
		color: #b35f00;
		color: var(--advisementheading-text);
	}

/** Amendment Box *************************************************************/

	.amendment, .correction, .addition {
		border-color: #330099;
		border-color: var(--amendment-border);
		background: #F5F0FF;
		background: var(--amendment-bg);
		color: black;
		color: var(--amendment-text);
	}
	.amendment.proposed, .correction.proposed, .addition.proposed {
		border-style: solid;
		border-block-width: 0.25em;
	}
	.amendment::before, .amendment > .marker,
	details.amendment > summary::before, details.amendment > summary > .marker,
	.correction::before, .correction > .marker,
	details.correction > summary::before, details.correction > summary > .marker,
	.addition::before, .addition > .marker,
	details.addition > summary::before, details.addition > summary > .marker {
		color: #220066;
		color: var(--amendmentheading-text);
	}
	.amendment.proposed::before, .amendment.proposed > .marker,
	details.amendment.proposed > summary::before, details.amendment.proposed > summary > .marker,
	.correction.proposed::before, .correction.proposed > .marker,
	details.correction.proposed > summary::before, details.correction.proposed > summary > .marker,
	.addition.proposed::before, .addition.proposed > .marker,
	details.addition.proposed > summary::before, details.addition.proposed > summary > .marker {
		font-weight: bold;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: hsla(40,100%,50%,0.95);
		background: var(--warning-bg);
		color: black;
		color: var(--warning-text);
		padding: .75em 1em;
		border: red;
		border: var(--warning-border);
		border-style: solid none;
		box-shadow: 0 2px 8px black;
		text-align: center;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 0;
		right: 0;
		bottom: 2em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #def;
		background: var(--def-bg);
		margin: 1.2em 0;
		border-left: 0.5em solid #8ccbf2;
		border-left: 0.5em solid var(--def-border);
		color: black;
		color: var(--def-text);
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
		border-bottom: 1px solid var(--defrow-border);
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def td.footnote {
		padding-top: 0.6em;
	}
	table.def td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		<table class="data"> highlights structural relationships in a table
		when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		Use class="complex data" for particularly complicated tables --
		(This will draw more lines: busier, but clearer.)

		Use class="long" on table cells with paragraph-like contents
		(This will adjust text alignment accordingly.)
		Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-color: var(--datacell-border);
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		border-top: 1px solid var(--datacell-border);
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		border: 1px solid var(--datacell-border);
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
		vertical-align: baseline;
		text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding: 0.1rem 1px 0;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Switch to using border-bottom for underlines */
		text-decoration: none;
		border-bottom: 1px solid;
		/* Reverse color scheme */
		color: black;
		color: var(--toclink-text);
		border-color: #3980b5;
		border-color: var(--toclink-underline);
	}
	.toc a:visited {
		color: black;
		color: var(--toclink-visited-text);
		border-color: #054572;
		border-color: var(--toclink-visited-underline);
	}
	.toc a:focus,
	.toc a:hover {
		background: rgba(75%, 75%, 75%, .25);
		background: var(--a-hover-bg);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
	}
	.toc {
		line-height: 1.1em;
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li			{ font-weight: bold;   }
	.toc > li li		 { font-weight: normal; }
	.toc > li li li	  { font-size:   95%;	}
	.toc > li li li li	{ font-size:   90%;	}
	.toc > li li li li li { font-size:   85%;	}

	/* @supports not (display:grid) { */
		.toc > li			{ margin: 1.5rem 0;	}
		.toc > li li		 { margin: 0.3rem 0;	}
		.toc > li li li	  { margin-left: 2rem;   }

		/* Section numbers in a column of their own */
		.toc .secno {
			float: left;
			width: 4rem;
			white-space: nowrap;
		}
		.toc > li li li li .secno { font-size: 85%; }
		.toc > li li li li li .secno { font-size: 100%; }

		.toc li {
			clear: both;
		}

		:not(li) > .toc			 { margin-left:  5rem; }
		.toc .secno				 { margin-left: -5rem; }
		.toc > li li li .secno	  { margin-left: -7rem; }
		.toc > li li li li .secno	{ margin-left: -9rem; }
		.toc > li li li li li .secno { margin-left: -11rem; }

		/* Tighten up indentation in narrow ToCs */
		@media (max-width: 30em) {
			:not(li) > .toc			 { margin-left:  4rem; }
			.toc .secno				 { margin-left: -4rem; }
			.toc > li li li			 { margin-left:  1rem; }
			.toc > li li li .secno	  { margin-left: -5rem; }
			.toc > li li li li .secno	{ margin-left: -6rem; }
			.toc > li li li li li .secno { margin-left: -7rem; }
		}
		/* Loosen it on wide screens */
		@media screen and (min-width: 78em) {
			body:not(.toc-inline) :not(li) > .toc			 { margin-left:  4rem; }
			body:not(.toc-inline) .toc .secno				 { margin-left: -4rem; }
			body:not(.toc-inline) .toc > li li li			 { margin-left:  1rem; }
			body:not(.toc-inline) .toc > li li li .secno	  { margin-left: -5rem; }
			body:not(.toc-inline) .toc > li li li li .secno	{ margin-left: -6rem; }
			body:not(.toc-inline) .toc > li li li li li .secno { margin-left: -7rem; }
	}
	/* } */

	@supports (display:grid) and (display:contents) {
		/* Use #toc over .toc to override non-@supports rules. */
		#toc {
			display: grid;
			align-content: start;
			grid-template-columns: auto 1fr;
			grid-column-gap: 1rem;
			column-gap: 1rem;
			grid-row-gap: .6rem;
			row-gap: .6rem;
		}
		#toc h2 {
			grid-column: 1 / -1;
			margin-bottom: 0;
		}
		#toc ol,
		#toc li,
		#toc a {
			display: contents;
			/* Switch <a> to subgrid when supported */
		}
		#toc span {
			margin: 0;
		}
		#toc > .toc > li > a > span {
			/* The spans of the top-level list,
			  comprising the first items of each top-level section. */
			margin-top: 1.1rem;
		}
		#toc#toc .secno { /* Ugh, need more specificity to override base.css */
			grid-column: 1;
			width: auto;
			margin-left: 0;
		}
		#toc .content {
			grid-column: 2;
			width: auto;
			margin-right: 1rem;
		}
		#toc .content:hover,
		#toc .content:focus {
			background: rgba(75%, 75%, 75%, .25);
			background: var(--a-hover-bg);
			border-bottom: 3px solid #054572;
			border-bottom: 3px solid var(--toclink-underline);
			margin-bottom: -3px;
		}
		#toc li li li .content {
			margin-left: 1rem;
		}
		#toc li li li li .content {
			margin-left: 2rem;
		}
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index	  { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li	{ margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em; }
	ul.index dl	{ margin-top: 0; }
	ul.index dt	{ margin: .2em 0 .2em 20px;}
	ul.index dd	{ margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li a + span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
			color: var(--indexinfo-text);
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		color: black;
		color: var(--indextable-hover-text);
		background: #f7f8f9;
		background: var(--indextable-hover-bg);
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/** Outdated warning **********************************************************/

.outdated-spec {
	color: black;
	color: var(--outdatedspec-text);
	background-color: rgba(0,0,0,0.5);
	background-color: var(--outdatedspec-bg);
}

.outdated-warning {
	position: fixed;
	bottom: 50%;
	left: 0;
	right: 0;
	margin: 0 auto;
	width: 50%;
	background: maroon;
	background: var(--outdated-bg);
	color: white;
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	color: var(--outdated-text);
	border-radius: 1em;
	box-shadow: 0 0 1em red;
	box-shadow: 0 0 1em var(--outdated-shadow);
	padding: 2em;
	text-align: center;
	z-index: 2;
}

.outdated-warning a {
	color: currentcolor;
	background: transparent;
}

.edited-rec-warning {
	background: darkorange;
	background: var(--editedrec-bg);
	box-shadow: 0 0 1em;
}

.outdated-warning button {
	position: absolute;
	top: 0;
	right:0;
	margin: 0;
	border: 0;
	padding: 0.25em 0.5em;
	background: transparent;
	color: white;
	color: var(--outdated-text);
	font:1em sans-serif;
	text-align:center;
}

.outdated-warning span {
	display: block;
}

.outdated-collapsed {
	bottom: 0;
	border-radius: 0;
	width: 100%;
	padding: 0;
}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}

		.outdated-warning {
			position: absolute;
			border-style: solid;
			border-color: red;
		}

		.outdated-warning input {
			display: none;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge {
		/* Magic to create good item positioning:
		  "content column" is 50ems wide at max; less on smaller screens.
		  Extra space (after ToC + content) is empty on the right.

		  1. When item < content column, centers item in column.
		  2. When content < item < available, left-aligns.
		  3. When item > available, fills available + scroll bar.
		*/
		display: grid;
		grid-template-columns: minmax(0, 50em);
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			* http://lea.verou.me/2012/04/background-attachment-local/
			*
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
						top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
						top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
						white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
<meta content="Bikeshed version fe8c230, updated Wed Aug 10 08:18:38 2022 -0700" name="generator"/>
<link href="https://cityjson.org/specs/" rel="canonical"/>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: var(--a-normal-text);
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-colors */

/* Any --*-text not paired with a --*-bg is assumed to have a transparent bg */
:root {
    color-scheme: light dark;

    --text: black;
    --bg: white;

    --unofficial-watermark: url(https://www.w3.org/StyleSheets/TR/2016/logos/UD-watermark);

    --logo-bg: #1a5e9a;
    --logo-active-bg: #c00;
    --logo-text: white;

    --tocnav-normal-text: #707070;
    --tocnav-normal-bg: var(--bg);
    --tocnav-hover-text: var(--tocnav-normal-text);
    --tocnav-hover-bg: #f8f8f8;
    --tocnav-active-text: #c00;
    --tocnav-active-bg: var(--tocnav-normal-bg);

    --tocsidebar-text: var(--text);
    --tocsidebar-bg: #f7f8f9;
    --tocsidebar-shadow: rgba(0,0,0,.1);
    --tocsidebar-heading-text: hsla(203,20%,40%,.7);

    --toclink-text: var(--text);
    --toclink-underline: #3980b5;
    --toclink-visited-text: var(--toclink-text);
    --toclink-visited-underline: #054572;

    --heading-text: #005a9c;

    --hr-text: var(--text);

    --algo-border: #def;

    --del-text: red;
    --del-bg: transparent;
    --ins-text: #080;
    --ins-bg: transparent;

    --a-normal-text: #034575;
    --a-normal-underline: #bbb;
    --a-visited-text: var(--a-normal-text);
    --a-visited-underline: #707070;
    --a-hover-bg: rgba(75%, 75%, 75%, .25);
    --a-active-text: #c00;
    --a-active-underline: #c00;

    --blockquote-border: silver;
    --blockquote-bg: transparent;
    --blockquote-text: currentcolor;

    --issue-border: #e05252;
    --issue-bg: #fbe9e9;
    --issue-text: var(--text);
    --issueheading-text: #831616;

    --example-border: #e0cb52;
    --example-bg: #fcfaee;
    --example-text: var(--text);
    --exampleheading-text: #574b0f;

    --note-border: #52e052;
    --note-bg: #e9fbe9;
    --note-text: var(--text);
    --noteheading-text: hsl(120, 70%, 30%);
    --notesummary-underline: silver;

    --assertion-border: #aaa;
    --assertion-bg: #eee;
    --assertion-text: black;

    --advisement-border: orange;
    --advisement-bg: #fec;
    --advisement-text: var(--text);
    --advisementheading-text: #b35f00;

    --warning-border: red;
    --warning-bg: hsla(40,100%,50%,0.95);
    --warning-text: var(--text);

    --amendment-border: #330099;
    --amendment-bg: #F5F0FF;
    --amendment-text: var(--text);
    --amendmentheading-text: #220066;

    --def-border: #8ccbf2;
    --def-bg: #def;
    --def-text: var(--text);
    --defrow-border: #bbd7e9;

    --datacell-border: silver;

    --indexinfo-text: #707070;

    --indextable-hover-text: black;
    --indextable-hover-bg: #f7f8f9;

    --outdatedspec-bg: rgba(0, 0, 0, .5);
    --outdatedspec-text: black;
    --outdated-bg: maroon;
    --outdated-text: white;
    --outdated-shadow: red;

    --editedrec-bg: darkorange;
}</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-issues */

a[href].issue-return {
    float: right;
    float: inline-end;
    color: var(--issueheading-text);
    font-weight: bold;
    text-decoration: none;
}
</style>
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

:root {
    --selflink-text: white;
    --selflink-bg: gray;
    --selflink-hover-text: black;
}
.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: var(--selflink-bg);
    color: var(--selflink-text);
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: var(--selflink-hover-text);
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }
</style>
<style>/* style-syntax-highlighting */

code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }

.highlight:not(.idl) { background: rgba(0, 0, 0, .03); }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
<style>/* style-darkmode */

@media (prefers-color-scheme: dark) {
    :root {
        --text: #ddd;
        --bg: black;

        --unofficial-watermark: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='400' height='400'%3E%3Cg fill='%23100808' transform='translate(200 200) rotate(-45) translate(-200 -200)' stroke='%23100808' stroke-width='3'%3E%3Ctext x='50%25' y='220' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EUNOFFICIAL%3C/text%3E%3Ctext x='50%25' y='305' style='font: bold 70px sans-serif; text-anchor: middle; letter-spacing: 6px;'%3EDRAFT%3C/text%3E%3C/g%3E%3C/svg%3E");

        --logo-bg: #1a5e9a;
        --logo-active-bg: #c00;
        --logo-text: white;

        --tocnav-normal-text: #999;
        --tocnav-normal-bg: var(--bg);
        --tocnav-hover-text: var(--tocnav-normal-text);
        --tocnav-hover-bg: #080808;
        --tocnav-active-text: #f44;
        --tocnav-active-bg: var(--tocnav-normal-bg);

        --tocsidebar-text: var(--text);
        --tocsidebar-bg: #080808;
        --tocsidebar-shadow: rgba(255,255,255,.1);
        --tocsidebar-heading-text: hsla(203,20%,40%,.7);

        --toclink-text: var(--text);
        --toclink-underline: #6af;
        --toclink-visited-text: var(--toclink-text);
        --toclink-visited-underline: #054572;

        --heading-text: #8af;

        --hr-text: var(--text);

        --algo-border: #456;

        --del-text: #f44;
        --del-bg: transparent;
        --ins-text: #4a4;
        --ins-bg: transparent;

        --a-normal-text: #6af;
        --a-normal-underline: #555;
        --a-visited-text: var(--a-normal-text);
        --a-visited-underline: var(--a-normal-underline);
        --a-hover-bg: rgba(25%, 25%, 25%, .2);
        --a-active-text: #f44;
        --a-active-underline: var(--a-active-text);

        --borderedblock-bg: rgba(255, 255, 255, .05);

        --blockquote-border: silver;
        --blockquote-bg: var(--borderedblock-bg);
        --blockquote-text: currentcolor;

        --issue-border: #e05252;
        --issue-bg: var(--borderedblock-bg);
        --issue-text: var(--text);
        --issueheading-text: hsl(0deg, 70%, 70%);

        --example-border: hsl(50deg, 90%, 60%);
        --example-bg: var(--borderedblock-bg);
        --example-text: var(--text);
        --exampleheading-text: hsl(50deg, 70%, 70%);

        --note-border: hsl(120deg, 100%, 35%);
        --note-bg: var(--borderedblock-bg);
        --note-text: var(--text);
        --noteheading-text: hsl(120, 70%, 70%);
        --notesummary-underline: silver;

        --assertion-border: #444;
        --assertion-bg: var(--borderedblock-bg);
        --assertion-text: var(--text);

        --advisement-border: orange;
        --advisement-bg: #222218;
        --advisement-text: var(--text);
        --advisementheading-text: #f84;

        --warning-border: red;
        --warning-bg: hsla(40,100%,20%,0.95);
        --warning-text: var(--text);

        --amendment-border: #330099;
        --amendment-bg: #080010;
        --amendment-text: var(--text);
        --amendmentheading-text: #cc00ff;

        --def-border: #8ccbf2;
        --def-bg: #080818;
        --def-text: var(--text);
        --defrow-border: #136;

        --datacell-border: silver;

        --indexinfo-text: #aaa;

        --indextable-hover-text: var(--text);
        --indextable-hover-bg: #181818;

        --outdatedspec-bg: rgba(255, 255, 255, .5);
        --outdatedspec-text: black;
        --outdated-bg: maroon;
        --outdated-text: white;
        --outdated-shadow: red;

        --editedrec-bg: darkorange;
    }
    /* In case a transparent-bg image doesn't expect to be on a dark bg,
       which is quite common in practice... */
    img { background: white; }
}
@media (prefers-color-scheme: dark) {
    :root {
        --selflink-text: black;
        --selflink-bg: silver;
        --selflink-hover-text: white;
    }
}

@media (prefers-color-scheme: dark) {
    .highlight:not(.idl) { background: rgba(255, 255, 255, .05); }

    c-[a] { color: #d33682 } /* Keyword.Declaration */
    c-[b] { color: #d33682 } /* Keyword.Type */
    c-[c] { color: #2aa198 } /* Comment */
    c-[d] { color: #2aa198 } /* Comment.Multiline */
    c-[e] { color: #268bd2 } /* Name.Attribute */
    c-[f] { color: #b58900 } /* Name.Tag */
    c-[g] { color: #cb4b16 } /* Name.Variable */
    c-[k] { color: #d33682 } /* Keyword */
    c-[l] { color: #657b83 } /* Literal */
    c-[m] { color: #657b83 } /* Literal.Number */
    c-[n] { color: #268bd2 } /* Name */
    c-[o] { color: #657b83 } /* Operator */
    c-[p] { color: #657b83 } /* Punctuation */
    c-[s] { color: #6c71c4 } /* Literal.String */
    c-[t] { color: #6c71c4 } /* Literal.String.Single */
    c-[u] { color: #6c71c4 } /* Literal.String.Double */
    c-[ch] { color: #2aa198 } /* Comment.Hashbang */
    c-[cp] { color: #2aa198 } /* Comment.Preproc */
    c-[cpf] { color: #2aa198 } /* Comment.PreprocFile */
    c-[c1] { color: #2aa198 } /* Comment.Single */
    c-[cs] { color: #2aa198 } /* Comment.Special */
    c-[kc] { color: #d33682 } /* Keyword.Constant */
    c-[kn] { color: #d33682 } /* Keyword.Namespace */
    c-[kp] { color: #d33682 } /* Keyword.Pseudo */
    c-[kr] { color: #d33682 } /* Keyword.Reserved */
    c-[ld] { color: #657b83 } /* Literal.Date */
    c-[nc] { color: #268bd2 } /* Name.Class */
    c-[no] { color: #268bd2 } /* Name.Constant */
    c-[nd] { color: #268bd2 } /* Name.Decorator */
    c-[ni] { color: #268bd2 } /* Name.Entity */
    c-[ne] { color: #268bd2 } /* Name.Exception */
    c-[nf] { color: #268bd2 } /* Name.Function */
    c-[nl] { color: #268bd2 } /* Name.Label */
    c-[nn] { color: #268bd2 } /* Name.Namespace */
    c-[py] { color: #268bd2 } /* Name.Property */
    c-[ow] { color: #657b83 } /* Operator.Word */
    c-[mb] { color: #657b83 } /* Literal.Number.Bin */
    c-[mf] { color: #657b83 } /* Literal.Number.Float */
    c-[mh] { color: #657b83 } /* Literal.Number.Hex */
    c-[mi] { color: #657b83 } /* Literal.Number.Integer */
    c-[mo] { color: #657b83 } /* Literal.Number.Oct */
    c-[sa] { color: #6c71c4 } /* Literal.String.Affix */
    c-[sb] { color: #6c71c4 } /* Literal.String.Backtick */
    c-[sc] { color: #6c71c4 } /* Literal.String.Char */
    c-[dl] { color: #6c71c4 } /* Literal.String.Delimiter */
    c-[sd] { color: #6c71c4 } /* Literal.String.Doc */
    c-[se] { color: #6c71c4 } /* Literal.String.Escape */
    c-[sh] { color: #6c71c4 } /* Literal.String.Heredoc */
    c-[si] { color: #6c71c4 } /* Literal.String.Interpol */
    c-[sx] { color: #6c71c4 } /* Literal.String.Other */
    c-[sr] { color: #6c71c4 } /* Literal.String.Regex */
    c-[ss] { color: #6c71c4 } /* Literal.String.Symbol */
    c-[fm] { color: #268bd2 } /* Name.Function.Magic */
    c-[vc] { color: #cb4b16 } /* Name.Variable.Class */
    c-[vg] { color: #cb4b16 } /* Name.Variable.Global */
    c-[vi] { color: #cb4b16 } /* Name.Variable.Instance */
    c-[vm] { color: #cb4b16 } /* Name.Variable.Magic */
    c-[il] { color: #657b83 } /* Literal.Number.Integer.Long */
}
</style>
</head><body class="h-entry">
<div class="head">
<p data-fill-with="logo"></p>
<h1 class="p-name no-ref" id="title">CityJSON Specifications 1.1.2</h1>
<h2 class="no-num no-toc no-ref heading settled" id="profile-and-date"><span class="content">Living Standard, <time class="dt-updated" datetime="2022-08-16">16 August 2022</time></span></h2>
<div data-fill-with="spec-metadata">
<dl>
<dt>This version:
     </dt><dd><a class="u-url" href="https://cityjson.org/specs/1.1.2/">https://cityjson.org/specs/1.1.2/</a>
</dd><dt>Latest published version:
     </dt><dd><a href="https://cityjson.org/specs/">https://cityjson.org/specs/</a>
</dd><dt>Previous Versions:
     </dt><dd><a href="https://cityjson.org/specs/overview/" rel="prev">https://cityjson.org/specs/overview/</a>
</dd><dt>Feedback:
     </dt><dd><a href="https://github.com/cityjson/specs/issues/">GitHub</a>
</dd><dt class="editor">Editors:
     </dt><dd class="editor p-author h-card vcard"><a class="p-name fn u-url url" href="https://3d.bk.tudelft.nl/hledoux">Hugo Ledoux</a> (<span class="p-org org">TU Delft</span>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-url url" href="https://3dgi.nl">Balázs Dukai</a> (<span class="p-org org">3DGI</span>)
    </dd></dd></dl>
</div>
<div data-fill-with="warning"></div>
<html><body><p class="copyright" xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><img src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1" style="height:16px!important;margin-left:3px;vertical-align:text-bottom;"/><img src="https://mirrors.creativecommons.org/presskit/icons/zero.svg?ref=chooser-v1" style="height:16px!important;margin-left:3px;vertical-align:text-bottom;"/> The editors have waived all copyright and related or neighbouring rights to this work. The CityJSON Specifications are marked with <a href="http://creativecommons.org/publicdomain/zero/1.0" rel="license noopener noreferrer" style="display:inline-block;" target="_blank">CC0 1.0 Universal</a>.</p></body></html>
<hr title="Separator for header"/>
</div>
<div class="p-summary" data-fill-with="abstract">
<h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
<p>CityJSON is a data exchange format for digital 3D models of cities and landscapes. It aims at being easy-to-use (for reading, processing, and creating datasets), and it was designed with programmers in mind, so that tools and APIs supporting it can be quickly built. The <a href="https://json.org/">JSON</a>-based encoding of CityJSON is conformant with a subset of the <a href="https://docs.ogc.org/is/20-010/20-010.html">OGC CityGML data model (version 3.0)</a>. Using JSON instead of GML allows us to compress files by a factor 6 and at the same time to simplify greatly the structure of the files.</p>
</div>
<div data-fill-with="at-risk"></div>
<nav data-fill-with="table-of-contents" id="toc">
<h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
<ol class="toc" role="directory">
<li><a href="#cityjson-object"><span class="secno">1</span> <span class="content">CityJSON Object</span></a>
</li><li>
<a href="#the-different-city-objects"><span class="secno">2</span> <span class="content">The different City Objects</span></a>
<ol class="toc">
<li><a href="#attributes-for-all-city-objects"><span class="secno">2.1</span> <span class="content">Attributes for all City Objects</span></a>
</li><li><a href="#bridge"><span class="secno">2.2</span> <span class="content">Bridge</span></a>
</li><li><a href="#building"><span class="secno">2.3</span> <span class="content">Building</span></a>
</li><li><a href="#cityfurniture"><span class="secno">2.4</span> <span class="content">CityFurniture</span></a>
</li><li><a href="#cityobjectgroup"><span class="secno">2.5</span> <span class="content">CityObjectGroup</span></a>
</li><li><a href="#landuse"><span class="secno">2.6</span> <span class="content">LandUse</span></a>
</li><li><a href="#otherconstruction"><span class="secno">2.7</span> <span class="content">OtherConstruction</span></a>
</li><li><a href="#plantcover"><span class="secno">2.8</span> <span class="content">PlantCover</span></a>
</li><li><a href="#solitaryvegetationobject"><span class="secno">2.9</span> <span class="content">SolitaryVegetationObject</span></a>
</li><li><a href="#tinrelief"><span class="secno">2.10</span> <span class="content">TINRelief</span></a>
</li><li><a href="#transportation"><span class="secno">2.11</span> <span class="content">Transportation</span></a>
</li><li><a href="#tunnel"><span class="secno">2.12</span> <span class="content">Tunnel</span></a>
</li><li><a href="#waterbody"><span class="secno">2.13</span> <span class="content">WaterBody</span></a>
</li></ol>
</li><li>
<a href="#geometry-objects"><span class="secno">3</span> <span class="content">Geometry Objects</span></a>
<ol class="toc">
<li><a href="#coordinates-of-the-vertices"><span class="secno">3.1</span> <span class="content">Coordinates of the vertices</span></a>
</li><li><a href="#arrays-to-represent-boundaries"><span class="secno">3.2</span> <span class="content">Arrays to represent boundaries</span></a>
</li><li><a href="#semantics-of-geometric-primitives"><span class="secno">3.3</span> <span class="content">Semantics of geometric primitives</span></a>
</li><li><a href="#geometry-templates"><span class="secno">3.4</span> <span class="content">Geometry templates</span></a>
</li></ol>
</li><li><a href="#transform-object"><span class="secno">4</span> <span class="content">Transform Object</span></a>
</li><li>
<a href="#metadata"><span class="secno">5</span> <span class="content">Metadata</span></a>
<ol class="toc">
<li><a href="#geographicalextent-bbox"><span class="secno">5.1</span> <span class="content">geographicalExtent (bbox)</span></a>
</li><li><a href="#identifier"><span class="secno">5.2</span> <span class="content">identifier</span></a>
</li><li><a href="#pointofcontact"><span class="secno">5.3</span> <span class="content">pointOfContact</span></a>
</li><li><a href="#referencedate"><span class="secno">5.4</span> <span class="content">referenceDate</span></a>
</li><li><a href="#referencesystem-crs"><span class="secno">5.5</span> <span class="content">referenceSystem (CRS)</span></a>
</li><li><a href="#title①"><span class="secno">5.6</span> <span class="content">title</span></a>
</li></ol>
</li><li>
<a href="#appearance-object"><span class="secno">6</span> <span class="content">Appearance Object</span></a>
<ol class="toc">
<li><a href="#geometry-object-having-material-s"><span class="secno">6.1</span> <span class="content">Geometry Object having material(s)</span></a>
</li><li><a href="#geometry-object-having-texture-s"><span class="secno">6.2</span> <span class="content">Geometry Object having texture(s)</span></a>
</li><li><a href="#material-object"><span class="secno">6.3</span> <span class="content">Material Object</span></a>
</li><li><a href="#texture-object"><span class="secno">6.4</span> <span class="content">Texture Object</span></a>
</li><li><a href="#vertices-texture-object"><span class="secno">6.5</span> <span class="content">Vertices-texture Object</span></a>
</li></ol>
</li><li>
<a href="#handling-large-files"><span class="secno">7</span> <span class="content">Handling large files</span></a>
<ol class="toc">
<li><a href="#decomposing-an-area-into-parts-tiles"><span class="secno">7.1</span> <span class="content">Decomposing an area into parts/tiles</span></a>
</li><li><a href="#text-sequences-and-streaming-with-cityjsonfeature"><span class="secno">7.2</span> <span class="content">Text sequences and streaming with CityJSONFeature</span></a>
</li></ol>
</li><li>
<a href="#extensions"><span class="secno">8</span> <span class="content">Extensions</span></a>
<ol class="toc">
<li><a href="#using-an-extension-in-a-cityjson-file"><span class="secno">8.1</span> <span class="content">Using an Extension in a CityJSON file</span></a>
</li><li><a href="#the-extension-file"><span class="secno">8.2</span> <span class="content">The Extension file</span></a>
</li><li><a href="#case-1-adding-new-complex-attributes-to-existing-city-objects"><span class="secno">8.3</span> <span class="content">Case 1: Adding new complex attributes to existing City Objects</span></a>
</li><li><a href="#case-2-adding-new-properties-at-the-root-of-a-document"><span class="secno">8.4</span> <span class="content">Case 2: Adding new properties at the root of a document</span></a>
</li><li><a href="#case-3-creating-and-or-extending-new-city-objects"><span class="secno">8.5</span> <span class="content">Case 3: Creating and/or extending new City Objects</span></a>
</li><li><a href="#rules-to-follow-to-define-new-city-objects"><span class="secno">8.6</span> <span class="content">Rules to follow to define new City Objects</span></a>
</li></ol>
</li><li><a href="#cityjson-schemas"><span class="secno">9</span> <span class="content">CityJSON Schemas</span></a>
</li><li><a href="#citygml-v30-conformance"><span class="secno">10</span> <span class="content">CityGML v3.0 conformance</span></a>
</li></ol>
</nav>
<main>
<h2 class="heading settled" data-level="1" id="cityjson-object"><span class="secno">1. </span><span class="content">CityJSON Object</span><a class="self-link" href="#cityjson-object"></a></h2>
<p>A CityJSON object represents one 3D city model of a given area, this model may contain features of different types, as defined in the CityGML data model.</p>
<p>A CityJSON object:</p>
<ul>
<li data-md="">
<p>is a JSON object.</p>
</li><li data-md="">
<p><strong>must</strong> have one member with the name <code>"type"</code>, whose value must be <code>"CityJSON"</code>.</p>
</li><li data-md="">
<p><strong>must</strong> have one member with the name <code>"version"</code>, whose value must be a string with the version (X.Y) of CityJSON used. Observe that while schemas can have a version with patch version (X.Y.Z), a CityJSON object points only to the minor version (X.Y), and for validation the latest schema of that minor version should be used.</p>
</li><li data-md="">
<p><strong>must</strong> have one member with the name <code>"transform"</code>, whose value is a JSON object describing how to <em>decompress</em> the integer coordinates of the geometries to obtain real-world coordinates. See <a href="#transform-object">§ 4 Transform Object</a> for details.</p>
</li><li data-md="">
<p><strong>must</strong> have one member with the name <code>"CityObjects"</code>. The value of this member is a collection of key-value pairs, where the key is the ID of the object, and the value is one City Object. The ID of a City Object should be unique (within one CityJSON Object). See <a href="#the-different-city-objects">§ 2 The different City Objects</a> for details.</p>
</li><li data-md="">
<p><strong>must</strong> have one member with the name <code>"vertices"</code>, whose value is an array representing the coordinates of each vertex of the city model. See <a href="#coordinates-of-the-vertices">§ 3.1 Coordinates of the vertices</a>.</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"metadata"</code>, whose value may be a JSON object describing the coordinate reference system used, the extent of the dataset, its creator, etc. See <a href="#metadata">§ 5 Metadata</a> for details.</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"extensions"</code>, which is used if there are Extensions used in the file. See <a href="#extensions">§ 8 Extensions</a> for details.</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"appearance"</code>, the value may contain JSON objects representing the textures and/or materials of surfaces. See <a href="#appearance-object">§ 6 Appearance Object</a> for details.</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"geometry-templates"</code>, the value is a JSON object containing the templates that can be reused by different City Objects (usually for trees). This is equivalent to the concept of "implicit geometries" in CityGML. See <a href="#geometry-templates">§ 3.4 Geometry templates</a> for details.</p>
</li><li data-md="">
<p><strong>may</strong> have other members, and their value is not prescribed. Because these are not standard in CityJSON, they might be ignored by parsers.</p>
</li></ul>
<p>The minimal valid CityJSON object is thus:</p>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"CityJSON"</c-><c- p="">,</c->
  <c- f="">"version"</c-><c- p="">:</c-> <c- u="">"1.1"</c-><c- p="">,</c->
  <c- f="">"transform"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"scale"</c-><c- p="">:</c-> <c- p="">[</c-><c- mf="">1.0</c-><c- p="">,</c-> <c- mf="">1.0</c-><c- p="">,</c-> <c- mf="">1.0</c-><c- p="">],</c->
    <c- f="">"translate"</c-><c- p="">:</c-> <c- p="">[</c-><c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">0.0</c-><c- p="">]</c->
  <c- p="">},</c->
  <c- f="">"CityObjects"</c-><c- p="">:</c-> <c- p="">{},</c->
  <c- f="">"vertices"</c-><c- p="">:</c-> <c- p="">[]</c->
<c- p="">}</c->
</pre>
<p>An "empty" but complete CityJSON object will look like this:</p>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"CityJSON"</c-><c- p="">,</c->
  <c- f="">"version"</c-><c- p="">:</c-> <c- u="">"1.1"</c-><c- p="">,</c->
  <c- f="">"extensions"</c-><c- p="">:</c-> <c- p="">{},</c->
  <c- f="">"transform"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"scale"</c-><c- p="">:</c-> <c- p="">[</c-><c- mf="">1.0</c-><c- p="">,</c-> <c- mf="">1.0</c-><c- p="">,</c-> <c- mf="">1.0</c-><c- p="">],</c->
    <c- f="">"translate"</c-><c- p="">:</c-> <c- p="">[</c-><c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">0.0</c-><c- p="">]</c->
  <c- p="">},</c->
  <c- f="">"metadata"</c-><c- p="">:</c-> <c- p="">{},</c->
  <c- f="">"CityObjects"</c-><c- p="">:</c-> <c- p="">{},</c->
  <c- f="">"vertices"</c-><c- p="">:</c-> <c- p="">[],</c->
  <c- f="">"appearance"</c-><c- p="">:</c-> <c- p="">{},</c->
  <c- f="">"geometry-templates"</c-><c- p="">:</c-> <c- p="">{}</c->
<c- p="">}</c->
</pre>
<div class="note" role="note"> While the order of the member values of a CityJSON should preferably be as above, not all JSON generators allow one to do this, thus the order is not prescribed. </div>
<h2 class="heading settled" data-level="2" id="the-different-city-objects"><span class="secno">2. </span><span class="content">The different City Objects</span><a class="self-link" href="#the-different-city-objects"></a></h2>
<p><img alt="City Objects 1st and 2nd levels" src="figs/co.svg"/></p>
<div class="note" role="note">
     There are 2 kinds of City Objects: 
    <ol>
<li data-md="">
<p><strong>1st-level</strong>: City Objects that can "exist by themselves".</p>
</li><li data-md="">
<p><strong>2nd-level</strong>: City Objects that need to have a <code>"parents"</code> to exist.</p>
</li></ol>
<p>This is because the schema of CityGML has been flattened out.
For example, a <code>"BuildingInstallation"</code> cannot be present in a dataset without being the <code>"children"</code> of a <code>"Building"</code>, but a <code>"Building"</code> can be present by itself.</p>
</div>
<p>A City Object:</p>
<ul>
<li data-md="">
<p><strong>must</strong> have one member <code>"type"</code>, its value is one of the possibilities in the figure above (of type string). If an Extension is used, then the type can be any string starting with a <code>"+"</code>, as explained in <a href="#extensions">§ 8 Extensions</a>.</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"geometry"</code>, whose value is an array containing 0 or more Geometry Objects. More than one Geometry Object is used to represent several different levels-of-detail (LoDs) for the same object. However, the different Geometry Objects of a given City Object do not have to be of different LoDs.</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"attributes"</code>, whose value is an object where the attributes of the City Object are listed.</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"geographicalExtent"</code> (the axis-aligned bounding box of the City Object), whose value is an array with 6 values: <code>[minx, miny, minz, maxx, maxy, maxz]</code></p>
</li><li data-md="">
<p><strong>may</strong> have one member <code>"children"</code>, which consists of an array of the IDs (of type string) of the 2nd-level City Objects that are part of the City Object. Only the direct children of the City Object are listed, not the grand-children. Also, a City Object can have different types of City Objects as children, eg a <code>"Building"</code> can have both as children <code>"BuildingPart"</code> and <code>"BuildingInstallation"</code>. The order of the children in the array is not relevant.</p>
</li></ul>
<p>A City Object of type 2nd-level:</p>
<ul>
<li data-md="">
<p><strong>must</strong> have one member <code>"parents"</code>, which consists of an array of the IDs (of type string) of the City Objects that are its parents. For the City Objects in the core module of CityJSON, this array will always be of size 1 (only one parent). New City Objects defined in extensions can have more than one parents.</p>
</li><li data-md="">
<p><strong>may</strong> have one member <code>"children"</code>, and that the <code>"children"</code> array only references the City Objects that are one level below the the current one in the hierarchy. For instance a <code>"BuildingPart"</code> that contains a <code>"BuildingInstallation"</code>.</p>
</li></ul>
<pre class="language-json highlight"><c- f="">"CityObjects"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"id-1"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Building"</c-><c- p="">,</c->
    <c- f="">"geographicalExtent"</c-><c- p="">:</c-> <c- p="">[</c-> <c- mf="">84710.1</c-><c- p="">,</c-> <c- mf="">446846.0</c-><c- p="">,</c-> <c- mf="">-5.3</c-><c- p="">,</c-> <c- mf="">84757.1</c-><c- p="">,</c-> <c- mf="">446944.0</c-><c- p="">,</c-> <c- mf="">40.9</c-> <c- p="">],</c-> 
    <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c-> 
      <c- f="">"measuredHeight"</c-><c- p="">:</c-> <c- mf="">22.3</c-><c- p="">,</c->
      <c- f="">"roofType"</c-><c- p="">:</c-> <c- u="">"gable"</c-><c- p="">,</c->
      <c- f="">"owner"</c-><c- p="">:</c-> <c- u="">"Elvis Presley"</c->
    <c- p="">},</c->
    <c- f="">"children"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"id-2"</c-><c- p="">],</c->
    <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[{</c->...<c- p="">}]</c->
  <c- p="">},</c->
  <c- f="">"id-2"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"BuildingPart"</c-><c- p="">,</c-> 
    <c- f="">"parents"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"id-1"</c-><c- p="">],</c->
    <c- f="">"children"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"id-3"</c-><c- p="">],</c->
    ...
  <c- p="">},</c->
  <c- f="">"id-3"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"BuildingInstallation"</c-><c- p="">,</c-> 
    <c- f="">"parents"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"id-2"</c-><c- p="">],</c->
    ...
  <c- p="">},</c->
  <c- f="">"id-4"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"LandUse"</c-><c- p="">,</c-> 
    ...
  <c- p="">}</c->
<c- p="">}</c->
</pre>
<p>A minimal valid City Object (<code>"Building"</code> in this case, but any 1st-level could apply) is:</p>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Building"</c->
<c- p="">}</c->
</pre>
<p>And a minimal 2nd-level valid City Object (<code>"BuildingPart"</code> in this case, but any 2nd-level could apply) is:</p>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"BuildingPart"</c-><c- p="">,</c-> 
  <c- f="">"parents"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"id-parent"</c-><c- p="">]</c->
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="2.1" id="attributes-for-all-city-objects"><span class="secno">2.1. </span><span class="content">Attributes for all City Objects</span><a class="self-link" href="#attributes-for-all-city-objects"></a></h3>
<p>The attributes of a given City Object are not prescribed (unlike in CityGML).
This means that the <code>"attributes"</code> is a JSON object and its content is a JSON key-value pair ("owner" in the example above is one such attribute).</p>
<pre class="language-json highlight"><c- f="">"CityObjects"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"id-1"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"LandUse"</c-><c- p="">,</c-> 
    <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c-> 
      <c- f="">"function"</c-><c- p="">:</c-> <c- u="">"Industry and Business"</c-><c- p="">,</c->
      <c- f="">"area"</c-><c- p="">:</c-> <c- u="">"120m^2"</c->
    <c- p="">},</c->
    <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[{</c->...<c- p="">}]</c->
  <c- p="">},</c->
  <c- f="">"id-2"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"WaterBody"</c-><c- p="">,</c-> 
    <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c-> 
      <c- f="">"name"</c-><c- p="">:</c-> <c- u="">"Lake Black"</c->
    <c- p="">},</c->
    <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[{</c->...<c- p="">}]</c->
  <c- p="">}</c->
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="2.2" id="bridge"><span class="secno">2.2. </span><span class="content">Bridge</span><a class="self-link" href="#bridge"></a></h3>
<div class="assertion"> See the CityGML v3.0.0 <a href="https://docs.ogc.org/is/20-010/20-010.html#toc44">Bridge module</a> for more details. </div>
<p>Six City Objects are related to bridges:</p>
<ul>
<li data-md="">
<p><code>"Bridge"</code></p>
</li><li data-md="">
<p><code>"BridgePart"</code></p>
</li><li data-md="">
<p><code>"BridgeInstallation"</code></p>
</li><li data-md="">
<p><code>"BridgeConstructiveElement"</code></p>
</li><li data-md="">
<p><code>"BridgeRoom"</code></p>
</li><li data-md="">
<p><code>"BridgeFurniture"</code></p>
</li></ul>
<p>The geometry of both <code>"Bridge"</code> and <code>"BridgePart"</code> can only be represented with these Geometry Objects: (1) <code>"Solid"</code>, (2) <code>"CompositeSolid"</code>, (3) <code>"MultiSurface"</code>, (4) <code>"CompositeSurface"</code>.
The geometry of the four other objects can be represented with any of the Geometry Objects.</p>
<p>A City Object of type <code>"Bridge"</code> or <code>"BridgePart"</code> may have a member <code>"address"</code>, whose value is an array of JSON objects listing the potentially several addresses of that bridge .
The properties of an address JSON object are free, to accommodate the different ways addresses are described in different countries.</p>
<pre class="language-json highlight"><c- f="">"CityObjects"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"LondonTower"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Bridge"</c-><c- p="">,</c-> 
    <c- f="">"address"</c-><c- p="">:</c-> <c- p="">[</c->
      <c- p="">{</c->
        <c- f="">"City"</c-><c- p="">:</c-> <c- u="">"London"</c-><c- p="">,</c->
        <c- f="">"Country"</c-><c- p="">:</c-> <c- u="">"UK"</c->
      <c- p="">}</c->
    <c- p="">],</c->
    <c- f="">"children"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"Bext1"</c-><c- p="">,</c-> <c- u="">"Bext2"</c-><c- p="">,</c-> <c- u="">"Inst-2017-11-14"</c-><c- p="">],</c->
    <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[{</c->
      <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"MultiSurface"</c-><c- p="">,</c->
      <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"2"</c-><c- p="">,</c->
      <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
        <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">]],</c-> 
        <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]],</c-> 
        <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]],</c-> 
        <c- p="">[[</c-><c- mi="">1</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">]],</c-> 
        <c- p="">[[</c-><c- mi="">2</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">]],</c-> 
        <c- p="">[[</c-><c- mi="">3</c-><c- p="">,</c-> <c- mi="">0</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]]</c->
      <c- p="">]</c->
    <c- p="">}]</c->    
  <c- p="">}</c->
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="2.3" id="building"><span class="secno">2.3. </span><span class="content">Building</span><a class="self-link" href="#building"></a></h3>
<div class="assertion"> See the CityGML v3.0.0 <a href="https://docs.ogc.org/is/20-010/20-010.html#toc45">Building module</a> for more details. </div>
<p>Eight City Objects are related to buildings:</p>
<ul>
<li data-md="">
<p><code>"Building"</code></p>
</li><li data-md="">
<p><code>"BuildingPart"</code></p>
</li><li data-md="">
<p><code>"BuildingInstallation"</code></p>
</li><li data-md="">
<p><code>"BuildingConstructiveElement"</code></p>
</li><li data-md="">
<p><code>"BuildingFurniture"</code></p>
</li><li data-md="">
<p><code>"BuildingStorey"</code></p>
</li><li data-md="">
<p><code>"BuildingRoom"</code></p>
</li><li data-md="">
<p><code>"BuildingUnit"</code></p>
</li></ul>
<p>The geometry of <code>"Building"</code>, <code>"BuildingPart"</code>, <code>"BuildingStorey"</code>, <code>"BuildingRoom"</code>,
and <code>"BuildingUnit"</code> can only be represented with these Geometry Objects: (1) <code>"Solid"</code>, (2) <code>"CompositeSolid"</code>, (3) <code>"MultiSurface"</code>, (4) <code>"CompositeSurface"</code>.</p>
<p>All of the eight, except <code>"Building"</code>, must have a <code>"parents"</code> property.
The installations, furnitures, and subdivisions can have as parents a <code>"Building"</code>, a <code>"BuildingPart"</code>, or a <code>"BuildingRoom"</code>.</p>
<p>The geometry of <code>"BuildingInstallation"</code>, <code>"BuildingConstructiveElement"</code>, or <code>"BuildingFurniture"</code> objects can be represented with any of the Geometry Objects.</p>
<p>A City Object of type <code>"Building"</code>, <code>"BuildingPart"</code> or <code>"BuildingUnit"</code> may have a member <code>"address"</code>, whose value is an array of JSON objects listing the potentially several addresses of that building (an apartment building could contain several for instance).
The properties of an address JSON object are free, to accommodate the different ways addresses are described in different countries.
If a location is necessary (eg to locate the position of the front door) then a property <code>"location"</code> should be used, and it should contain a <code>"MultiPoint"</code>.</p>
<pre class="language-json highlight"><c- f="">"CityObjects"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"id-1"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Building"</c-><c- p="">,</c-> 
    <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c-> 
      <c- f="">"roofType"</c-><c- p="">:</c-> <c- u="">"gabled roof"</c->
    <c- p="">},</c->
    <c- f="">"geographicalExtent"</c-><c- p="">:</c-> <c- p="">[</c-> <c- mf="">84710.1</c-><c- p="">,</c-> <c- mf="">446846.0</c-><c- p="">,</c-> <c- mf="">-5.3</c-><c- p="">,</c-> <c- mf="">84757.1</c-><c- p="">,</c-> <c- mf="">446944.0</c-><c- p="">,</c-> <c- mf="">40.9</c-> <c- p="">],</c->
    <c- f="">"children"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"id-56"</c-><c- p="">,</c-> <c- u="">"id-832"</c-><c- p="">,</c-> <c- u="">"mybalcony"</c-><c- p="">]</c->
  <c- p="">},</c->
  <c- f="">"id-56"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"BuildingPart"</c-><c- p="">,</c-> 
    <c- f="">"parents"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"id-1"</c-><c- p="">],</c->
    ...
  <c- p="">},</c->
  <c- f="">"mybalcony"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"BuildingInstallation"</c-><c- p="">,</c-> 
    <c- f="">"parents"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"id-1"</c-><c- p="">],</c->
    ...
  <c- p="">}</c->
  ...
<c- p="">}</c->
</pre>
<pre class="language-json highlight"><c- f="">"myroom"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"BuildingRoom"</c-><c- p="">,</c-> 
  <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"usage"</c-><c- p="">:</c-> <c- u="">"living room"</c->
  <c- p="">},</c->
  <c- f="">"parents"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"id-1"</c-><c- p="">],</c->
  <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Solid"</c-><c- p="">,</c->
    <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"2"</c-><c- p="">,</c->
    <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
      <c- p="">[</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]],</c-> ... <c- p="">]</c->
    <c- p="">]</c->
  <c- p="">}]</c->    
<c- p="">}</c->               
</pre>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Building"</c-><c- p="">,</c-> 
  <c- f="">"address"</c-><c- p="">:</c-> <c- p="">[</c->
    <c- p="">{</c->
      <c- f="">"Country"</c-><c- p="">:</c-> <c- u="">"Canada"</c-><c- p="">,</c->
      <c- f="">"Locality"</c-><c- p="">:</c-> <c- u="">"Chibougamau"</c-><c- p="">,</c->
      <c- f="">"ThoroughfareNumber"</c-><c- p="">:</c-> <c- u="">"1"</c-><c- p="">,</c->
      <c- f="">"ThoroughfareName"</c-><c- p="">:</c-> <c- u="">"rue de la Patate"</c-><c- p="">,</c->
      <c- f="">"Postcode"</c-><c- p="">:</c-> <c- u="">"H0H 0H0"</c-><c- p="">,</c->
      <c- f="">"location"</c-><c- p="">:</c-> <c- p="">{</c->
        <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"MultiPoint"</c-><c- p="">,</c->
        <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"1"</c-><c- p="">,</c->
        <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c-><c- mi="">231</c-><c- p="">]</c->
      <c- p="">}</c->
    <c- p="">}</c->
  <c- p="">]</c->
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="2.4" id="cityfurniture"><span class="secno">2.4. </span><span class="content">CityFurniture</span><a class="self-link" href="#cityfurniture"></a></h3>
<div class="assertion"> See the CityGML v3.0.0 <a href="https://docs.ogc.org/is/20-010/20-010.html#toc32">CityFurniture module</a> for more details. </div>
<p>The geometry of a City Object of type <code>"CityFurniture"</code> can be any Geometry Object.</p>
<pre class="language-json highlight"><c- f="">"mystopsign"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"CityFurniture"</c-><c- p="">,</c-> 
  <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c-> 
    <c- f="">"function"</c-><c- p="">:</c-> <c- u="">"bus stop"</c->
  <c- p="">},</c->
  <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"MultiSurface"</c-><c- p="">,</c->
    <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"2"</c-><c- p="">,</c->
    <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
      <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]]</c->
    <c- p="">]</c->
  <c- p="">}]</c->
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="2.5" id="cityobjectgroup"><span class="secno">2.5. </span><span class="content">CityObjectGroup</span><a class="self-link" href="#cityobjectgroup"></a></h3>
<div class="assertion"> See the CityGML v3.0.0 <a href="https://docs.ogc.org/is/20-010/20-010.html#toc33">CityObjectGroup module</a> for more details. </div>
<p>The CityGML concept of <em>groups</em>, where City Objects are aggregated based on certain criteria (think of a neighbourhood in a city for instance), is possible in CityJSON.
The group is a City Object, and it can contain, if needed, a geometry (the polygon representing the neighbourhood for instance).</p>
<p>Since a <code>"CityObjectGroup"</code> is also a City Object, it can be part of another group.</p>
<p>A City Object of type <code>"CityObjectGroup"</code>:</p>
<ul>
<li data-md="">
<p><strong>must</strong> have a member <code>"children"</code>, whose value is an array of the IDs of the City Objects that the group contains. As for other City Objects, the City Objects must have the ID of the group in <code>"parents"</code>.</p>
</li><li data-md="">
<p><strong>may</strong> have a member <code>"children_roles"</code>, whose value is an array of strings describing the role of each City Object in the group; it must be of the same length as that of <code>"children"</code>.</p>
</li><li data-md="">
<p><strong>may</strong> have a member <code>"attributes"</code>.</p>
</li><li data-md="">
<p><strong>may</strong> have a member <code>"geometry"</code>. Notice that the <code>"lod"</code> property is rather meaningless, but is used to enforce uniformity with all the other geometries.</p>
</li></ul>
<pre class="language-json highlight"><c- f="">"CityObjects"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"my-neighbourhood"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"CityObjectGroup"</c-><c- p="">,</c->
    <c- f="">"children"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"building1"</c-><c- p="">,</c-> <c- u="">"building2"</c-><c- p="">,</c-> <c- u="">"building666"</c-><c- p="">]</c->
  <c- p="">}</c->
<c- p="">}</c->
</pre>
<pre class="language-json highlight"><c- f="">"CityObjects"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"my-neighbourhood"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"CityObjectGroup"</c-><c- p="">,</c->
    <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c->
      <c- f="">"location"</c-><c- p="">:</c-> <c- u="">"Chibougamau Sud"</c->
    <c- p="">},</c->
    <c- f="">"children"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"building1"</c-><c- p="">,</c-> <c- u="">"building666"</c-><c- p="">],</c->
    <c- f="">"children_roles"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"residential building"</c-><c- p="">,</c-> <c- u="">"voting location"</c-><c- p="">],</c->
    <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[{</c->
      <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"MultiSurface"</c-><c- p="">,</c->
      <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"2"</c-><c- p="">,</c->
      <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c-> <c- p="">[[</c-><c- mi="">2</c-><c- p="">,</c-> <c- mi="">41</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">77</c-><c- p="">]]</c-> <c- p="">]</c->
    <c- p="">}]</c->
  <c- p="">}</c->
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="2.6" id="landuse"><span class="secno">2.6. </span><span class="content">LandUse</span><a class="self-link" href="#landuse"></a></h3>
<div class="assertion"> See the CityGML v3.0.0 <a href="https://docs.ogc.org/is/20-010/20-010.html#toc36">LandUse module</a> for more details. </div>
<p>The geometry of a City Object of type <code>"LandUse"</code> can be of type <code>"MultiSurface"</code> or <code>"CompositeSurface"</code>.</p>
<pre class="language-json highlight"><c- f="">"oneparcel"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"LandUse"</c-><c- p="">,</c-> 
  <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"MultiSurface"</c-><c- p="">,</c->
    <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"1"</c-><c- p="">,</c->
    <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
      <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]]</c->
    <c- p="">]</c->
  <c- p="">}]</c->    
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="2.7" id="otherconstruction"><span class="secno">2.7. </span><span class="content">OtherConstruction</span><a class="self-link" href="#otherconstruction"></a></h3>
<div class="assertion"> See the CityGML v3.0.0 <a href="https://docs.ogc.org/is/20-010/20-010.html#toc43">Construction module</a> for more details (OtherConstruction is one class). </div>
<p>This is used for constructions that are not buildings, bridges, or tunnels.
Examples are:</p>
<ul>
<li data-md="">
<p>electricity pylon</p>
</li><li data-md="">
<p>fence</p>
</li><li data-md="">
<p>permanent water tank</p>
</li><li data-md="">
<p>pontoon</p>
</li><li data-md="">
<p>railway platform</p>
</li><li data-md="">
<p>shed</p>
</li><li data-md="">
<p>windmill</p>
</li></ul>
<p>The geometry of a City Object of type <code>"OtherConstruction"</code> can be any Geometry Object.</p>
<pre class="language-json highlight"><c- f="">"mypylon"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"OtherConstruction"</c-><c- p="">,</c-> 
  <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c-> 
    <c- f="">"class"</c-><c- p="">:</c-> <c- u="">"windmill"</c-><c- p="">,</c->
    <c- f="">"conditionOfConstruction"</c-><c- p="">:</c-> <c- u="">"underConstruction"</c->
  <c- p="">},</c->
  <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"MultiSurface"</c-><c- p="">,</c->
    <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"2"</c-><c- p="">,</c->
    <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
       <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]],</c-> ...
    <c- p="">]</c->
  <c- p="">}]</c-> 
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="2.8" id="plantcover"><span class="secno">2.8. </span><span class="content">PlantCover</span><a class="self-link" href="#plantcover"></a></h3>
<div class="assertion"> See the CityGML v3.0.0 <a href="https://docs.ogc.org/is/20-010/20-010.html#toc40">Vegetation module</a> for more details (PlantCover is one class). </div>
<p>The geometry of a City Object of type <code>"PlantCover"</code> can be of type: (1) <code>"Solid"</code>, (2) <code>"CompositeSolid"</code>, (3) <code>"MultiSolid"</code>, (4) <code>"MultiSurface"</code>, (5) <code>"CompositeSurface"</code>.</p>
<pre class="language-json highlight"><c- f="">"myplants"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"PlantCover"</c-><c- p="">,</c-> 
  <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c-> 
    <c- f="">"averageHeight"</c-><c- p="">:</c-> <c- mf="">11.05</c->
  <c- p="">},</c->
  <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"MultiSolid"</c-><c- p="">,</c->
    <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"2"</c-><c- p="">,</c->
    <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
      <c- p="">[</c->
        <c- p="">[</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">10</c-><c- p="">,</c-> <c- mi="">13</c-><c- p="">,</c-> <c- mi="">22</c-><c- p="">,</c-> <c- mi="">31</c-><c- p="">]]</c-> <c- p="">]</c->
      <c- p="">],</c->
      <c- p="">[</c->
        <c- p="">[</c-> <c- p="">[[</c-><c- mi="">5</c-><c- p="">,</c-> <c- mi="">34</c-><c- p="">,</c-> <c- mi="">31</c-><c- p="">,</c-> <c- mi="">12</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">44</c-><c- p="">,</c-> <c- mi="">54</c-><c- p="">,</c-> <c- mi="">62</c-><c- p="">,</c-> <c- mi="">74</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">111</c-><c- p="">,</c-> <c- mi="">123</c-><c- p="">,</c-> <c- mi="">922</c-><c- p="">,</c-> <c- mi="">66</c-><c- p="">]]</c-> <c- p="">]</c->
      <c- p="">]</c->  
    <c- p="">]</c->
  <c- p="">}]</c->    
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="2.9" id="solitaryvegetationobject"><span class="secno">2.9. </span><span class="content">SolitaryVegetationObject</span><a class="self-link" href="#solitaryvegetationobject"></a></h3>
<div class="assertion"> See the CityGML v3.0.0 <a href="https://docs.ogc.org/is/20-010/20-010.html#toc40">Vegetation module</a> for more details (SolitaryVegetationObject is one class). </div>
<p>The geometry of a City Object of type <code>"SolitaryVegetationObject"</code> can be any Geometry Object.</p>
<pre class="language-json highlight"><c- f="">"onebigtree"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"SolitaryVegetationObject"</c-><c- p="">,</c-> 
  <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c-> 
    <c- f="">"trunkDiameter"</c-><c- p="">:</c-> <c- mf="">5.3</c-><c- p="">,</c->
    <c- f="">"crownDiameter"</c-><c- p="">:</c-> <c- mf="">11.0</c->
  <c- p="">},</c->
  <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"MultiPoint"</c-><c- p="">,</c->
    <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"1"</c-><c- p="">,</c->
    <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c-><c- mi="">1</c-><c- p="">]</c->
  <c- p="">}]</c->
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="2.10" id="tinrelief"><span class="secno">2.10. </span><span class="content">TINRelief</span><a class="self-link" href="#tinrelief"></a></h3>
<div class="assertion"> See the CityGML v3.0.0 <a href="https://docs.ogc.org/is/20-010/20-010.html#toc38">Relief module</a> for more details (TINRelief is one class). </div>
<p>The geometry of a City Object of type <code>"TINRelief"</code> can only be of type <code>"CompositeSurface"</code>.</p>
<p>CityJSON does not define a specific Geometry Object for a TIN (triangulated irregular network), it is simply a CompositeSurface for which every surface is a triangle (thus a polygon having 3 vertices, and no interior ring).</p>
<p>Notice that in practice any <code>"CompositeSurface"</code> is allowed for encoding a terrain, and that arbitrary polygons could also be used (not just triangles).</p>
<pre class="language-json highlight"><c- f="">"myterrain01"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"TINRelief"</c-><c- p="">,</c-> 
  <c- f="">"geographicalExtent"</c-><c- p="">:</c-> <c- p="">[</c-> <c- mf="">84710.1</c-><c- p="">,</c-> <c- mf="">446846.0</c-><c- p="">,</c-> <c- mf="">-5.3</c-><c- p="">,</c-> <c- mf="">84757.1</c-><c- p="">,</c-> <c- mf="">446944.0</c-><c- p="">,</c-> <c- mf="">40.9</c-> <c- p="">],</c->
  <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"CompositeSurface"</c-><c- p="">,</c->
    <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"1"</c-><c- p="">,</c->
    <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
       <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">1</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">2</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">3</c-><c- p="">,</c-> <c- mi="">0</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]]</c->
    <c- p="">]</c->
  <c- p="">}]</c->    
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="2.11" id="transportation"><span class="secno">2.11. </span><span class="content">Transportation</span><a class="self-link" href="#transportation"></a></h3>
<div class="assertion"> See the CityGML v3.0.0 <a href="https://docs.ogc.org/is/20-010/20-010.html#toc39">Transportation module</a> for more details. </div>
<p>Four City Objects are related to transportation:</p>
<ul>
<li data-md="">
<p><code>"Road"</code></p>
</li><li data-md="">
<p><code>"Railway"</code></p>
</li><li data-md="">
<p><code>"Waterway"</code></p>
</li><li data-md="">
<p><code>"TransportSquare"</code> (to model for instance parking lots and squares)</p>
</li></ul>
<p>Observe that the "Section", "Intersection", and "Track" classes from CityGML are omitted because they simply can be handled with specific attributes.</p>
<pre class="language-json highlight"><c- f="">"ma_rue"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Road"</c-><c- p="">,</c-> 
  <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"class"</c-><c- p="">:</c-> <c- u="">"backwards"</c-><c- p="">,</c->
    <c- f="">"clearanceSpace"</c-><c- p="">:</c-> <c- mf="">2.23</c-><c- p="">,</c->
    <c- f="">"clearanceSpaceUnit"</c-><c- p="">:</c-> <c- u="">"meter"</c->
  <c- p="">},</c->
  <c- f="">"children"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"sect1"</c-><c- p="">,</c-> <c- u="">"sect2"</c-><c- p="">],</c->
  <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[</c->...<c- p="">]</c->
<c- p="">}</c->
<c- f="">"sect1"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Road"</c-><c- p="">,</c-> 
  <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"class"</c-><c- p="">:</c-> <c- u="">"section"</c->
  <c- p="">},</c->
  <c- f="">"parents"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"ma_rue"</c-><c- p="">],</c->
  <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[</c->...<c- p="">],</c->
<c- p="">}</c->
</pre>
<p>Similarly, the CityGML classes "TrafficArea", "AuxiliaryTrafficArea", "Marking", and "Hole" are implemented as semantic surface (see <a href="#semantics-of-geometric-primitives">§ 3.3 Semantics of geometric primitives</a>).
That is, the surface representing a road should be split into sub-surfaces (therefore forming a <code>"MultiSurface"</code> or a <code>"CompositeSurface"</code>), and each of the sub-surfaces has semantics.</p>
<pre class="language-json highlight"><c- f="">"ma_rue"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Road"</c-><c- p="">,</c-> 
  <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"MultiSurface"</c-><c- p="">,</c->
    <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"2"</c-><c- p="">,</c->
    <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
       <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">666</c-><c- p="">,</c-> <c- mi="">12</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">20</c-><c- p="">,</c-> <c- mi="">21</c-><c- p="">,</c-> <c- mi="">75</c-><c- p="">]]</c->
    <c- p="">]</c->
  <c- p="">}],</c->
  <c- f="">"semantics"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"surfaces"</c-><c- p="">:</c-> <c- p="">[</c->
      <c- p="">{</c->
        <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"TrafficArea"</c-><c- p="">,</c->
        <c- f="">"surfaceMaterial"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"asphalt"</c-><c- p="">],</c->
        <c- f="">"function"</c-><c- p="">:</c-> <c- u="">"road"</c->
      <c- p="">},</c->
      <c- p="">{</c->
        <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"AuxiliaryTrafficArea"</c-><c- p="">,</c->
        <c- f="">"function"</c-><c- p="">:</c-> <c- u="">"green areas"</c->
      <c- p="">},</c->
      <c- p="">{</c->
        <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"TrafficArea"</c-><c- p="">,</c->
        <c- f="">"surfaceMaterial"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"dirt"</c-><c- p="">],</c->
        <c- f="">"function"</c-><c- p="">:</c-> <c- u="">"road"</c->
      <c- p="">}</c->
    <c- p="">],</c->
    <c- f="">"values"</c-><c- p="">:</c-> <c- p="">[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- kc="">null</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">]</c->
  <c- p="">}</c->
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="2.12" id="tunnel"><span class="secno">2.12. </span><span class="content">Tunnel</span><a class="self-link" href="#tunnel"></a></h3>
<div class="assertion"> See the CityGML v3.0.0 <a href="https://docs.ogc.org/is/20-010/20-010.html#toc46">Tunnel module</a> for more details. </div>
<p>Six City Objects are related to tunnels:</p>
<ul>
<li data-md="">
<p><code>"Tunnel"</code></p>
</li><li data-md="">
<p><code>"TunnelPart"</code></p>
</li><li data-md="">
<p><code>"TunnelInstallation"</code></p>
</li><li data-md="">
<p><code>"TunnelConstructiveElement"</code></p>
</li><li data-md="">
<p><code>"TunnelHollowSpace"</code></p>
</li><li data-md="">
<p><code>"TunnelFurniture"</code></p>
</li></ul>
<p>The geometry of both <code>"Tunnel"</code> and <code>"TunnelPart"</code> can only be represented with these Geometry Objects: (1) <code>"Solid"</code>, (2) <code>"CompositeSolid"</code>, (3) <code>"MultiSurface"</code>, (4) <code>"CompositeSurface"</code>.</p>
<p>The geometry of the other four objects can be represented with any of the Geometry Objects.</p>
<pre class="language-json highlight"><c- f="">"CityObjects"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"Lærdalstunnelen"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Tunnel"</c-><c- p="">,</c-> 
    <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c-> 
      <c- f="">"yearOfConstruction"</c-><c- p="">:</c-> <c- mi="">2000</c-><c- p="">,</c->
      <c- f="">"length"</c-><c- p="">:</c-> <c- u="">"24.5km"</c->
    <c- p="">},</c->
    <c- f="">"children"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"stoparea1"</c-><c- p="">],</c->
    <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[{</c->
      <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Solid"</c-><c- p="">,</c->
      <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"2"</c-><c- p="">,</c->
      <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
        <c- p="">[</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]]</c-> <c- p="">]</c->
      <c- p="">]</c->
    <c- p="">}]</c-> 
  <c- p="">}</c->
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="2.13" id="waterbody"><span class="secno">2.13. </span><span class="content">WaterBody</span><a class="self-link" href="#waterbody"></a></h3>
<div class="assertion"> See the CityGML v3.0.0 <a href="https://docs.ogc.org/is/20-010/20-010.html#toc42">WaterBody module</a> for more details. </div>
<p>The geometry of a City Object of type <code>"WaterBody"</code> can be of types: <code>"MultiLineString"</code>, <code>"MultiSurface"</code>, <code>"CompositeSurface"</code>, <code>"Solid"</code>, or <code>"CompositeSolid"</code>.</p>
<pre class="language-json highlight"><c- f="">"mygreatlake"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"WaterBody"</c-><c- p="">,</c-> 
  <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"usage"</c-><c- p="">:</c-> <c- u="">"leisure"</c-><c- p="">,</c->
  <c- p="">},</c->
  <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Solid"</c-><c- p="">,</c->
    <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"2"</c-><c- p="">,</c->
    <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
      <c- p="">[</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]]</c-> <c- p="">]</c->
    <c- p="">]</c->
  <c- p="">}]</c->    
<c- p="">}</c->               
</pre>
<h2 class="heading settled" data-level="3" id="geometry-objects"><span class="secno">3. </span><span class="content">Geometry Objects</span><a class="self-link" href="#geometry-objects"></a></h2>
<p>CityJSON defines the following 3D geometric primitives, all of which are embedded in 3D space (and therefore their vertices have <em>(x, y, z)</em> coordinates). The indexing mechanism of the format <a href="https://en.wikipedia.org/wiki/Wavefront_.obj_file">Wavefront OBJ</a> is reused, that is a geometry does not store the locations of its vertices, but points to a vertex in a list (property <code>"vertices"</code> in the CityJSON Object).</p>
<p>As is the case in CityGML, only linear and planar primitives are allowed; no curves or parametric surfaces can be represented.</p>
<p>A Geometry object is a JSON object for which the type member’s value is one of the following:</p>
<ol>
<li data-md="">
<p><code>"MultiPoint"</code></p>
</li><li data-md="">
<p><code>"MultiLineString"</code></p>
</li><li data-md="">
<p><code>"MultiSurface"</code></p>
</li><li data-md="">
<p><code>"CompositeSurface"</code></p>
</li><li data-md="">
<p><code>"Solid"</code></p>
</li><li data-md="">
<p><code>"MultiSolid"</code></p>
</li><li data-md="">
<p><code>"CompositeSolid"</code></p>
</li><li data-md="">
<p><code>"GeometryInstance"</code> (this is another type with different properties, see <a href="#geometry-templates">§ 3.4 Geometry templates</a>)</p>
</li></ol>
<p>A Geometry object:</p>
<ul>
<li data-md="">
<p><strong>must</strong> have one member with the name <code>"lod"</code>, whose value must be a string with the LoD identifying the level-of-detail (LoD) of the geometry. This can be either a single digit (following the CityGML standards), or "X.Y"-formatted if the <a href="https://3d.bk.tudelft.nl/lod">improved LoDs by TU Delft</a> are used.</p>
</li><li data-md="">
<p><strong>must</strong> have one member with the name <code>"boundaries"</code>, whose value is a hierarchy of arrays (the depth depends on the Geometry object) with integers. An integer refers to the index in the <code>"vertices"</code> array of the CityJSON object, and it is 0-based (ie the first element in the array has the index "0", the second one "1", etc.).</p>
</li><li data-md="">
<p><strong>may</strong> have one member <code>"semantics"</code>, whose value is a JSON Object, as defined below.</p>
</li><li data-md="">
<p><strong>may</strong> have one member <code>"material"</code>, whose value is a JSON Object, as defined below.</p>
</li><li data-md="">
<p><strong>may</strong> have one member <code>"texture"</code>, whose value is a JSON Object, as defined below.</p>
</li></ul>
<div class="note" role="note"> There is <em>no</em> Geometry Object for MultiGeometry. Instead, for the <code>"geometry"</code> member of a CityObject, the different geometries may be enumerated in the array (all with the same value for the member <code>"lod"</code>). </div>
<h3 class="heading settled" data-level="3.1" id="coordinates-of-the-vertices"><span class="secno">3.1. </span><span class="content">Coordinates of the vertices</span><a class="self-link" href="#coordinates-of-the-vertices"></a></h3>
<p>A CityJSON must have one member named <code>"vertices"</code>, whose value is an array of array of integers representing the coordinates of each vertex of the city model.
The position of a vertex in this array (0-based) is used to represent the <code>"boundaries"</code> of  Geometry Objects.</p>
<ul>
<li data-md="">
<p>one vertex <strong>must</strong> be an array with exactly 3 integers, representing the <em>(x,y,z)</em> location of the vertex before it is transformed to its real-world coordinates (with <a href="#transform-object">§ 4 Transform Object</a>).</p>
</li><li data-md="">
<p>the array of vertices may be empty.</p>
</li><li data-md="">
<p>vertices may be repeated.</p>
</li></ul>
<pre class="language-json highlight"><c- f="">"vertices"</c-><c- p="">:</c-> <c- p="">[</c->
  <c- p="">[</c-><c- mi="">102</c-><c- p="">,</c-> <c- mi="">103</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">],</c->
  <c- p="">[</c-><c- mi="">11</c-><c- p="">,</c-> <c- mi="">910</c-><c- p="">,</c-> <c- mi="">43</c-><c- p="">],</c->
  <c- p="">[</c-><c- mi="">25</c-><c- p="">,</c-> <c- mi="">744</c-><c- p="">,</c-> <c- mi="">22</c-><c- p="">],</c->
  ...
  <c- p="">[</c-><c- mi="">23</c-><c- p="">,</c-> <c- mi="">88</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">],</c->
  <c- p="">[</c-><c- mi="">8523</c-><c- p="">,</c-> <c- mi="">487</c-><c- p="">,</c-> <c- mi="">22</c-><c- p="">]</c->
<c- p="">]</c->
</pre>
<h3 class="heading settled" data-level="3.2" id="arrays-to-represent-boundaries"><span class="secno">3.2. </span><span class="content">Arrays to represent boundaries</span><a class="self-link" href="#arrays-to-represent-boundaries"></a></h3>
<p>The depth of the hierarchy of arrays depends on the Geometry object, and is as follows.</p>
<ul>
<li data-md="">
<p>A <code>"MultiPoint"</code> has an array with the indices of the vertices; this array can be empty.</p>
</li><li data-md="">
<p>A <code>"MultiLineString"</code> has an array of arrays, each containing the indices of a LineString.</p>
</li><li data-md="">
<p>A <code>"MultiSurface"</code>, or a <code>"CompositeSurface"</code>, has an array containing surfaces, each surface is modelled by an array of array, the first array being the exterior boundary of the surface, and the others the interior boundaries.</p>
</li><li data-md="">
<p>A <code>"Solid"</code> has an array of shells, the first array being the exterior shell of the solid, and the others the interior shells. Each shell has an array of surfaces, modelled in the exact same way as a MultiSurface/CompositeSurface.</p>
</li><li data-md="">
<p>A <code>"MultiSolid"</code>, or a <code>"CompositeSolid"</code>, has an array containing solids, each solid is modelled as above.</p>
</li></ul>
<div class="note" role="note"> JSON does not allow comments, the comments in the example below (C++ style: <code>//-- my comments</code>) are only to explain the cases, and should be removed. </div>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"MultiPoint"</c-><c- p="">,</c->
  <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"1"</c-><c- p="">,</c->
  <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c-><c- mi="">2</c-><c- p="">,</c-> <c- mi="">44</c-><c- p="">,</c-> <c- mi="">0</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]</c->
<c- p="">}</c->
</pre>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"MultiLineString"</c-><c- p="">,</c->
  <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"1"</c-><c- p="">,</c->
  <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
    <c- p="">[</c-><c- mi="">2</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">],</c-> <c- p="">[</c-><c- mi="">77</c-><c- p="">,</c-> <c- mi="">55</c-><c- p="">,</c-> <c- mi="">212</c-><c- p="">]</c->
  <c- p="">]</c->  
<c- p="">}</c->
</pre>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"MultiSurface"</c-><c- p="">,</c->
  <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"2"</c-><c- p="">,</c->
  <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
    <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]]</c->
  <c- p="">]</c->
<c- p="">}</c->
</pre>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Solid"</c-><c- p="">,</c->
  <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"2"</c-><c- p="">,</c->
  <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
    //<c- mi="">--</c-> ex<c- kc="">ter</c->ior shell
    <c- p="">[</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">22</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">1</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">]]</c-> <c- p="">],</c-> 
    //<c- mi="">--</c-> i<c- kc="">nter</c->ior shell
    <c- p="">[</c-> <c- p="">[[</c-><c- mi="">240</c-><c- p="">,</c-> <c- mi="">243</c-><c- p="">,</c-> <c- mi="">124</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">244</c-><c- p="">,</c-> <c- mi="">246</c-><c- p="">,</c-> <c- mi="">724</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">34</c-><c- p="">,</c-> <c- mi="">414</c-><c- p="">,</c-> <c- mi="">45</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">111</c-><c- p="">,</c-> <c- mi="">246</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">]]</c-> <c- p="">]</c-> 
  <c- p="">]</c->
<c- p="">}</c->
</pre>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"CompositeSolid"</c-><c- p="">,</c->
  <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"3"</c-><c- p="">,</c->
  <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
    <c- p="">[</c-> //<c- mi="">--</c-> <c- mi="">1</c->s<c- kc="">t</c-> Solid
      <c- p="">[</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">22</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">1</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">]]</c-> <c- p="">],</c->
      <c- p="">[</c-> <c- p="">[[</c-><c- mi="">240</c-><c- p="">,</c-> <c- mi="">243</c-><c- p="">,</c-> <c- mi="">124</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">244</c-><c- p="">,</c-> <c- mi="">246</c-><c- p="">,</c-> <c- mi="">724</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">34</c-><c- p="">,</c-> <c- mi="">414</c-><c- p="">,</c-> <c- mi="">45</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">111</c-><c- p="">,</c-> <c- mi="">246</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">]]</c-> <c- p="">]</c->
    <c- p="">],</c->
    <c- p="">[</c-> //<c- mi="">--</c-> <c- mi="">2</c->s<c- kc="">t</c-> Solid
      <c- p="">[</c-> <c- p="">[[</c-><c- mi="">666</c-><c- p="">,</c-> <c- mi="">667</c-><c- p="">,</c-> <c- mi="">668</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">74</c-><c- p="">,</c-> <c- mi="">75</c-><c- p="">,</c-> <c- mi="">76</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">880</c-><c- p="">,</c-> <c- mi="">881</c-><c- p="">,</c-> <c- mi="">885</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">111</c-><c- p="">,</c-> <c- mi="">122</c-><c- p="">,</c-> <c- mi="">226</c-><c- p="">]]</c-> <c- p="">]</c-> 
    <c- p="">]</c->    
  <c- p="">]</c->
<c- p="">}</c->
</pre>
<div class="note" role="note"> See <a href="https://www.cityjson.org/dev/geom-arrays/">this tutorial</a> for further explanation on the depth of arrays of Geometry objects. </div>
<h3 class="heading settled" data-level="3.3" id="semantics-of-geometric-primitives"><span class="secno">3.3. </span><span class="content">Semantics of geometric primitives</span><a class="self-link" href="#semantics-of-geometric-primitives"></a></h3>
<p>A Semantic Object is a JSON object representing the semantics of a primitive of a geometry (e.g. a surface of a building).
It may also represent other attributes of the primitive (e.g. the slope of the roof, or the solar potential). 
For surface and volumetric geometries (e.g. <code>MultiSurface</code>, <code>Solid</code> and <code>MultiSolid</code>), a primitive is a surface. 
If a geometry is a <code>MultiPoint</code> or a <code>MultiLineString</code>, then the primitives are its respective sub-parts: points and linestrings.</p>
<p>A Semantic Object:</p>
<ul>
<li data-md="">
<p><strong>must</strong> have one member with the name <code>"type"</code>, whose value is one of the allowed value. These depend on the City Object, see below.</p>
</li><li data-md="">
<p><strong>may</strong> have an attribute <code>"parent"</code>, whose value is an integer pointing to another Semantic Object of the same geometry (index of it, 0-based). This is used to explicitly represent to which wall or roof a window or door belongs to; there can be only one parent.</p>
</li><li data-md="">
<p><strong>may</strong> have an attribute <code>"children"</code>, whose value is an array of integers pointing to other Semantic Objects of the same geometry (index of it, 0-based). This is used to explicitly represent the openings (windows and doors) of walls and roofs.</p>
</li><li data-md="">
<p><strong>may</strong> have other attributes in the form of a JSON key-value pair, where the value must not be a JSON object (but a string/number/integer/boolean).</p>
</li></ul>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"RoofSurface"</c-><c- p="">,</c->
  <c- f="">"slope"</c-><c- p="">:</c-> <c- mf="">16.4</c-><c- p="">,</c->
  <c- f="">"children"</c-><c- p="">:</c-> <c- p="">[</c-><c- mi="">2</c-><c- p="">,</c-> <c- mi="">37</c-><c- p="">],</c->
  <c- f="">"solar-potential"</c-><c- p="">:</c-> <c- mi="">5</c->
<c- p="">}</c->

<c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Window"</c-><c- p="">,</c->
  <c- f="">"parent"</c-><c- p="">:</c-> <c- mi="">2</c-><c- p="">,</c->
  <c- f="">"type-glass"</c-><c- p="">:</c-> <c- u="">"HR++"</c->
<c- p="">}</c->
</pre>
<p><code>"Building"</code>, <code>"BuildingPart"</code>, <code>"BuildingRoom"</code>, <code>"BuildingStorey"</code>, <code>"BuildingUnit"</code>, and <code>"BuildingInstallation"</code> can have the following semantics:</p>
<ul>
<li data-md="">
<p><code>"RoofSurface"</code></p>
</li><li data-md="">
<p><code>"GroundSurface"</code></p>
</li><li data-md="">
<p><code>"WallSurface"</code></p>
</li><li data-md="">
<p><code>"ClosureSurface"</code></p>
</li><li data-md="">
<p><code>"OuterCeilingSurface"</code></p>
</li><li data-md="">
<p><code>"OuterFloorSurface"</code></p>
</li><li data-md="">
<p><code>"Window"</code></p>
</li><li data-md="">
<p><code>"Door"</code></p>
</li><li data-md="">
<p><code>"InteriorWallSurface"</code></p>
</li><li data-md="">
<p><code>"CeilingSurface"</code></p>
</li><li data-md="">
<p><code>"FloorSurface"</code></p>
</li></ul>
<p>For <code>"WaterBody"</code>:</p>
<ul>
<li data-md="">
<p><code>"WaterSurface"</code></p>
</li><li data-md="">
<p><code>"WaterGroundSurface"</code></p>
</li><li data-md="">
<p><code>"WaterClosureSurface"</code></p>
</li></ul>
<p>For Transportation (<code>"Road"</code>, <code>"Railway"</code>, <code>"TransportSquare"</code>):</p>
<ul>
<li data-md="">
<p><code>"TrafficArea"</code></p>
</li><li data-md="">
<p><code>"AuxiliaryTrafficArea"</code></p>
</li><li data-md="">
<p><code>"TransportationMarking"</code></p>
</li><li data-md="">
<p><code>"TransportationHole"</code></p>
</li></ul>
<p>It is possible to define and use other semantics, but these have to start with a <code>"+"</code>, inline with the rules defined in the <a href="#extensions">§ 8 Extensions</a>.</p>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"+SupportingWall"</c->
<c- p="">}</c->
</pre>
<p>Because in one given City Object (say a <code>"Building"</code>) several primitives can have the same semantics (think of a complex building that has been triangulated, there can be dozens of triangles used to model the same surface), a Semantic Object has to be declared once, and each of the primitives that are represented by it points to it. This is achieved by first declaring all the Semantic Objects in an array, and then having an array where each primitive links to Semantic Objects (position in the array).</p>
<p>If a Geometry object has semantics, then the Geometry object:</p>
<ul>
<li data-md="">
<p><strong>must</strong> have one member with the name <code>"semantics"</code>, whose values are two properties: <code>"surfaces"</code> and <code>"values"</code>. Both <strong>must</strong> be present.</p>
</li></ul>
<p>Also:</p>
<ul>
<li data-md="">
<p>the value of <code>"surfaces"</code> is an array of Semantic Objects.</p>
</li><li data-md="">
<p>the value of <code>"values"</code> is a hierarchy of arrays with integers. The depth depends on the Geometry object: for <code>MultiPoint</code> and <code>MultiLineString</code> this is a simple array of integers; for any other geometry type it is two less than the array <code>"boundaries"</code>. An integer refers to the index in the <code>"surfaces"</code> array of the same geometry, and it is 0-based. If one surface has no semantics, a value of <code>null</code> must be used.</p>
</li></ul>
<div class="note" role="note"> For legacy reasons, we use <code>"surfaces"</code> to name the array of Semantic Object. Nevertheless, this property is used for points and linestrings of <code>MultiPoints</code> and <code>MultiLineStrings</code>, as well. </div>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"MultiSurface"</c-><c- p="">,</c->
  <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"2"</c-><c- p="">,</c->
  <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
    <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">]],</c-> 
    <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]],</c-> 
    <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]],</c-> 
    <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">8</c-><c- p="">]],</c-> 
    <c- p="">[[</c-><c- mi="">10</c-><c- p="">,</c-> <c- mi="">12</c-><c- p="">,</c-> <c- mi="">23</c-><c- p="">,</c-> <c- mi="">48</c-><c- p="">]]</c->
  <c- p="">],</c->
  <c- f="">"semantics"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"surfaces"</c-> <c- p="">:</c-> <c- p="">[</c->
      <c- p="">{</c->
        <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"WallSurface"</c-><c- p="">,</c->
        <c- f="">"slope"</c-><c- p="">:</c-> <c- mf="">33.4</c-><c- p="">,</c->
        <c- f="">"children"</c-><c- p="">:</c-> <c- p="">[</c-><c- mi="">2</c-><c- p="">]</c->
      <c- p="">},</c-> 
      <c- p="">{</c->
        <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"RoofSurface"</c-><c- p="">,</c->
        <c- f="">"slope"</c-><c- p="">:</c-> <c- mf="">66.6</c->
      <c- p="">},</c->
      <c- p="">{</c->
        <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"+PatioDoor"</c-><c- p="">,</c->
        <c- f="">"parent"</c-><c- p="">:</c-> <c- mi="">0</c-><c- p="">,</c->
        <c- f="">"colour"</c-><c- p="">:</c-> <c- u="">"blue"</c->
      <c- p="">}</c->
    <c- p="">],</c->
    <c- f="">"values"</c-><c- p="">:</c-> <c- p="">[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">0</c-><c- p="">,</c-> <c- kc="">null</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">]</c->
  <c- p="">}</c->
<c- p="">}</c->
</pre>
<pre class="language-json highlight"><c- p="">{</c->
   <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"CompositeSolid"</c-><c- p="">,</c->
   <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"2.2"</c-><c- p="">,</c->
   <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
     <c- p="">[</c-> //<c- mi="">--</c-> <c- mi="">1</c->s<c- kc="">t</c-> Solid
       <c- p="">[</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">22</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">1</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">]]</c-> <c- p="">]</c->
     <c- p="">],</c->
     <c- p="">[</c-> //<c- mi="">--</c-> <c- mi="">2</c-><c- kc="">n</c->d Solid
       <c- p="">[</c-> <c- p="">[[</c-><c- mi="">666</c-><c- p="">,</c-> <c- mi="">667</c-><c- p="">,</c-> <c- mi="">668</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">74</c-><c- p="">,</c-> <c- mi="">75</c-><c- p="">,</c-> <c- mi="">76</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">880</c-><c- p="">,</c-> <c- mi="">881</c-><c- p="">,</c-> <c- mi="">885</c-><c- p="">]]</c-> <c- p="">]</c-> 
     <c- p="">]</c->    
   <c- p="">],</c->
   <c- f="">"semantics"</c-><c- p="">:</c-> <c- p="">{</c->
     <c- f="">"surfaces"</c-> <c- p="">:</c-> <c- p="">[</c->
       <c- p="">{</c->      
         <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"RoofSurface"</c->
       <c- p="">},</c-> 
       <c- p="">{</c->
         <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"WallSurface"</c->
       <c- p="">}</c->
     <c- p="">],</c->
     <c- f="">"values"</c-><c- p="">:</c-> <c- p="">[</c->
       <c- p="">[</c-> //<c- mi="">--</c-> <c- mi="">1</c->s<c- kc="">t</c-> Solid
         <c- p="">[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- kc="">null</c-><c- p="">]</c->
       <c- p="">],</c->
       <c- p="">[</c-> //<c- mi="">--</c-> <c- mi="">2</c-><c- kc="">n</c->d Solid ge<c- kc="">t</c-> all <c- kc="">null</c-> values
         <c- p="">[</c-><c- kc="">null</c-><c- p="">,</c-> <c- kc="">null</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">]</c->
       <c- p="">]</c->
     <c- p="">]</c->
   <c- p="">}</c->
 <c- p="">}</c->  
</pre>
<h3 class="heading settled" data-level="3.4" id="geometry-templates"><span class="secno">3.4. </span><span class="content">Geometry templates</span><a class="self-link" href="#geometry-templates"></a></h3>
<p>CityGML’s "ImplicitGeometries", better known in computer graphics as <em>templates</em>, are one method to compress files since the geometries (such as benches, lamp posts, and trees), need only be defined once.
In CityJSON, they are implemented differently from what is specified in CityGML: they are defined separately in the file, and each template can be reused. 
By contrast, in CityGML, the geometry used for a given City Object is reused by other City Objects, there is thus no central location where all templates are stored.</p>
<p>The Geometry Templates are defined as a JSON object that:</p>
<ul>
<li data-md="">
<p><strong>must</strong> have one member with the name <code>"templates"</code>, whose value is an array of Geometry Objects.</p>
</li><li data-md="">
<p><strong>must</strong> have one member with the name <code>"vertices-templates"</code>, whose value is an array of coordinates of each vertex of the templates (0-based indexing). The reason the vertices index are not global is to ensure that operations on the vertices (eg for CRS transformation, for <a href="#transform-object">§ 4 Transform Object</a>, or calculating the bounding box of a dataset) will not be affected by the templates (since they will often be defined locally, and translated/rotated/scaled to their final position).</p>
</li></ul>
<pre class="language-json highlight"><c- f="">"geometry-templates"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"templates"</c-><c- p="">:</c-> <c- p="">[</c->
    <c- p="">{</c->
      <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"MultiSurface"</c-><c- p="">,</c->
      <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"2.1"</c-><c- p="">,</c->
      <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c-> 
         <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]]</c->
      <c- p="">]</c->
    <c- p="">},</c->
    <c- p="">{</c->
      <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"MultiSurface"</c-><c- p="">,</c->
      <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"1.3"</c-><c- p="">,</c->
      <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c-> 
         <c- p="">[[</c-><c- mi="">1</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">2</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">3</c-><c- p="">,</c-> <c- mi="">0</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]]</c->
      <c- p="">]</c->
    <c- p="">}</c->
  <c- p="">],</c->
  <c- f="">"vertices-templates"</c-><c- p="">:</c-> <c- p="">[</c->
    <c- p="">[</c-><c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">0.5</c-><c- p="">,</c-> <c- mf="">0.0</c-><c- p="">],</c->
    ...
    <c- p="">[</c-><c- mf="">1.0</c-><c- p="">,</c-> <c- mf="">1.0</c-><c- p="">,</c-> <c- mf="">0.0</c-><c- p="">],</c->
    <c- p="">[</c-><c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">1.0</c-><c- p="">,</c-> <c- mf="">0.0</c-><c- p="">]</c->
  <c- p="">]</c->
<c- p="">}</c->
</pre>
<p>A given template can be used as the geometry (or as one of the geometries) of a City Object.
A new JSON object of type <code>"GeometryInstance"</code> is defined, and it:</p>
<ul>
<li data-md="">
<p><strong>must</strong> have one member with the name <code>"template"</code>, whose value is the position of the template in the <code>"geometry-templates"</code> (0-indexing).</p>
</li><li data-md="">
<p><strong>must</strong> have one member with the name <code>"boundaries"</code>, whose value is an array containing only one vertex index, which refers to one vertex in the <code>"vertices"</code> property of a CityJSON file. (This is the reference point from which the transformations are applied, it is the "referencePoint" in CityGML.)</p>
</li><li data-md="">
<p><strong>must</strong> have one member with the name <code>"transformationMatrix"</code>, whose value is a 4x4 matrix (thus 16 values in an array) defining the rotation/translation/scaling of the template. Note that these 16 values are ordered row-by-row, as the example below shows.</p>
</li></ul>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"SolitaryVegetationObject"</c-><c- p="">,</c-> 
  <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[</c->
    <c- p="">{</c->
      <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"GeometryInstance"</c-><c- p="">,</c->
      <c- f="">"template"</c-><c- p="">:</c-> <c- mi="">0</c-><c- p="">,</c->
      <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c-><c- mi="">372</c-><c- p="">],</c->
      <c- f="">"transformationMatrix"</c-><c- p="">:</c-> <c- p="">[</c->
        <c- mf="">2.0</c-><c- p="">,</c-> <c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">0.0</c-><c- p="">,</c->
        <c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">2.0</c-><c- p="">,</c-> <c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">0.0</c-><c- p="">,</c->
        <c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">2.0</c-><c- p="">,</c-> <c- mf="">0.0</c-><c- p="">,</c->
        <c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">1.0</c->
      <c- p="">]</c->
    <c- p="">}</c->
  <c- p="">]</c->
<c- p="">}</c->
</pre>
<div class="note" role="note"> The CityJSON website has a <a href="https://www.cityjson.org/dev/geom-templates/">page to help developers with Geometry Templates</a>, it contains simple examples, explains which transformations to apply to obtain world coordinates, and explains how matrices work (for instance, in the example above, a scaling of 2.0 is applied). </div>
<h2 class="heading settled" data-level="4" id="transform-object"><span class="secno">4. </span><span class="content">Transform Object</span><a class="self-link" href="#transform-object"></a></h2>
<p>To reduce the size of a CityJSON object (and thus the size of files) and to ensure that only a fixed number of digits is stored for the coordinates of the geometries, the coordinates of the vertices of the geometries are represented integer values.
We therefore need to store the scale factor and the translation needed to obtain the original coordinates (stored with floats/doubles).</p>
<p>A CityJSON object must therefore have one member <code>"transform"</code>, whose values are 2 mandatory JSON objects (<code>"scale"</code> and <code>"translate"</code>), both arrays with 3 values.</p>
<p>The <a href="https://github.com/topojson/topojson-specification/blob/master/README.md#212-transforms">scheme of TopoJSON (called quantization)</a> is reused, and here we simply add a third coordinate because our vertices are embedded in 3D space.</p>
<p>It should be noticed that only the <code>"vertices"</code> at the root of the CityJSON object are affected by the transformation, the vertices for the Geometric templates and textures are not.</p>
<p>To obtain the real position of a given vertex <em>v</em>, we must take the 3 values <em>vi</em> listed in the <code>"vertices"</code> member and:</p>
<pre>v[0] = (vi[0] * ["transform"]["scale"][0]) + ["transform"]["translate"][0]
v[1] = (vi[1] * ["transform"]["scale"][1]) + ["transform"]["translate"][1]
v[2] = (vi[2] * ["transform"]["scale"][2]) + ["transform"]["translate"][2]
</pre>
<p>The following <code>"transform"</code> means that 2 important digits are kept (thus millimetre level if meters are the units of the CRS), and the <code>"translate"</code> usually matches with the minimum values of the axis-aligned bounding box (but does not need to).</p>
<pre class="language-json highlight"><c- f="">"transform"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"scale"</c-><c- p="">:</c-> <c- p="">[</c-><c- mf="">0.001</c-><c- p="">,</c-> <c- mf="">0.001</c-><c- p="">,</c-> <c- mf="">0.001</c-><c- p="">],</c->
    <c- f="">"translate"</c-><c- p="">:</c-> <c- p="">[</c-><c- mf="">442464.879</c-><c- p="">,</c-> <c- mf="">5482614.692</c-><c- p="">,</c-> <c- mf="">310.19</c-><c- p="">]</c->
<c- p="">}</c->
</pre>
<h2 class="heading settled" data-level="5" id="metadata"><span class="secno">5. </span><span class="content">Metadata</span><a class="self-link" href="#metadata"></a></h2>
<p>The core of CityJSON supports the following six properties, these are compliant with the international standard <a href="https://www.iso.org/standard/53798.html">ISO19115</a>.</p>
<pre class="language-json highlight"><c- f="">"metadata"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"geographicalExtent"</c-><c- p="">:</c-> <c- p="">[</c-> <c- mf="">84710.1</c-><c- p="">,</c-> <c- mf="">446846.0</c-><c- p="">,</c-> <c- mf="">-5.3</c-><c- p="">,</c-> <c- mf="">84757.1</c-><c- p="">,</c-> <c- mf="">446944.0</c-><c- p="">,</c-> <c- mf="">40.9</c-> <c- p="">],</c->
  <c- f="">"identifier"</c-><c- p="">:</c-> <c- u="">"eaeceeaa-3f66-429a-b81d-bbc6140b8c1c"</c-><c- p="">,</c->
  <c- f="">"pointOfContact"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"contactName"</c-><c- p="">:</c-> <c- u="">"3D geoinformation group, Delft University of Technology"</c-><c- p="">,</c->
    <c- f="">"contactType"</c-><c- p="">:</c-> <c- u="">"organization"</c-><c- p="">,</c->
    <c- f="">"role"</c-><c- p="">:</c-> <c- u="">"owner"</c-><c- p="">,</c->
    <c- f="">"phone"</c-><c- p="">:</c-> <c- u="">"+31-6666666666"</c-><c- p="">,</c->
    <c- f="">"emailAddress"</c-><c- p="">:</c-> <c- u="">"3dgeoinfo-bk@tudelft.nl"</c-><c- p="">,</c->
    <c- f="">"website"</c-><c- p="">:</c-> <c- u="">"https://3d.bk.tudelft.nl"</c-><c- p="">,</c->
    <c- f="">"address"</c-><c- p="">:</c-> <c- u="">"Julianalaan 134, Delft 2628BL, the Netherlands"</c->
  <c- p="">},</c->
  <c- f="">"referenceDate"</c-><c- p="">:</c-> <c- u="">"1977-02-28"</c-><c- p="">,</c->
  <c- f="">"referenceSystem"</c-><c- p="">:</c-> <c- u="">"https://www.opengis.net/def/crs/EPSG/0/2355"</c-><c- p="">,</c->
  <c- f="">"title"</c-><c- p="">:</c-> <c- u="">"Buildings in LoD2.3 of Chibougamau, Québec"</c->
<c- p="">}</c->
</pre>
<div class="note" role="note"> The storage of additional ISO19115-compliant metadata attributes and/or of statistics related to 3D city models can be done with the <a href="https://github.com/cityjson/metadata-extended">MetadataExtended Extension</a>.
  Examples of extra attributes/properties that can be stored: point of contact for the dataset, lineage, statistics about the present LoDs, the presence of textures/materials, etc. </div>
<h3 class="heading settled" data-level="5.1" id="geographicalextent-bbox"><span class="secno">5.1. </span><span class="content">geographicalExtent (bbox)</span><a class="self-link" href="#geographicalextent-bbox"></a></h3>
<p>While this can be extracted from the dataset itself, it is often useful to store it.
It may be stored as an array with 6 values: <code>[minx, miny, minz, maxx, maxy, maxz]</code>.
Notice that these are in the real coordinates of the dataset (based on <a href="#referencesystem-crs">§ 5.5 referenceSystem (CRS)</a>) and not after the coordinates have been compressed with the <code>"transform"</code> property (<a href="#transform-object">§ 4 Transform Object</a>).</p>
<pre class="language-json highlight"><c- f="">"metadata"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"geographicalExtent"</c-><c- p="">:</c-> <c- p="">[</c-> <c- mf="">84710.1</c-><c- p="">,</c-> <c- mf="">446846.0</c-><c- p="">,</c-> <c- mf="">-5.3</c-><c- p="">,</c-> <c- mf="">84757.1</c-><c- p="">,</c-> <c- mf="">446944.0</c-><c- p="">,</c-> <c- mf="">40.9</c-> <c- p="">]</c->
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="5.2" id="identifier"><span class="secno">5.2. </span><span class="content">identifier</span><a class="self-link" href="#identifier"></a></h3>
<p>A unique identifier for the dataset.
It is recommend to use <a href="https://en.wikipedia.org/wiki/Universally_unique_identifier">universally unique identifier</a>, but it is not necessary.</p>
<pre class="language-json highlight"><c- f="">"metadata"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"identifier"</c-><c- p="">:</c-> <c- u="">"44574905-d2d2-4f40-8e96-d39e1ae45f70"</c->
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="5.3" id="pointofcontact"><span class="secno">5.3. </span><span class="content">pointOfContact</span><a class="self-link" href="#pointofcontact"></a></h3>
<p>The point of contact for the dataset.
It is a JSON object that</p>
<ul>
<li data-md="">
<p><strong>must</strong> have one member with the name <code>"contactName"</code>, whose value is the name of the contact</p>
</li><li data-md="">
<p><strong>must</strong> have one member with the name <code>"emailAddress"</code>, whose value is a string with the email</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"role"</code>, whose value describes the role that contact person/organisation has, it is one of the following: <code>"resourceProvider"</code>, <code>"custodian"</code>, <code>"owner"</code>, <code>"user"</code>, <code>"distributor"</code>, <code>"originator"</code>, <code>"pointOfContact"</code>, <code>"principalInvestigator"</code>, <code>"processor"</code>, <code>"publisher"</code>, <code>"author"</code>, <code>"sponsor"</code>, <code>"co-author"</code>, <code>"collaborator"</code>, <code>"editor"</code>, <code>"mediator"</code>, <code>"rightsHolder"</code>, <code>"contributor"</code>, <code>"funder"</code>, <code>"stakeholder"</code></p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"website"</code>, whose value is the URL of point of contact.</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"contactType"</code>, whose value is a string which is either <code>"individual"</code> or <code>"organization"</code>. For an <code>"organization"</code>, the <code>"website"</code> can also be given.</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"address"</code>, whose value is a string with the full address</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"phone"</code>, whose value is a string with the phone number</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"organization"</code>, whose value is the name of the organisation, to be used if the <code>"contactName"</code> is the name of a person</p>
</li></ul>
<pre class="language-json highlight"><c- f="">"pointOfContact"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"contactName"</c-><c- p="">:</c-> <c- u="">"Justin Trudeau"</c-><c- p="">,</c->
  <c- f="">"emailAddress"</c-><c- p="">:</c-> <c- u="">"justin.trudeau@parl.gc.ca"</c-><c- p="">,</c->
  <c- f="">"phone"</c-><c- p="">:</c-> <c- u="">"+1-613-992-4211"</c-><c- p="">,</c->
  <c- f="">"address"</c-><c- p="">:</c-> <c- u="">"24 Sussex Drive, Ottawa, Canada"</c-><c- p="">,</c->
  <c- f="">"contactType"</c-><c- p="">:</c-> <c- u="">"individual"</c-><c- p="">,</c->
  <c- f="">"role"</c-><c- p="">:</c-> <c- u="">"pointOfContact"</c->
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="5.4" id="referencedate"><span class="secno">5.4. </span><span class="content">referenceDate</span><a class="self-link" href="#referencedate"></a></h3>
<p>The date where the dataset was compiled, without the time of the day, only a <code>"full-date"</code> in <a href="https://tools.ietf.org/html/rfc3339#section-5.6">RFC 3339, Section 5.6</a> should be used.</p>
<pre class="language-json highlight"><c- f="">"metadata"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"referenceDate"</c-><c- p="">:</c-> <c- u="">"1977-02-28"</c->
<c- p="">}</c->
</pre>
<div class="note" role="note">
     JSON does not have a date type, and thus the representations defined by <a href="https://tools.ietf.org/html/rfc3339#section-5.6">RFC 3339, Section 5.6</a> should be used. A simple date is <code>"full-date"</code> (thus <code>"1977-07-11"</code> as a string), and should be used for the metadata above. 
    <p>Other attributes in a CityJSON object can also have a date with a time, and such an attribute is specified as a <code>"full-time"</code>. For example <code>"1985-04-12T23:20:50.52Z"</code> (stored as a string).</p>
</div>
<h3 class="heading settled" data-level="5.5" id="referencesystem-crs"><span class="secno">5.5. </span><span class="content">referenceSystem (CRS)</span><a class="self-link" href="#referencesystem-crs"></a></h3>
<p>The coordinate reference system (CRS) may be given as a URL, formatted this way according to the <a href="https://docs.opengeospatial.org/pol/09-048r5.html#_production_rule_for_specification_element_names">OGC Name Type Specification</a>:</p>
<pre>http://www.opengis.net/def/crs/{authority}/{version}/{code}
</pre>
<p>where <code>{authority}</code> designates the authority responsible for the definition of this CRS (usually "EPSG" or "OGC"), and where <code>{version}</code> designates the specific version of the CRS ("0" (zero) is used if there is no version).</p>
<p>For instance, for the Dutch national CRS in 3D:</p>
<pre class="language-json highlight"><c- f="">"metadata"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"referenceSystem"</c-><c- p="">:</c-> <c- u="">"https://www.opengis.net/def/crs/EPSG/0/7415"</c->
<c- p="">}</c->
</pre>
<p>Be aware that the CRS should be a three-dimensional one, ie the elevation/height values should be with respect to a specific datum.</p>
<div class="note" role="note"> Unlike in (City)GML where each object can have a different CRS (eg a wall of a building could theoretically have a different from the other walls used to represent the building), in CityJSON all the city objects need to be in the same CRS. </div>
<h3 class="heading settled" data-level="5.6" id="title①"><span class="secno">5.6. </span><span class="content">title</span><a class="self-link" href="#title①"></a></h3>
<p>A string describing the dataset.</p>
<pre class="language-json highlight"><c- f="">"metadata"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"title"</c-><c- p="">:</c-> <c- u="">"3D city model of Chibougamau, Canada"</c->
<c- p="">}</c->
</pre>
<h2 class="heading settled" data-level="6" id="appearance-object"><span class="secno">6. </span><span class="content">Appearance Object</span><a class="self-link" href="#appearance-object"></a></h2>
<p>Both textures and materials are supported in CityJSON, and the same mechanisms used in CityGML are reused, so the conversion back-and-forth is easy.
The material is represented with the <a href="http://www.web3d.org/documents/specifications/19775-1/V3.2/Part01/components/shape.html#Material">X3D</a> specifications, as is the case for CityGML. For the texture, the <a href="https://www.khronos.org/collada/">COLLADA standard</a> is reused, as is the case for CityGML. However:</p>
<ul>
<li data-md="">
<p>the CityGML class <code>GeoreferencedTexture</code> is not supported.</p>
</li><li data-md="">
<p>the CityGML class <code>TexCoordGen</code> is not supported, ie one must specify the UV coordinates in the texture files.</p>
</li><li data-md="">
<p>the major difference is that in CityGML each Material/Texture object keeps a list of the primitives using it, while in CityJSON it is the opposite: if a primitive has a Material/Texture then it is stated with the primitive (with a link to it).</p>
</li></ul>
<p>An Appearance Object is a JSON object that</p>
<ul>
<li data-md="">
<p><strong>may</strong> have one member with the name <code>"materials"</code>, whose value is an array of Material Objects.</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"textures"</code>, whose value is an array of Texture Objects.</p>
</li><li data-md="">
<p><strong>may</strong> have both <code>"materials"</code> and <code>"textures"</code>.</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"vertices-texture"</code>, whose value is an array of coordinates of each so-called UV vertex of the city model.</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"default-theme-texture"</code>, whose value is the name of the default theme for the appearance (a string). This can be used if geometries have more than one textures, so that a viewer displays the default one.</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"default-theme-material"</code>, whose value is the name of the default theme for the material (a string). This can be used if geometries have more than one textures, so that a viewer displays the default one.</p>
</li></ul>
<pre class="language-json highlight"><c- f="">"appearance"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"materials"</c-><c- p="">:</c-> <c- p="">[],</c->
  <c- f="">"textures"</c-><c- p="">:[],</c->
  <c- f="">"vertices-texture"</c-><c- p="">:</c-> <c- p="">[],</c->
  <c- f="">"default-theme-texture"</c-><c- p="">:</c-> <c- u="">"myDefaultTheme1"</c-><c- p="">,</c->
  <c- f="">"default-theme-material"</c-><c- p="">:</c-> <c- u="">"myDefaultTheme2"</c->
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="6.1" id="geometry-object-having-material-s"><span class="secno">6.1. </span><span class="content">Geometry Object having material(s)</span><a class="self-link" href="#geometry-object-having-material-s"></a></h3>
<p>Each surface in a Geometry Object can have one or more materials assigned to it. To store the material of a surface, a Geometry Object may have a member <code>"material"</code>, the value of this member is a collection of key-value pairs, where the key is the <em>theme</em> of the material, and the value is one JSON object that <strong>must</strong> contain either:</p>
<ul>
<li data-md="">
<p>one member <code>"values"</code>, whose value is a hierarchy of arrays with integers. Each integer refers to the position (0-based) in the <code>"materials"</code> member of the <code>"appearance"</code> member of the CityJSON object. If a surface has no material, then <code>null</code> should be used in the array. The depth of the array depends on the Geometry object, and is equal to the depth of the <code>"boundary"</code> array minus 2, because each surface (<code>[[]]</code>) gets one material.</p>
</li><li data-md="">
<p>one member <code>"value"</code>, whose value is one integer referring to the position (0-based) in the <code>"materials"</code> member of the <code>"appearance"</code> member of the CityJSON object. This is used because often the materials are used to colour full objects, and repetition of materials is not necessary.</p>
</li></ul>
<p>In the following, the Solid has 4 surfaces, and there are 2 themes ("irradiation" and "irradiation-2"). These could represent, for instance, the different colours based on different scenarios of an solar irradiation analysis. Notice that the last surface gets no material (for both themes), thus <code>null</code> is used.</p>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Solid"</c-><c- p="">,</c->
  <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"2.1"</c-><c- p="">,</c->
  <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
    <c- p="">[</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">1</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">]]</c-> <c- p="">]</c-> 
  <c- p="">],</c->
  <c- f="">"material"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"irradiation"</c-><c- p="">:</c-> <c- p="">{</c-> 
      <c- f="">"values"</c-><c- p="">:</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- kc="">null</c-><c- p="">]]</c-> 
    <c- p="">},</c->
    <c- f="">"irradiation-2"</c-><c- p="">:</c-> <c- p="">{</c-> 
      <c- f="">"values"</c-><c- p="">:</c-> <c- p="">[[</c-><c- mi="">2</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- kc="">null</c-><c- p="">]]</c-> 
    <c- p="">}</c->
  <c- p="">}</c->
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="6.2" id="geometry-object-having-texture-s"><span class="secno">6.2. </span><span class="content">Geometry Object having texture(s)</span><a class="self-link" href="#geometry-object-having-texture-s"></a></h3>
<p>To store the texture(s) of a surface, a Geometry Object may have a member with the value <code>"texture"</code>, its value is a collection of key-value pairs, where the key is the <em>theme</em> of the textures, and the value is one JSON object that must contain one member <code>"values"</code>, whose value is a hierarchy of arrays with integers. For each ring of each surface, the first value refers to the position (0-based) in the <code>"textures"</code> member of the <code>"appearance"</code> member of the CityJSON object. The other indices refer to the UV positions of the corresponding vertices (as listed in the <code>"boundaries"</code> member of the geometry). Each array representing a ring therefore has one more value than that to store its vertices.</p>
<p>The depth of the array depends on the Geometry object, and is equal to the depth of the <code>"boundary"</code> array.</p>
<p>In the following, the Solid has 4 surfaces, and there are 2 themes: "winter-textures" and "summer-textures" could for instance represent the textures during winter and summer.. Notice that the last 2 surfaces of the first theme gets no material, thus <code>null</code> is used.</p>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Solid"</c-><c- p="">,</c->
  <c- f="">"lod"</c-><c- p="">:</c-> <c- u="">"2.2"</c-><c- p="">,</c->
  <c- f="">"boundaries"</c-><c- p="">:</c-> <c- p="">[</c->
    <c- p="">[</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">3</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">4</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">7</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">,</c-> <c- mi="">4</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">1</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">]]</c-> <c- p="">]</c-> 
  <c- p="">],</c->
  <c- f="">"texture"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"winter-textures"</c-><c- p="">:</c-> <c- p="">{</c->
      <c- f="">"values"</c-><c- p="">:</c-> <c- p="">[</c->
        <c- p="">[</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">10</c-><c- p="">,</c-> <c- mi="">23</c-><c- p="">,</c-> <c- mi="">22</c-><c- p="">,</c-> <c- mi="">21</c-><c- p="">]],</c-> <c- p="">[[</c-><c- mi="">0</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">]],</c-> <c- p="">[[</c-><c- kc="">null</c-><c- p="">]],</c-> <c- p="">[[</c-><c- kc="">null</c-><c- p="">]]</c-> <c- p="">]</c->                  
      <c- p="">]</c->
    <c- p="">},</c->
    <c- f="">"summer-textures"</c-><c- p="">:</c-> <c- p="">{</c->
      <c- f="">"values"</c-><c- p="">:</c-> <c- p="">[</c->
        <c- p="">[</c-> 
          <c- p="">[[</c-><c- mi="">1</c-><c- p="">,</c-> <c- mi="">10</c-><c- p="">,</c-> <c- mi="">23</c-><c- p="">,</c-> <c- mi="">22</c-><c- p="">,</c-> <c- mi="">21</c-><c- p="">]],</c-> 
          <c- p="">[[</c-><c- mi="">1</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">,</c-> <c- mi="">2</c-><c- p="">,</c-> <c- mi="">6</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">]],</c-> 
          <c- p="">[[</c-><c- mi="">1</c-><c- p="">,</c-> <c- mi="">66</c-><c- p="">,</c-> <c- mi="">12</c-><c- p="">,</c-> <c- mi="">64</c-><c- p="">,</c-> <c- mi="">5</c-><c- p="">]],</c-> 
          <c- p="">[[</c-><c- mi="">2</c-><c- p="">,</c-> <c- mi="">99</c-><c- p="">,</c-> <c- mi="">21</c-><c- p="">,</c-> <c- mi="">16</c-><c- p="">,</c-> <c- mi="">25</c-><c- p="">]]</c-> 
        <c- p="">]</c->                  
      <c- p="">]</c->      
    <c- p="">}</c->
  <c- p="">}</c->     
<c- p="">}</c->        
</pre>
<h3 class="heading settled" data-level="6.3" id="material-object"><span class="secno">6.3. </span><span class="content">Material Object</span><a class="self-link" href="#material-object"></a></h3>
<p>A Material Object:</p>
<ul>
<li data-md="">
<p><strong>must</strong> have one member with the name <code>"name"</code>, whose value is a string identifying the material.</p>
</li><li data-md="">
<p><strong>may</strong> have the following members (their meaning is explained <a href="http://www.web3d.org/documents/specifications/19775-1/V3.2/Part01/components/shape.html#Material">there</a>):</p>
<ol>
<li data-md="">
<p><code>"ambientIntensity"</code>, whose value is a number between 0.0 and 1.0</p>
</li><li data-md="">
<p><code>"diffuseColor"</code>, whose value is an array with 3 numbers between 0.0 and 1.0 (RGB colour)</p>
</li><li data-md="">
<p><code>"emissiveColor"</code>, whose value is an array with 3 numbers between 0.0 and 1.0 (RGB colour)</p>
</li><li data-md="">
<p><code>"specularColor"</code>, whose value is an array with 3 numbers between 0.0 and 1.0 (RGB colour)</p>
</li><li data-md="">
<p><code>"shininess"</code>, whose value is a number between 0.0 and 1.0</p>
</li><li data-md="">
<p><code>"transparency"</code>, whose value is a number between 0.0 and 1.0 (1.0 being completely transparent)</p>
</li><li data-md="">
<p><code>"isSmooth"</code>, whose value is a Boolean value, is defined in CityGML as a hint for normal interpolation. If this boolean flag is set to true, vertex normals should be used for shading (Gouraud shading). Otherwise, normals should be constant for a surface patch (flat shading).</p>
</li></ol>
</li></ul>
<div class="note" role="note"> If only <code>"name"</code> is defined for the Material Object, then it is up to the application that reads the CityJSON file to attach a material definition to the <code>"name"</code>. 
  This might not always be possible.
  Therefore, it is advised to define as many from the optional members as needed for fully displaying the material. </div>
<pre class="language-json highlight"><c- f="">"materials"</c-><c- p="">:</c-> <c- p="">[</c->
  <c- p="">{</c->
    <c- f="">"name"</c-><c- p="">:</c-> <c- u="">"roofandground"</c-><c- p="">,</c->
    <c- f="">"ambientIntensity"</c-><c- p="">:</c->  <c- mf="">0.2000</c-><c- p="">,</c->
    <c- f="">"diffuseColor"</c-><c- p="">:</c->  <c- p="">[</c-><c- mf="">0.9000</c-><c- p="">,</c-> <c- mf="">0.1000</c-><c- p="">,</c-> <c- mf="">0.7500</c-><c- p="">],</c->
    <c- f="">"emissiveColor"</c-><c- p="">:</c-> <c- p="">[</c-><c- mf="">0.9000</c-><c- p="">,</c-> <c- mf="">0.1000</c-><c- p="">,</c-> <c- mf="">0.7500</c-><c- p="">],</c->
    <c- f="">"specularColor"</c-><c- p="">:</c-> <c- p="">[</c-><c- mf="">0.9000</c-><c- p="">,</c-> <c- mf="">0.1000</c-><c- p="">,</c-> <c- mf="">0.7500</c-><c- p="">],</c->
    <c- f="">"shininess"</c-><c- p="">:</c-> <c- mf="">0.2</c-><c- p="">,</c->
    <c- f="">"transparency"</c-><c- p="">:</c-> <c- mf="">0.5</c-><c- p="">,</c->
    <c- f="">"isSmooth"</c-><c- p="">:</c-> <c- kc="">false</c->
  <c- p="">},</c->
  <c- p="">{</c->
    <c- f="">"name"</c-><c- p="">:</c-> <c- u="">"wall"</c-><c- p="">,</c->
    <c- f="">"ambientIntensity"</c-><c- p="">:</c->  <c- mf="">0.4000</c-><c- p="">,</c->
    <c- f="">"diffuseColor"</c-><c- p="">:</c->  <c- p="">[</c-><c- mf="">0.1000</c-><c- p="">,</c-> <c- mf="">0.1000</c-><c- p="">,</c-> <c- mf="">0.9000</c-><c- p="">],</c->
    <c- f="">"emissiveColor"</c-><c- p="">:</c-> <c- p="">[</c-><c- mf="">0.1000</c-><c- p="">,</c-> <c- mf="">0.1000</c-><c- p="">,</c-> <c- mf="">0.9000</c-><c- p="">],</c->
    <c- f="">"specularColor"</c-><c- p="">:</c-> <c- p="">[</c-><c- mf="">0.9000</c-><c- p="">,</c-> <c- mf="">0.1000</c-><c- p="">,</c-> <c- mf="">0.7500</c-><c- p="">],</c->
    <c- f="">"shininess"</c-><c- p="">:</c-> <c- mf="">0.0</c-><c- p="">,</c->
    <c- f="">"transparency"</c-><c- p="">:</c-> <c- mf="">0.5</c-><c- p="">,</c->
    <c- f="">"isSmooth"</c-><c- p="">:</c-> <c- kc="">true</c->
  <c- p="">}</c->            
<c- p="">]</c->
</pre>
<h3 class="heading settled" data-level="6.4" id="texture-object"><span class="secno">6.4. </span><span class="content">Texture Object</span><a class="self-link" href="#texture-object"></a></h3>
<p>A Texture Object:</p>
<ul>
<li data-md="">
<p><strong>must</strong> have one member with the name <code>"type"</code>, whose value is a string with either "PNG" or "JPG" as value</p>
</li><li data-md="">
<p><strong>must</strong> have one member with the name <code>"image"</code>, whose value is a string with the name of the file. This file can be a URL (eg <code>"http://www.someurl.org/filename.jpg"</code>), a relative path (eg <code>"appearances/myroof.jpg"</code>), or an absolute path (eg <code>"/home/elvis/mycityjson/appearances/myroof.jpg"</code>).</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"wrapMode"</code>, whose value can be any of the following: <code>"none"</code>, <code>"wrap"</code>, <code>"mirror"</code>, <code>"clamp"</code>, or <code>"border"</code>.</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"textureType"</code>, whose value can be any of the following: <code>"unknown"</code>, <code>"specific"</code>, or <code>"typical"</code>.</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"borderColor"</code>, whose value is an array with 4 numbers between 0.0 and 1.0 (RGBA colour).</p>
</li></ul>
<pre class="language-json highlight"><c- f="">"textures"</c-><c- p="">:</c-> <c- p="">[</c->
  <c- p="">{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"PNG"</c-><c- p="">,</c->
    <c- f="">"image"</c-><c- p="">:</c-> <c- u="">"http://www.someurl.org/filename.jpg"</c->
  <c- p="">},</c->
  <c- p="">{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"JPG"</c-><c- p="">,</c->
    <c- f="">"image"</c-><c- p="">:</c-> <c- u="">"appearances/myroof.jpg"</c-><c- p="">,</c->
    <c- f="">"wrapMode"</c-><c- p="">:</c-> <c- u="">"wrap"</c-><c- p="">,</c->
    <c- f="">"textureType"</c-><c- p="">:</c-> <c- u="">"unknown"</c-><c- p="">,</c->
    <c- f="">"borderColor"</c-><c- p="">:</c-> <c- p="">[</c-><c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">0.1</c-><c- p="">,</c-> <c- mf="">0.2</c-><c- p="">,</c-> <c- mf="">1.0</c-><c- p="">]</c->
  <c- p="">}</c->      
<c- p="">]</c->
</pre>
<h3 class="heading settled" data-level="6.5" id="vertices-texture-object"><span class="secno">6.5. </span><span class="content">Vertices-texture Object</span><a class="self-link" href="#vertices-texture-object"></a></h3>
<p>An Appearance Object may have one member named <code>"vertices-texture"</code>, whose value is an array of the <em>(u,v)</em> coordinates of the vertices used for texturing surfaces.
Their position in this array (0-based) is used by the <code>"texture"</code> member of the Geometry Objects.</p>
<ul>
<li data-md="">
<p>the array of vertices may be empty.</p>
</li><li data-md="">
<p>one vertex must be an array with exactly 2 values, representing the <em>(u,v)</em> coordinates.</p>
</li><li data-md="">
<p>The value of <em>u</em> and <em>v</em> must be between 0.0 and 1.0.</p>
</li><li data-md="">
<p>vertices may be repeated</p>
</li></ul>
<pre class="language-json highlight"><c- f="">"vertices-texture"</c-><c- p="">:</c-> <c- p="">[</c->
  <c- p="">[</c-><c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">0.5</c-><c- p="">],</c->
  <c- p="">[</c-><c- mf="">1.0</c-><c- p="">,</c-> <c- mf="">0.0</c-><c- p="">],</c->
  <c- p="">[</c-><c- mf="">1.0</c-><c- p="">,</c-> <c- mf="">1.0</c-><c- p="">],</c->
  <c- p="">[</c-><c- mf="">0.0</c-><c- p="">,</c-> <c- mf="">1.0</c-><c- p="">]</c->
<c- p="">]</c->
</pre>
<h2 class="heading settled" data-level="7" id="handling-large-files"><span class="secno">7. </span><span class="content">Handling large files</span><a class="self-link" href="#handling-large-files"></a></h2>
<p>Because CityJSON aims at being easy-to-use and developers friendly, it is advised to keep the size of CityJSON files small.
Files of several hundreds of megabytes are bad practice, and should be avoided since users will have great difficulties visualising and manipulating them.</p>
<h3 class="heading settled" data-level="7.1" id="decomposing-an-area-into-parts-tiles"><span class="secno">7.1. </span><span class="content">Decomposing an area into parts/tiles</span><a class="self-link" href="#decomposing-an-area-into-parts-tiles"></a></h3>
<p>One solution to handle a large dataset is to subdivide it into tiles or regions, and ensure that each part has a reasonable size.
Each part becomes a CityJSON file.</p>
<h3 class="heading settled" data-level="7.2" id="text-sequences-and-streaming-with-cityjsonfeature"><span class="secno">7.2. </span><span class="content">Text sequences and streaming with CityJSONFeature</span><a class="self-link" href="#text-sequences-and-streaming-with-cityjsonfeature"></a></h3>
<p>Another solution is to decompose a CityJSON object into its <em>features</em> (the City Objects), create several JSON objects, and store them in a <a href="https://jsonlines.org">JSON Lines text</a> (also called <a href="http://ndjson.org">Newline Delimited JSON</a>).
This is a format to store several JSON objects in a single file, and allows the processing of each object one at a time.</p>
<p>A CityJSON Feature Object allows us to store one feature, for instance a <code>"Building"</code> with eventually its children <code>"BuildingPart"</code> and/or <code>"BuildingInstallation"</code>.
Unlike a CityJSON Object, all the vertices and appearances of the object are <em>local</em>.</p>
<p>A CityJSON Feature Object:</p>
<ul>
<li data-md="">
<p>is a JSON object.</p>
</li><li data-md="">
<p><strong>must</strong> have one member with the name <code>"type"</code>, whose value must be <code>"CityJSONFeature"</code>.</p>
</li><li data-md="">
<p><strong>must</strong> have one member with the name <code>"id"</code>, whose value must be a string representing the identifier of the City Object Feature, this is used to clearly identify which of the CityObjects is the parent.</p>
</li><li data-md="">
<p><strong>must</strong> have one member with the name <code>"CityObjects"</code>. The value of this member is a collection of key-value pairs, where the key is the ID of the object, and the value is one City Object. The ID of a City Object should be unique (within one CityJSONFeature Object), and all the children of the <code>"CityJSONFeature"</code> (only those one level below the current one) must be listed.</p>
</li><li data-md="">
<p><strong>must</strong> have one member with the name <code>"vertices"</code>, whose value is an array of coordinates of each vertex of the current City Object Feature (stored with integers). Their position in this array (0-based) is used as an index to be referenced by the Geometry Objects for the JSON object (warning: the vertices are local to the JSON object).</p>
</li><li data-md="">
<p><strong>may</strong> have one member with the name <code>"appearance"</code>, the value may contain JSON objects representing the textures and/or materials of surfaces. See <a href="#appearance-object">§ 6 Appearance Object</a> for details.</p>
</li><li data-md="">
<p><strong>must not</strong> have other members.</p>
</li></ul>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"CityJSONFeature"</c-><c- p="">,</c->
  <c- f="">"id"</c-><c- p="">:</c-> <c- u="">"myid"</c-><c- p="">,</c-> 
  <c- f="">"CityObjects"</c-><c- p="">:</c-> <c- p="">{},</c->
  <c- f="">"vertices"</c-><c- p="">:</c-> <c- p="">[],</c->
  <c- f="">"appearance"</c-><c- p="">:</c-> <c- p="">{}</c->
<c- p="">}</c->
</pre>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"CityJSONFeature"</c-><c- p="">,</c->
  <c- f="">"id"</c-><c- p="">:</c-> <c- u="">"id-1"</c-><c- p="">,</c-> 
  <c- f="">"CityObjects"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"id-1"</c-><c- p="">:</c-> <c- p="">{</c->
      <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Building"</c-><c- p="">,</c-> 
      <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c-> 
        <c- f="">"roofType"</c-><c- p="">:</c-> <c- u="">"gabled roof"</c->
      <c- p="">},</c->
      <c- f="">"children"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"mybalcony"</c-><c- p="">],</c->
      <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[</c->...<c- p="">]</c->
    <c- p="">},</c->
    <c- f="">"mybalcony"</c-><c- p="">:</c-> <c- p="">{</c->
      <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"BuildingInstallation"</c-><c- p="">,</c-> 
      <c- f="">"parents"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"id-1"</c-><c- p="">],</c->
      <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[</c->...<c- p="">]</c->
    <c- p="">}</c->
  <c- p="">},</c->
  <c- f="">"vertices"</c-><c- p="">:</c-> <c- p="">[</c->...<c- p="">]</c->
<c- p="">}</c->
</pre>
<p>The following root property of a CityJSON Object are not allowed in a CityJSONFeature Object:</p>
<ul>
<li data-md="">
<p><code>"transform"</code></p>
</li><li data-md="">
<p><code>"version"</code></p>
</li><li data-md="">
<p><code>"metadata"</code></p>
</li><li data-md="">
<p><code>"geometry-templates"</code>: these should be resolved/dereferenced</p>
</li><li data-md="">
<p><code>"extensions"</code>: these should be in the metadata or collection</p>
</li></ul>
<p>These properties may be accessible, for instance as a JSON object (the first one) in a <a href="https://jsonlines.org/">JSON Lines text</a> stream, as in the following example:</p>
<pre class="language-json highlight"><c- p="">{</c-><c- f="">"type"</c-><c- p="">:</c-> <c- u="">"CityJSON"</c-><c- p="">,</c-><c- f="">"version"</c-><c- p="">:</c-> <c- u="">"1.1"</c-><c- p="">,</c-><c- f="">"transform"</c-><c- p="">:{</c->...<c- p="">},</c-><c- f="">"metadata"</c-><c- p="">:{</c->...<c- p="">}}</c->
<c- p="">{</c-><c- f="">"type"</c-><c- p="">:</c-> <c- u="">"CityJSONFeature"</c-><c- p="">,</c-> <c- f="">"id"</c-><c- p="">:</c-> <c- u="">"a"</c-><c- p="">,</c-> <c- f="">"CityObjects"</c-><c- p="">:{</c->...<c- p="">},</c-><c- f="">"vertices"</c-><c- p="">:[</c->...<c- p="">]}</c-> 
<c- p="">{</c-><c- f="">"type"</c-><c- p="">:</c-> <c- u="">"CityJSONFeature"</c-><c- p="">,</c-> <c- f="">"id"</c-><c- p="">:</c-> <c- u="">"b"</c-><c- p="">,</c-> <c- f="">"CityObjects"</c-><c- p="">:{</c->...<c- p="">},</c-><c- f="">"vertices"</c-><c- p="">:[</c->...<c- p="">]}</c-> 
<c- p="">{</c-><c- f="">"type"</c-><c- p="">:</c-> <c- u="">"CityJSONFeature"</c-><c- p="">,</c-> <c- f="">"id"</c-><c- p="">:</c-> <c- u="">"c"</c-><c- p="">,</c-> <c- f="">"CityObjects"</c-><c- p="">:{</c->...<c- p="">},</c-><c- f="">"vertices"</c-><c- p="">:[</c->...<c- p="">]}</c-> 
</pre>
<p>However, it should be noticed that CityJSON does not prescribe the format or standard that should be used to store several JSON objects in a given file, it only defines how <code>"CityJSON"</code> and <code>"CityJSONFeature"</code> objects should be defined.</p>
<h2 class="heading settled" data-level="8" id="extensions"><span class="secno">8. </span><span class="content">Extensions</span><a class="self-link" href="#extensions"></a></h2>
<p>CityJSON uses <a href="http://json-schema.org/">JSON Schemas</a> to document and validate its data model, including its Extensions. Schemas offer a way to validate the syntax of a JSON document.
Therefore, for writing more complex Extensions, a basic familiarity with <a href="http://json-schema.org/">JSON Schemas</a> is advised.</p>
<p>A CityJSON <em>Extension</em> is a JSON file that documents how the core data model of CityJSON is extended, and is also used for validating the CityJSON files.
This is conceptually akin to the <a href="https://docs.ogc.org/is/20-010/20-010.html#toc66">Application Domain Extensions (ADEs)</a> in CityGML.</p>
<p>A CityJSON Extension can extend the core data model in three ways:</p>
<ol>
<li data-md="">
<p>Adding new complex attributes to the City Objects of the core</p>
</li><li data-md="">
<p>Adding new properties at the root of a document</p>
</li><li data-md="">
<p>Creating a new City Object, or "extending" one, and defining complex geometries</p>
</li></ol>
<div class="note" role="note">
     While Extensions are less flexible than CityGML ADEs (inheritance and namespaces are for instance not supported, and less customisation is possible), it should be noted that the flexibility of ADEs comes at a price: the software processing an extended CityGML file will not necessarily know what structure to expect. 
    <p>There is ongoing work to use the ADE schemas to automatically do this, but this currently is not supported by most software.
  Viewers might not be affected by ADEs because the geometries are usually not changed by an ADE (although they can!). 
  However, software parsing the XML to extract attributes and features might not work directly (and thus specific code would need to be written).</p>
<p>CityJSON Extensions are designed such that they can be read and processed by standard CityJSON software, often no changes in the parsing code is required.
  This is achieved by enforcing a set of 6 simple rules (see <a href="#rules-to-follow-to-define-new-city-objects">§ 8.6 Rules to follow to define new City Objects</a>) when adding new City Objects. 
  If these are followed, then a CityJSON file containing Extensions will be seen as a "standard" CityJSON file.</p>
</div>
<h3 class="heading settled" data-level="8.1" id="using-an-extension-in-a-cityjson-file"><span class="secno">8.1. </span><span class="content">Using an Extension in a CityJSON file</span><a class="self-link" href="#using-an-extension-in-a-cityjson-file"></a></h3>
<p>An Extension should be given a name (eg "Noise") and the URL of the Extension file should be given, along with the version that is used for this file.
It is expected that the Extension is publicly available at the URL, and can be downloaded.</p>
<p>Several Extensions can be used in a single CityJSON Object, each one is indexed by its name in the <code>"extensions"</code> JSON object.
In the example below we have two Extensions: one named "Noise" and one named "Solar_Potential".</p>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"CityJSON"</c-><c- p="">,</c->
  <c- f="">"version"</c-><c- p="">:</c-> <c- u="">"1.1"</c-><c- p="">,</c->
  <c- f="">"extensions"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"Noise"</c-><c- p="">:</c-> <c- p="">{</c->
      <c- f="">"url"</c-> <c- p="">:</c-> <c- u="">"https://someurl.org/noise.json"</c-><c- p="">,</c->
      <c- f="">"version"</c-><c- p="">:</c-> <c- u="">"2.0"</c->
    <c- p="">},</c->
    <c- f="">"Solar_Potential"</c-><c- p="">:</c-> <c- p="">{</c->
      <c- f="">"url"</c-> <c- p="">:</c-> <c- u="">"https://someurl.org/solar.json"</c-><c- p="">,</c->
      <c- f="">"version"</c-><c- p="">:</c-> <c- u="">"0.8"</c->
    <c- p="">}</c->
  <c- p="">},</c->
  <c- f="">"CityObjects"</c-><c- p="">:</c-> <c- p="">{},</c->
  <c- f="">"vertices"</c-><c- p="">:</c-> <c- p="">[]</c->
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="8.2" id="the-extension-file"><span class="secno">8.2. </span><span class="content">The Extension file</span><a class="self-link" href="#the-extension-file"></a></h3>
<p>A CityJSON Extension is a JSON object, and it <strong>must</strong> have the following 8 members:</p>
<ol>
<li data-md="">
<p>one member with the name <code>"type"</code>, whose value must be <code>"CityJSONExtension"</code>;</p>
</li><li data-md="">
<p>one member with the name <code>"name"</code>, whose value must be a string identifying the extension;</p>
</li><li data-md="">
<p>one member with the name <code>"uri"</code>, whose value must be a string with the URI of the location of the schema where the JSON object is located;</p>
</li><li data-md="">
<p>one member with the name <code>"version"</code>, whose value must be a string identifying the version of the Extension;</p>
</li><li data-md="">
<p>one member with the name <code>"versionCityJSON"</code>, whose value must be a string (X.Y) identifying the version of CityJSON that uses the Extension;</p>
</li><li data-md="">
<p>one member with the name <code>"extraRootProperties"</code>, whose value must be a JSON object; its content is part of a JSON schema (explained below), or an empty object;</p>
</li><li data-md="">
<p>one member with the name <code>"extraAttributes"</code>, whose value must be a JSON object; its content is part of a JSON schema (explained below), or an empty object;</p>
</li><li data-md="">
<p>one member with the name <code>"extraCityObjects"</code>, whose value must be a JSON object; its content is part of a JSON schema (explained below), or an empty object;</p>
</li></ol>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"CityJSONExtension"</c-><c- p="">,</c->
  <c- f="">"name"</c-><c- p="">:</c-> <c- u="">"Noise"</c-><c- p="">,</c->
  <c- f="">"description"</c-><c- p="">:</c-> <c- u="">"Extension to model the noise"</c-><c- p="">,</c->
  <c- f="">"uri"</c-><c- p="">:</c-> <c- u="">"https://someurl.org/noise.ext.json"</c-><c- p="">,</c->
  <c- f="">"version"</c-><c- p="">:</c-> <c- u="">"0.5"</c-><c- p="">,</c->
  <c- f="">"versionCityJSON"</c-><c- p="">:</c-> <c- u="">"1.1"</c-><c- p="">,</c->
  <c- f="">"extraRootProperties"</c-><c- p="">:</c-> <c- p="">{},</c->     
  <c- f="">"extraAttributes"</c-><c- p="">:</c-> <c- p="">{},</c->
  <c- f="">"extraCityObjects"</c-><c- p="">:</c-> <c- p="">{}</c->
<c- p="">}</c->
</pre>
<div class="note" role="note">
     If an element of the Extension reuses, or references, structures and/or objects defined in the schemas of CityJSON, then we can assume that the Extension is in the same folder as the schemas.
An example would be to reuse the Solid type: 
<pre class="language-json highlight"><c- f="">"items"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"oneOf"</c-><c- p="">:</c-> <c- p="">[</c->
    <c- p="">{</c-><c- f="">"$ref"</c-><c- p="">:</c-> <c- u="">"geomprimitives.json#/Solid"</c-><c- p="">}</c->
  <c- p="">]</c->
<c- p="">}</c->
</pre>
</div>
<h3 class="heading settled" data-level="8.3" id="case-1-adding-new-complex-attributes-to-existing-city-objects"><span class="secno">8.3. </span><span class="content">Case 1: Adding new complex attributes to existing City Objects</span><a class="self-link" href="#case-1-adding-new-complex-attributes-to-existing-city-objects"></a></h3>
<p>One of the philosophies of JSON is "schema-less", which means that one is allowed to define new properties for the JSON objects without documenting them in a JSON schema (watch out: this does <em>not</em> mean that JSON does not have schemas!).
While this is in contrast to CityGML (and GML as a whole) where the schemas are central, the schemas of CityJSON are (partly) following that philosophy.</p>
<p>If one wants to document the colour of a given <code>"Building"</code> (<code>"colour": "red"</code>), the easiest way is just to add a new property to the City Object attributes:</p>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Building"</c-><c- p="">,</c-> 
  <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c-> 
    <c- f="">"storeysAboveGround"</c-><c- p="">:</c-> <c- mi="">2</c-><c- p="">,</c->
    <c- f="">"colour"</c-><c- p="">:</c-> <c- u="">"red"</c->
  <c- p="">},</c->
  <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[</c->...<c- p="">]</c->
<c- p="">}</c->
</pre>
<p>It is also possible to add, and document in a schema, complex attributes, for example if we wanted to have the colour of the buildings as a RGBA value (red-green-blue-alpha):</p>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Building"</c-><c- p="">,</c-> 
  <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c-> 
    <c- f="">"storeysAboveGround"</c-><c- p="">:</c-> <c- mi="">2</c-><c- p="">,</c->
    <c- f="">"+colour"</c-><c- p="">:</c-> <c- p="">{</c->
      <c- f="">"rgba"</c-><c- p="">:</c-> <c- p="">[</c-><c- mi="">255</c-><c- p="">,</c-> <c- mi="">255</c-><c- p="">,</c-> <c- mi="">255</c-><c- p="">,</c-> <c- mi="">1</c-><c- p="">]</c->
    <c- p="">}</c->
  <c- p="">},</c->
  <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[</c->...<c- p="">]</c->
<c- p="">}</c->
</pre>
<p>Another example would be to store the area of the parcel of a building, and also to document the unit of measurement (UoM):</p>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"Building"</c-><c- p="">,</c-> 
  <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c-> 
    <c- f="">"storeysAboveGround"</c-><c- p="">:</c-> <c- mi="">2</c-><c- p="">,</c->
    <c- f="">"+area-parcel"</c-><c- p="">:</c-> <c- p="">{</c->
      <c- f="">"value"</c-><c- p="">:</c-> <c- mi="">437</c-><c- p="">,</c->
      <c- f="">"uom"</c-><c- p="">:</c-> <c- u="">"m2"</c->
    <c- p="">}</c-> 
  <c- p="">},</c->
  <c- f="">"geometry"</c-><c- p="">:</c-> <c- p="">[</c->...<c- p="">]</c->
<c- p="">}</c->
</pre>
<p>For these two cases, the CityJSON Extension object would look like the snippet below.
Notice that <code>"extraAttributes"</code> may have several properties (the types of the City Objects are the possibilities) and then each of these has as properties the new attributes (there can be several).</p>
<p>An extra attribute must start with a <code>"+"</code>; it is good practice to prepend the attribute with the name of the Extension, to avoid that 2 attributes from 2 different extensions have the same name.</p>
<p>The value of the property is a JSON schema, this schema can reference and reuse JSON objects already defined in the CityJSON schemas.
Thus, the keywords of the property values are defined by the JSON Schema specification.
For instance, <code>"additionalProperties"</code> is a JSON-schema keyword stating that one is not allowed to add properties to this JSON object, beyond the ones defined in the schema (eg <code>"value", "uom"</code>).</p>
<pre class="language-json highlight"><c- f="">"extraAttributes"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"Building"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"+colour"</c-><c- p="">:</c-> <c- p="">{</c->
      <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"object"</c-><c- p="">,</c->
      <c- f="">"properties"</c-><c- p="">:</c-> <c- p="">{</c->
        <c- f="">"rgba"</c-><c- p="">:</c-> <c- p="">{</c->
          <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"array"</c-><c- p="">,</c->
          <c- f="">"items"</c-><c- p="">:</c-> <c- p="">{</c-><c- f="">"type"</c-><c- p="">:</c-> <c- u="">"number"</c-><c- p="">},</c->
          <c- f="">"minItems"</c-><c- p="">:</c-> <c- mi="">4</c-><c- p="">,</c->    
          <c- f="">"maxItems"</c-><c- p="">:</c-> <c- mi="">4</c->
        <c- p="">}</c->
      <c- p="">},</c->
      <c- f="">"required"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"rgba"</c-><c- p="">],</c->
      <c- f="">"additionalProperties"</c-><c- p="">:</c-> <c- kc="">false</c->
    <c- p="">},</c->
    <c- f="">"+area-parcel"</c-><c- p="">:</c-> <c- p="">{</c->
      <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"object"</c-><c- p="">,</c->
      <c- f="">"properties"</c-><c- p="">:</c-> <c- p="">{</c->
        <c- f="">"value"</c-><c- p="">:</c-> <c- p="">{</c-> <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"number"</c-> <c- p="">},</c->
        <c- f="">"uom"</c-><c- p="">:</c-> <c- p="">{</c-> <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"string"</c-><c- p="">,</c-> <c- f="">"enum"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"m2"</c-><c- p="">,</c-> <c- u="">"feet2"</c-><c- p="">]</c-> <c- p="">}</c->
      <c- p="">},</c->
      <c- f="">"required"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"value"</c-><c- p="">,</c-> <c- u="">"uom"</c-><c- p="">],</c->
      <c- f="">"additionalProperties"</c-><c- p="">:</c-> <c- kc="">false</c->
    <c- p="">}</c->      
  <c- p="">}</c-> 
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="8.4" id="case-2-adding-new-properties-at-the-root-of-a-document"><span class="secno">8.4. </span><span class="content">Case 2: Adding new properties at the root of a document</span><a class="self-link" href="#case-2-adding-new-properties-at-the-root-of-a-document"></a></h3>
<p>It is allowed to add a new property at the root of a CityJSON file, but if one wants to document it in a schema, then this property must start with a <code>"+"</code>.
Imagine we wanted to store some census data for a given neighbourhood for which we have a CityJSON file, then we could define the extra root property <code>"+census"</code> as follows:</p>
<pre class="language-json highlight"><c- f="">"extraRootProperties"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"+census"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"object"</c-><c- p="">,</c->
    <c- f="">"properties"</c-><c- p="">:</c-> <c- p="">{</c->
      <c- f="">"percent_men"</c-><c- p="">:</c-> <c- p="">{</c-> 
        <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"number"</c-><c- p="">,</c->
        <c- f="">"minimum"</c-><c- p="">:</c-> <c- mf="">0.0</c-><c- p="">,</c->
        <c- f="">"maximum"</c-><c- p="">:</c-> <c- mf="">100.0</c->
      <c- p="">},</c->
      <c- f="">"percent_women"</c-><c- p="">:</c-> <c- p="">{</c-> 
        <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"number"</c-><c- p="">,</c->
        <c- f="">"minimum"</c-><c- p="">:</c-> <c- mf="">0.0</c-><c- p="">,</c->
        <c- f="">"maximum"</c-><c- p="">:</c-> <c- mf="">100.0</c->
      <c- p="">}</c->
    <c- p="">}</c->
  <c- p="">}</c->
<c- p="">}</c->
</pre>
<p>And a CityJSON file would look like this:</p>
<pre class="language-json highlight"><c- p="">{</c->
  <c- f="">"type"</c-><c- p="">:</c-> <c- u="">"CityJSON"</c-><c- p="">,</c->
  <c- f="">"version"</c-><c- p="">:</c-> <c- u="">"1.1"</c-><c- p="">,</c->
  <c- f="">"extensions"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"Census"</c-><c- p="">:</c-> <c- p="">{</c->
      <c- f="">"url"</c-><c- p="">:</c-> <c- u="">"https://someurl.org/census.ext.json"</c-><c- p="">,</c->
      <c- f="">"version"</c-><c- p="">:</c-> <c- u="">"0.7"</c->
    <c- p="">}</c->
  <c- p="">},</c->
  <c- f="">"CityObjects"</c-><c- p="">:</c-> <c- p="">{</c->...<c- p="">},</c->
  <c- f="">"vertices"</c-><c- p="">:</c-> <c- p="">[</c->...<c- p="">],</c->
  <c- f="">"+census"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"percent_men"</c-><c- p="">:</c-> <c- mf="">49.5</c-><c- p="">,</c->
    <c- f="">"percent_women"</c-><c- p="">:</c-> <c- mf="">51.5</c->
  <c- p="">}</c->
<c- p="">}</c->
</pre>
<h3 class="heading settled" data-level="8.5" id="case-3-creating-and-or-extending-new-city-objects"><span class="secno">8.5. </span><span class="content">Case 3: Creating and/or extending new City Objects</span><a class="self-link" href="#case-3-creating-and-or-extending-new-city-objects"></a></h3>
<p>The creation of a new City Object is done by defining it in the CityJSON Extension object in the <code>"extraCityObjects"</code> property:</p>
<pre class="language-json highlight"><c- f="">"extraCityObjects"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"+NoiseBuilding"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"allOf"</c-><c- p="">:</c-> <c- p="">[</c->
      <c- p="">{</c-> <c- f="">"$ref"</c-><c- p="">:</c-> <c- u="">"cityobjects.json#/_AbstractBuilding"</c-> <c- p="">},</c->
      <c- p="">{</c->
        <c- f="">"properties"</c-><c- p="">:</c-> <c- p="">{</c->
          <c- f="">"type"</c-><c- p="">:</c-> <c- p="">{</c-> <c- f="">"enum"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"+NoiseBuilding"</c-><c- p="">]</c-> <c- p="">},</c->
          <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c->
            <c- f="">"properties"</c-><c- p="">:</c-> <c- p="">{</c->
              <c- f="">"buildingLDenMin"</c-><c- p="">:</c-> <c- p="">{</c-><c- f="">"type"</c-><c- p="">:</c-> <c- u="">"number"</c-><c- p="">}</c->
            <c- p="">}</c->
          <c- p="">}</c->
        <c- p="">},</c->
        <c- f="">"required"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"type"</c-><c- p="">]</c->
      <c- p="">}</c->
    <c- p="">]</c->
  <c- p="">}</c->
<c- p="">}</c->
</pre>
<pre class="language-json highlight"><c- f="">"extraCityObjects"</c-><c- p="">:</c-> <c- p="">{</c->
  <c- f="">"+NoiseBuildingPart"</c-><c- p="">:</c-> <c- p="">{</c->
    <c- f="">"allOf"</c-><c- p="">:</c-> <c- p="">[</c->
      <c- p="">{</c-> <c- f="">"$ref"</c-><c- p="">:</c-> <c- u="">"cityobjects.json#/_AbstractBuilding"</c-> <c- p="">},</c->
      <c- p="">{</c->
        <c- f="">"properties"</c-><c- p="">:</c-> <c- p="">{</c->
          <c- f="">"type"</c-><c- p="">:</c-> <c- p="">{</c-> <c- f="">"enum"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"+NoiseBuildingPart"</c-><c- p="">]</c-> <c- p="">},</c->
          <c- f="">"attributes"</c-><c- p="">:</c-> <c- p="">{</c->
            <c- f="">"properties"</c-><c- p="">:</c-> <c- p="">{</c->
              <c- f="">"buildingLDenMin"</c-><c- p="">:</c-> <c- p="">{</c-><c- f="">"type"</c-><c- p="">:</c-> <c- u="">"number"</c-><c- p="">}</c->
            <c- p="">}</c->
          <c- p="">}</c->
        <c- p="">},</c->
        <c- f="">"required"</c-><c- p="">:</c-> <c- p="">[</c-><c- u="">"type"</c-><c- p="">,</c-> <c- u="">"parents"</c-><c- p="">]</c->
      <c- p="">}</c->
    <c- p="">]</c->
  <c- p="">}</c->
<c- p="">}</c->
</pre>
<p>Since all City Objects are documented in the <a href="https://www.cityjson.org/schemas/">schemas of CityJSON</a> (in <code>cityobjects.schema.json</code>), it is basically a matter of copying the parts needed in a new file and modifying its content.</p>
<p>A new name for the City Object must be given and it must begin with a <code>"+"</code>.</p>
<p>Because City Objects can be of different levels (1st-level ones can exist by themselves; 2nd-level ones need to have a parent), we need to explicitly define that <code>"parents"</code> is mandatory for 2nd-level objects.</p>
<p>Please note that since JSON schemas do not allow inheritance, the only way to extend a City Object is to define an entirely new one (with a new name, eg <code>"+NoiseBuilding"</code>).
This is done by copying the schema of the parent City Object and extending it.</p>
<h3 class="heading settled" data-level="8.6" id="rules-to-follow-to-define-new-city-objects"><span class="secno">8.6. </span><span class="content">Rules to follow to define new City Objects</span><a class="self-link" href="#rules-to-follow-to-define-new-city-objects"></a></h3>
<p>The challenge when creating Extensions to the core model is that we do not want to break the software packages (viewers, spatial analysis, etc) that already read and process CityJSON files.
While one could define a new City Object and document it, if this new object does not follow the rules below then it will mean that new specific software needs to be built for it---this would go against the fundamental ideas behind CityJSON.</p>
<ol>
<li data-md="">
<p>The name of a new City Object must begin with a <code>"+"</code>, eg <code>"+NoiseBuilding"</code>.</p>
</li><li data-md="">
<p>A new City Object must conform to the rules of CityJSON, ie it must contain a property <code>"type"</code>. If the object contains appearances, the same mechanism should be used so that the new City Objects can be processed without modification.</p>
</li><li data-md="">
<p>All the geometries must be in the property <code>"geometry"</code>, and cannot be located somewhere else deep in a hierarchy of a new property. This ensures that all the code written to process, manipulate, and view CityJSON files will be working without modifications.</p>
</li><li data-md="">
<p>If a new City Object contains other objects and requires different geometries, then a new City Object needs to be defined using the parents-children structure of CityJSON, as used by <code>"Building"</code> and <code>"BuildingPart"</code>.</p>
</li><li data-md="">
<p>The reuse of types defined in CityJSON, eg <code>"Solid"</code> or semantic surfaces, is allowed.</p>
</li><li data-md="">
<p>To define a new semantic surface (besides the ones prescribed, see <a href="#semantics-of-geometric-primitives">§ 3.3 Semantics of geometric primitives</a>), a <code>"+"</code> must be prepended to its name, eg <code>"+ThermalSurface"</code>.</p>
</li></ol>
<h2 class="heading settled" data-level="9" id="cityjson-schemas"><span class="secno">9. </span><span class="content">CityJSON Schemas</span><a class="self-link" href="#cityjson-schemas"></a></h2>
<p>The <a href="https://json-schema.org/">JSON schemas</a> of the specifications are publicly available at <a href="https://cityjson.org/schemas/">https://cityjson.org/schemas/</a>.</p>
<h2 class="heading settled" data-level="10" id="citygml-v30-conformance"><span class="secno">10. </span><span class="content">CityGML v3.0 conformance</span><a class="self-link" href="#citygml-v30-conformance"></a></h2>
<p>CityJSON v1.1 is conformant with the <a href="https://docs.ogc.org/is/20-010/20-010.html">CityGML v3.0 data model</a>, although not all extension modules have been implemented.</p>
<p>The details of which modules are supported (and where the so-called <em>null mapping</em> are applied, see <a href="https://docs.ogc.org/is/20-010/20-010.html#toc21">CityGML Modularization</a>), are available at <a href="https://www.cityjson.org/conformance/v30/">https://www.cityjson.org/conformance/v30/</a></p>
<hr/>
</main>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don’t scroll to compensate for the ToC if we’re above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don’t know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn’t exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn’t standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don’t have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we’re at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can’t find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script></body></html>