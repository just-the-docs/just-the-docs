---
title: CityJSON 1.0.0
permalink: /specs/1.0.0/
nav_exclude: true
---

<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <title>CityJSON Specifications 1.0.0</title>
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in §N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .assertion  for assertions                    (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/******************************************************************************/
/*                                   Body                                     */
/******************************************************************************/

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;               /* limit line length to 50em for readability   */
		margin: 0 auto;                /* center text within page                     */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag     */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		/* Colors */
		color: black;
		background: white top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		color: white;
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		border-color: #c00;
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 2;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
			color: black;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			background: white;
			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;
			background: white;
		}
		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		#toc-nav > a:hover,
		#toc-nav > a:focus {
			background: #f8f8f8;
		}
		#toc-nav > a:not(:hover):not(:focus) {
			color: #707070;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}

		#toc-toggle-inline {
			vertical-align: 0.05em;
			font-size: 80%;
			color: gray;
			color: hsla(203,20%,40%,.7);
			border-style: none;
			background: transparent;
			position: relative;
		}
		#toc-toggle-inline:hover:not(:active),
		#toc-toggle-inline:focus:not(:active) {
			text-shadow: 1px 1px silver;
			top: -1px;
			left: -1px;
		}

		#toc-nav :active {
			color: #C00;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;    /* Inherit the font family. */
		line-height: 1.2;        /* Keep wrapped headings compact */
		hyphens: manual;         /* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		background: transparent;
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#subtitle {
		/* #subtitle is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	 border-left: 0.5em solid #DEF;
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	  padding: .5em;
	  border: thin solid #ddd; border-radius: .5em;
	  margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	  margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	  margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	 margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	 margin-left: -2em;
	}
	dl.switch {
	 padding-left: 2em;
	}
	dl.switch > dt {
	 text-indent: -1.5em;
	 margin-top: 1em;
	}
	dl.switch > dt + dt {
	 margin-top: 0;
	}
	dl.switch > dt::before {
	 content: '\21AA';
	 padding: 0 0.5em 0 0;
	 display: inline-block;
	 width: 1em;
	 text-align: right;
	 line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: medium;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del { color: red;  text-decoration: line-through; }
	ins { color: #080; text-decoration: underline;    }

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		page-break-inside: avoid;
		hyphens: none;
		text-transform: none;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

  /* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		text-decoration: none;
		border-bottom: 1px solid #707070;
		/* Need a bit of extending for it to look okay */
		padding: 0 1px 0;
		margin: 0 -1px 0;
	}
	a:visited {
		border-bottom-color: #BBB;
	}

	/* Use distinguishing colors when user is interacting with the link */
	a[href]:focus,
	a[href]:hover {
		background: #f8f8f8;
		background: rgba(75%, 75%, 75%, .25);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	a[href]:active {
		color: #C00;
		border-color: #C00;
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	/* For autogen numbers, add
	   .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,    .sidefigure img,    figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote {
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	.issue,
	.note,
	.example,
	.advisement,
	.assertion,
	blockquote {
		margin: 1em auto;
	}
	.note  > p:first-child,
	.issue > p:first-child,
	blockquote > :first-child {
		margin-top: 0;
	}
	blockquote > :last-child {
		margin-bottom: 0;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #E05252;
		background: #FBE9E9;
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		text-transform: uppercase;
		color: #AE1E1E;
		padding-right: 1em;
		text-transform: uppercase;
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	   or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #E0CB52;
		background: #FCFAEE;
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		text-transform: uppercase;
		color: #827017;
		min-width: 7.5em;
		display: block;
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	   or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52E052;
		background: #E9FBE9;
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary::before,
	details.note > summary > .marker {
		text-transform: uppercase;
		display: block;
		color: hsl(120, 70%, 30%);
	}
	/* Add .note::before { content: "Note"; } for autogen label,
	   or use class="marker" to mark up the label in source. */

	details.note > summary {
		display: block;
		color: hsl(120, 70%, 30%);
	}
	details.note[open] > summary {
		border-bottom: 1px silver solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		background: #EEE;
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-style: none solid;
		background: #FFEECC;
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement > .marker {
		color: #B35F00;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: #fdd;
		color: red;
		font-weight: bold;
		padding: .75em 1em;
		border: thick red;
		border-style: solid;
		border-radius: 1em;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 1em;
		right: 1em;
		bottom: 1em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #DEF;
		margin: 1.2em 0;
		border-left: 0.5em solid #8CCBF2;
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def           td.footnote {
		padding-top: 0.6em;
	}
	table.def           td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		 <table class="data"> highlights structural relationships in a table
		 when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		 Use class="complex data" for particularly complicated tables --
		 (This will draw more lines: busier, but clearer.)

		 Use class="long" on table cells with paragraph-like contents
		 (This will adjust text alignment accordingly.)
		 Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
	 vertical-align: baseline;
	 text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding-top: 0.1rem;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Reverse color scheme */
		color: black;
		border-color: #3980B5;
		border-bottom-width: 3px !important;
		margin-bottom: 0px !important;
	}
	.toc a:visited {
		border-color: #054572;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
		line-height: 1.1rem; /* consistent spacing */
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li             { font-weight: bold;   }
	.toc > li li          { font-weight: normal; }
	.toc > li li li       { font-size:   95%;    }
	.toc > li li li li    { font-size:   90%;    }
	.toc > li li li li .secno { font-size: 85%; }
	.toc > li li li li li { font-size:   85%;    }
	.toc > li li li li li .secno { font-size: 100%; }

	/* @supports not (display:grid) { */
		.toc > li             { margin: 1.5rem 0;    }
		.toc > li li          { margin: 0.3rem 0;    }
		.toc > li li li       { margin-left: 2rem;   }

		/* Section numbers in a column of their own */
		.toc .secno {
			float: left;
			width: 4rem;
			white-space: nowrap;
		}

		.toc li {
			clear: both;
		}

		:not(li) > .toc              { margin-left:  5rem; }
		.toc .secno                  { margin-left: -5rem; }
		.toc > li li li .secno       { margin-left: -7rem; }
		.toc > li li li li .secno    { margin-left: -9rem; }
		.toc > li li li li li .secno { margin-left: -11rem; }

		/* Tighten up indentation in narrow ToCs */
		@media (max-width: 30em) {
			:not(li) > .toc              { margin-left:  4rem; }
			.toc .secno                  { margin-left: -4rem; }
			.toc > li li li              { margin-left:  1rem; }
			.toc > li li li .secno       { margin-left: -5rem; }
			.toc > li li li li .secno    { margin-left: -6rem; }
			.toc > li li li li li .secno { margin-left: -7rem; }
		}
	/* } */

	@supports (display:grid) {
		/* Use #toc over .toc to override non-@supports rules. */
		#toc {
			display: grid;
			align-content: start;
			grid-template-columns: auto 1fr;
			grid-column-gap: 1rem;
			column-gap: 1rem;
			grid-row-gap: .6rem;
			row-gap: .6rem;
		}
		#toc h2 {
			grid-column: 1 / -1;
			margin-bottom: 0;
		}
		#toc ol,
		#toc li,
		#toc a {
			display: contents;
			/* Switch <a> to subgrid when supported */
		}
		#toc span {
			margin: 0;
		}
		#toc > .toc > li > a > span {
			/* The spans of the top-level list,
			   comprising the first items of each top-level section. */
			margin-top: 1.1rem;
		}
		#toc#toc .secno { /* Ugh, need more specificity to override base.css */
			grid-column: 1;
			width: auto;
			margin-left: 0;
		}
		#toc .content {
			grid-column: 2;
			width: auto;
			margin-right: 1rem;
		}
		#toc .content:hover {
			background: rgba(75%, 75%, 75%, .25);
			border-bottom: 3px solid #054572;
			margin-bottom: -3px;
		}
		#toc li li li .content {
			margin-left: 1rem;
		}
		#toc li li li li .content {
			margin-left: 2rem;
		}
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index       { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li    { margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em }
	ul.index dl    { margin-top: 0; }
	ul.index dt    { margin: .2em 0 .2em 20px;}
	ul.index dd    { margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		background: #f7f8f9;
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}

/******************************************************************************/
/*                                    Legacy                                  */
/******************************************************************************/

	/* This rule is inherited from past style sheets. No idea what it's for. */
	.hide { display: none }



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-left: calc(13px + 26.5rem - 50vw);
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-left: calc(40em - 50vw) !important;
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-left: 0 !important;
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			 * http://lea.verou.me/2012/04/background-attachment-local/
			 *
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
			            top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
			            top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
  <meta content="Bikeshed version 10ff3eb4050069e20bb9b943c8b76fe5bfe3a48f" name="generator">
  <link href="https://cityjson.org/specs/latest/" rel="canonical">
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-syntax-highlighting */

.highlight:not(.idl) { background: hsl(24, 20%, 95%); }
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
<style>/* style-selflinks */

.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: gray;
    color: white;
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: black;
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: #005a9c;
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"></p>
   <h1 class="p-name no-ref" id="title">CityJSON Specifications 1.0.0</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Living Standard, <time class="dt-updated" datetime="2019-04-26">26 April 2019</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://cityjson.org/specs/1.0.0/">https://cityjson.org/specs/1.0.0/</a>
     <dt>Latest published version:
     <dd><a href="https://cityjson.org/specs/latest/">https://cityjson.org/specs/latest/</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/tudelft3d/cityjson/issues/">GitHub</a>
     <dt class="editor">Editor:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-url url" href="https://3d.bk.tudelft.nl/hledoux">Hugo Ledoux</a> (<span class="p-org org">TU Delft</span>)
    </dl>
   </div>
   <div data-fill-with="warning"></div>
   <p class="copyright" data-fill-with="copyright"><a href="http://creativecommons.org/publicdomain/zero/1.0/" rel="license"><img alt="CC0" src="https://licensebuttons.net/p/zero/1.0/80x15.png"></a> To the extent possible under law, the editors have waived all copyright
and related or neighboring rights to this work.
In addition, as of 26 April 2019,
the editors have made this specification available under the <a href="http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0" rel="license">Open Web Foundation Agreement Version 1.0</a>,
which is available at http://www.openwebfoundation.org/legal/the-owf-1-0-agreements/owfa-1-0.
Parts of this work may be from another specification document.  If so, those parts are instead covered by the license of that specification document. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>CityJSON is a <a href="https://json.org/">JSON</a>-based encoding for a subset of the <a href="http://www.opengeospatial.org/standards/citygml">OGC CityGML data model</a> (version 2.0.0). It defines how to store digital 3D models of cities and landscapes. The aim of CityJSON is to offer an alternative to the GML encoding of CityGML, which can be verbose and complex (and thus rather frustrating to work with). CityJSON aims at being easy-to-use, both for reading datasets, and for creating them. It was designed with programmers in mind, so that tools and APIs supporting it can be quickly built.</p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li><a href="#cityjson-object"><span class="secno">1</span> <span class="content">CityJSON Object</span></a>
    <li>
     <a href="#city-object-types"><span class="secno">2</span> <span class="content">City Object types</span></a>
     <ol class="toc">
      <li><a href="#attributes"><span class="secno">2.1</span> <span class="content">Attributes</span></a>
      <li><a href="#building"><span class="secno">2.2</span> <span class="content">Building</span></a>
      <li><a href="#transportation"><span class="secno">2.3</span> <span class="content">Transportation</span></a>
      <li><a href="#tinrelief"><span class="secno">2.4</span> <span class="content">TINRelief</span></a>
      <li><a href="#waterbody"><span class="secno">2.5</span> <span class="content">WaterBody</span></a>
      <li><a href="#landuse"><span class="secno">2.6</span> <span class="content">LandUse</span></a>
      <li><a href="#plantcover"><span class="secno">2.7</span> <span class="content">PlantCover</span></a>
      <li><a href="#solitaryvegetationobject"><span class="secno">2.8</span> <span class="content">SolitaryVegetationObject</span></a>
      <li><a href="#cityfurniture"><span class="secno">2.9</span> <span class="content">CityFurniture</span></a>
      <li><a href="#genericcityobject"><span class="secno">2.10</span> <span class="content">GenericCityObject</span></a>
      <li><a href="#bridge"><span class="secno">2.11</span> <span class="content">Bridge</span></a>
      <li><a href="#tunnel"><span class="secno">2.12</span> <span class="content">Tunnel</span></a>
      <li><a href="#cityobjectgroup"><span class="secno">2.13</span> <span class="content">CityObjectGroup</span></a>
     </ol>
    <li>
     <a href="#geometry-objects"><span class="secno">3</span> <span class="content">Geometry Objects</span></a>
     <ol class="toc">
      <li><a href="#the-coordinates-of-the-vertices"><span class="secno">3.1</span> <span class="content">The coordinates of the vertices</span></a>
      <li><a href="#arrays-to-represent-boundaries"><span class="secno">3.2</span> <span class="content">Arrays to represent boundaries</span></a>
      <li><a href="#semantic-surface-object"><span class="secno">3.3</span> <span class="content">Semantic Surface Object</span></a>
     </ol>
    <li>
     <a href="#metadata"><span class="secno">4</span> <span class="content">Metadata</span></a>
     <ol class="toc">
      <li><a href="#crs"><span class="secno">4.1</span> <span class="content">CRS</span></a>
      <li><a href="#geographic-extent-bbox"><span class="secno">4.2</span> <span class="content">Geographic Extent (bbox)</span></a>
      <li><a href="#geographic-location"><span class="secno">4.3</span> <span class="content">Geographic location</span></a>
      <li><a href="#topic-category"><span class="secno">4.4</span> <span class="content">Topic Category</span></a>
      <li><a href="#lineage"><span class="secno">4.5</span> <span class="content">Lineage</span></a>
     </ol>
    <li><a href="#transform-object"><span class="secno">5</span> <span class="content">Transform Object</span></a>
    <li><a href="#geometry-templates"><span class="secno">6</span> <span class="content">Geometry templates</span></a>
    <li>
     <a href="#appearance-object"><span class="secno">7</span> <span class="content">Appearance Object</span></a>
     <ol class="toc">
      <li><a href="#geometry-object-having-material-s"><span class="secno">7.1</span> <span class="content">Geometry Object having material(s)</span></a>
      <li><a href="#geometry-object-having-texture-s"><span class="secno">7.2</span> <span class="content">Geometry Object having texture(s)</span></a>
      <li><a href="#material-object"><span class="secno">7.3</span> <span class="content">Material Object</span></a>
      <li><a href="#texture-object"><span class="secno">7.4</span> <span class="content">Texture Object</span></a>
      <li><a href="#vertices-texture-object"><span class="secno">7.5</span> <span class="content">Vertices-texture Object</span></a>
     </ol>
    <li>
     <a href="#extensions"><span class="secno">8</span> <span class="content">Extensions</span></a>
     <ol class="toc">
      <li><a href="#using-an-extension-in-a-cityjson-file"><span class="secno">8.1</span> <span class="content">Using an Extension in a CityJSON file</span></a>
      <li><a href="#the-extension-file"><span class="secno">8.2</span> <span class="content">The Extension file</span></a>
      <li><a href="#case-1-adding-new-complex-attributes-to-existing-city-objects"><span class="secno">8.3</span> <span class="content">Case 1: Adding new complex attributes to existing City Objects</span></a>
      <li><a href="#case-2-adding-new-properties-at-the-root-of-a-document"><span class="secno">8.4</span> <span class="content">Case 2: Adding new properties at the root of a document</span></a>
      <li><a href="#case-3-creating-extending-new-city-objects"><span class="secno">8.5</span> <span class="content">Case 3: Creating/extending new City Objects</span></a>
      <li><a href="#rules-to-follow-to-define-new-city-objects"><span class="secno">8.6</span> <span class="content">Rules to follow to define new City Objects</span></a>
     </ol>
    <li><a href="#conformance"><span class="secno"></span> <span class="content"> Conformance</span></a>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
     </ol>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="cityjson-object"><span class="secno">1. </span><span class="content">CityJSON Object</span><a class="self-link" href="#cityjson-object"></a></h2>
   <p>A CityJSON object represents one 3D city model of a given area, this model may contain features of different types, as defined in the CityGML data model.</p>
   <ul>
    <li data-md>
     <p>A CityJSON object is a JSON object.</p>
    <li data-md>
     <p>A CityJSON object must have the following 4 members:</p>
     <ol>
      <li data-md>
       <p>one member with the name <code>"type"</code>, whose value must be <code>"CityJSON"</code>;</p>
      <li data-md>
       <p>one member with the name <code>"version"</code>, whose value must be a string with the version (X.Y) of CityJSON used. Observe that while schemas can have a version with patch version (X.Y.Z), a CityJSON object points only to the minor version (X.Y), and for validation the latest schema of that minor version should be used.</p>
      <li data-md>
       <p>one member with the name <code>"CityObjects"</code>. The value of this member is a collection of key-value pairs, where the key is the ID of the object, and the value is one City Object. The ID of a City Object should be unique (within one CityJSON Object).</p>
      <li data-md>
       <p>one member with the name <code>"vertices"</code>, whose value is an array of coordinates of each vertex of the city model. Their position in this array (0-based) is used as an index to be referenced by the Geometric Objects. The indexing mechanism of the format <a href="https://en.wikipedia.org/wiki/Wavefront_.obj_file">Wavefront OBJ</a> is basically reused.</p>
     </ol>
    <li data-md>
     <p>A CityJSON may have one member with the name <code>"extensions"</code>, used if there are Extensions used in the file.</p>
    <li data-md>
     <p>A CityJSON may have one member with the name <code>"metadata"</code>, whose value may be a JSON object describing the coordinate reference system used, the extent of the dataset, its creator, etc.</p>
    <li data-md>
     <p>A CityJSON may have one member with the name <code>"transform"</code>, whose value if a JSON object describing how to <em>decompress</em> the coordinates. Transform is used to reduce the file size only.</p>
    <li data-md>
     <p>A CityJSON may have one member with name <code>"appearance"</code>, the value may contain JSON objects representing the textures and/or materials of surfaces.</p>
    <li data-md>
     <p>A CityJSON may have one member with name <code>"geometry-templates"</code>, the value is a JSON object containing the templates that can be reused by different City Objects (usually for trees). This is equivalent to the concept of "implicit geometries" in CityGML.</p>
    <li data-md>
     <p>A CityJSON may have other members, and their value is not prescribed. Because these are not standard in CityJSON, they might be ignored by parsers.</p>
   </ul>
   <p>The minimal valid CityJSON object is thus:</p>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"CityJSON"</c-><c- p>,</c->
  <c- u>"version"</c-><c- o>:</c-> <c- u>"1.0"</c-><c- p>,</c->
  <c- u>"CityObjects"</c-><c- o>:</c-> <c- p>{},</c->
  <c- u>"vertices"</c-><c- o>:</c-> <c- p>[]</c->
<c- p>}</c->
</pre>
   <p>An "empty" CityJSON will look like this:</p>
<pre class="language-js highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"CityJSON"</c-><c- p>,</c->
  <c- u>"version"</c-><c- o>:</c-> <c- u>"1.0"</c-><c- p>,</c->
  <c- u>"extensions"</c-><c- o>:</c-> <c- p>{},</c->
  <c- u>"metadata"</c-><c- o>:</c-> <c- p>{},</c->
  <c- u>"transform"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"scale"</c-><c- o>:</c-> <c- p>[],</c->
    <c- u>"translate"</c-><c- o>:</c-> <c- p>[]</c->
  <c- p>},</c->
  <c- u>"CityObjects"</c-><c- o>:</c-> <c- p>{},</c->
  <c- u>"vertices"</c-><c- o>:</c-> <c- p>[],</c->
  <c- u>"appearance"</c-><c- o>:</c-> <c- p>{},</c->
  <c- u>"geometry-templates"</c-><c- o>:</c-> <c- p>{}</c->
<c- p>}</c->
</pre>
   <div class="note" role="note"> While the order of the member values of a CityJSON should preferably be as above, not all JSON generators allow one to do this, thus the order is not prescribed. </div>
   <h2 class="heading settled" data-level="2" id="city-object-types"><span class="secno">2. </span><span class="content">City Object types</span><a class="self-link" href="#city-object-types"></a></h2>
   <p>A City Object is a JSON object for which the type member’s value is one of the following (of type string):</p>
   <table>
    <thead>
     <tr>
      <th>1st-level
      <th>2nd-level
    <tbody>
     <tr>
      <td><code>"Building"</code>
      <td><code>"BuildingPart"</code>, <code>"BuildingInstallation"</code>
     <tr>
      <td><code>"Bridge"</code>
      <td><code>"BridgePart"</code>, <code>"BridgeInstallation"</code>, <code>"BridgeConstructionElement"</code>
     <tr>
      <td><code>"CityObjectGroup"</code>
      <td>
     <tr>
      <td><code>"CityFurniture"</code>
      <td>
     <tr>
      <td><code>"GenericCityObject"</code>
      <td>
     <tr>
      <td><code>"LandUse"</code>
      <td>
     <tr>
      <td><code>"PlantCover"</code>
      <td>
     <tr>
      <td><code>"Railway"</code>
      <td>
     <tr>
      <td><code>"Road"</code>
      <td>
     <tr>
      <td><code>"SolitaryVegetationObject"</code>
      <td>
     <tr>
      <td><code>"TINRelief"</code>
      <td>
     <tr>
      <td><code>"TransportSquare"</code>
      <td>
     <tr>
      <td><code>"Tunnel"</code>
      <td><code>"TunnelPart"</code>, <code>"TunnelInstallation"</code>
     <tr>
      <td><code>"WaterBody"</code>
      <td>
   </table>
   <p>There are 2 kinds of City Objects, this is because the schema of CityGML has been flattened out. Both types are represented as a City Object in a CityJSON Object.</p>
   <ol>
    <li data-md>
     <p><strong>1st-level</strong>: City Objects that can "exist by themselves".</p>
    <li data-md>
     <p><strong>2nd-level</strong>: City Objects that need to have a <code>"parents"</code> to exist.</p>
   </ol>
   <p>For example, a <code>"BuildingInstallation"</code> cannot be present in a dataset without being the <code>"children"</code> of a <code>"Building"</code>, but a <code>"Building"</code> can be present by itself.</p>
   <p>A City Object:</p>
   <ul>
    <li data-md>
     <p>must have one member with the name <code>"geometry"</code>, whose value is an array containing 0 or more Geometry Objects. More than one Geometry Object is used to represent several different levels-of-detail (LoDs) for the same object. However, the different Geometry Objects of a given City Object do not have be of different LoDs.</p>
    <li data-md>
     <p>may have one member with the name <code>"attributes"</code>, whose value is an object with the different attributes allowed by CityGML.</p>
    <li data-md>
     <p>may have one member with the name <code>"geographicalExtent"</code> (the axis-aligned bounding box of the City Object), whose value is an array with 6 values: <code>[minx, miny, minz, maxx, maxy, maxz]</code></p>
    <li data-md>
     <p>may have one member <code>"children"</code>, which consists of an array of the IDs (of type string) of the 2nd-level City Objects that are part of the City Object. A City Object can have different types of City Objects as children, eg a <code>"Building"</code> can have both as children <code>"BuildingPart"</code> and <code>"BuildingInstallation"</code>. The order of the children in the array is not relevant.</p>
    <li data-md>
     <p>of type 2nd-level must have one member <code>"parents"</code>, which consists of an array of the IDs (of type string) of the City Objects that are its parents. For the City Objects in the core module of CityJSON, this array will always be of size 1 (only one parent). New City Objects defined in extensions can have more than one parents. Notice that a 2nd-level City Object may also have one member <code>"children"</code> (for instance for a <code>"BuildingPart"</code> that contains a <code>"BuildingInstallation"</code>).</p>
   </ul>
<pre class="language-javascript highlight"><c- u>"CityObjects"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"id-1"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"Building"</c-><c- p>,</c->
    <c- u>"geographicalExtent"</c-><c- o>:</c-> <c- p>[</c-> <c- mf>84710.1</c-><c- p>,</c-> <c- mf>446846.0</c-><c- p>,</c-> <c- o>-</c-><c- mf>5.3</c-><c- p>,</c-> <c- mf>84757.1</c-><c- p>,</c-> <c- mf>446944.0</c-><c- p>,</c-> <c- mf>40.9</c-> <c- p>],</c-> 
    <c- u>"attributes"</c-><c- o>:</c-> <c- p>{</c-> 
      <c- u>"measuredHeight"</c-><c- o>:</c-> <c- mf>22.3</c-><c- p>,</c->
      <c- u>"roofType"</c-><c- o>:</c-> <c- u>"gable"</c-><c- p>,</c->
      <c- u>"owner"</c-><c- o>:</c-> <c- u>"Elvis Presley"</c->
    <c- p>},</c->
    <c- u>"children"</c-><c- o>:</c-> <c- p>[</c-><c- u>"id-2"</c-><c- p>],</c->
    <c- u>"geometry"</c-><c- o>:</c-> <c- p>[{...}]</c->
  <c- p>},</c->
  <c- u>"id-2"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"BuildingPart"</c-><c- p>,</c-> 
    <c- u>"parents"</c-><c- o>:</c-> <c- p>[</c-><c- u>"id-1"</c-><c- p>],</c->
    <c- p>...</c->
  <c- p>},</c->
  <c- u>"id-3"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"BuildingInstallation"</c-><c- p>,</c-> 
    <c- u>"parents"</c-><c- o>:</c-> <c- p>[</c-><c- u>"id-1"</c-><c- p>],</c->
    <c- p>...</c->
  <c- p>},</c->
  <c- u>"id-4"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"LandUse"</c-><c- p>,</c-> 
    <c- p>...</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="2.1" id="attributes"><span class="secno">2.1. </span><span class="content">Attributes</span><a class="self-link" href="#attributes"></a></h3>
   <p>The attributes prescribed by CityGML differ per City Object, and can be seen either in the <a href="https://portal.opengeospatial.org/files/?artifact_id=47842">official CityGML documentation</a> or in the schemas of CityJSON.</p>
   <p>In CityJSON, any other attributes not prescribed by the CityGML data model can be added with a JSON key-value pair ("owner" in the example above is one such attribute) in the <code>"attributes"</code> of a City Object.</p>
   <p>All the City Objects have the following 3 possible attributes:</p>
   <ol>
    <li data-md>
     <p><code>"class"</code></p>
    <li data-md>
     <p><code>"function"</code></p>
    <li data-md>
     <p><code>"usage"</code></p>
   </ol>
   <p>While CityGML does not prescribe the values for these, the <a href="http://www.sig3d.de/codelists/standard/">SIG 3D maintains a codelist</a> that can be used.
In CityJSON, as can be seen in the schemas, the values should be a string, thus either the name of the values should be used, or the code as a string:</p>
<pre class="language-javascript highlight"><c- u>"CityObjects"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"id-1"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"LandUse"</c-><c- p>,</c-> 
    <c- u>"attributes"</c-><c- o>:</c-> <c- p>{</c-> 
      <c- u>"function"</c-><c- o>:</c-> <c- u>"Industry and Business"</c->
    <c- p>},</c->
    <c- u>"geometry"</c-><c- o>:</c-> <c- p>[{...}]</c->
  <c- p>},</c->
  <c- u>"id-2"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"WaterBody"</c-><c- p>,</c-> 
    <c- u>"attributes"</c-><c- o>:</c-> <c- p>{</c-> 
      <c- u>"class"</c-><c- o>:</c-> <c- u>"1010"</c->
    <c- p>},</c->
    <c- u>"geometry"</c-><c- o>:</c-> <c- p>[{...}]</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="2.2" id="building"><span class="secno">2.2. </span><span class="content">Building</span><a class="self-link" href="#building"></a></h3>
   <p>Three City Objects are related to buildings: <code>"Building"</code>, <code>"BuildingPart"</code>, and <code>"BuildingInstallation"</code>.</p>
   <p>The geometry of both <code>"Building"</code> and <code>"BuildingPart"</code> can only be represented with these Geometry Objects: (1) <code>"Solid"</code>, (2) <code>"CompositeSolid"</code>, (3) <code>"MultiSurface"</code>.</p>
   <p>The geometry of a <code>"BuildingInstallation"</code> object can be represented with any of the Geometry Objects.</p>
   <p>A City Object of type <code>"Building"</code> or <code>"BuildingPart"</code> may have a member <code>"address"</code>, whose value is a JSON object describing the address. One location (a <code>"MultiPoint"</code>) can be given, for instance to position the front door inside the building.</p>
<pre class="language-javascript highlight"><c- u>"CityObjects"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"id-1"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"Building"</c-><c- p>,</c-> 
    <c- u>"attributes"</c-><c- o>:</c-> <c- p>{</c-> 
      <c- u>"roofType"</c-><c- o>:</c-> <c- u>"gable"</c->
    <c- p>},</c->
    <c- u>"geographicalExtent"</c-><c- o>:</c-> <c- p>[</c-> <c- mf>84710.1</c-><c- p>,</c-> <c- mf>446846.0</c-><c- p>,</c-> <c- o>-</c-><c- mf>5.3</c-><c- p>,</c-> <c- mf>84757.1</c-><c- p>,</c-> <c- mf>446944.0</c-><c- p>,</c-> <c- mf>40.9</c-> <c- p>],</c->
    <c- u>"children"</c-><c- o>:</c-> <c- p>[</c-><c- u>"id-56"</c-><c- p>,</c-> <c- u>"id-832"</c-><c- p>,</c-> <c- u>"mybalcony"</c-><c- p>]</c->
  <c- p>},</c->
  <c- u>"id-56"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"BuildingPart"</c-><c- p>,</c-> 
    <c- u>"parents"</c-><c- o>:</c-> <c- p>[</c-><c- u>"id-1"</c-><c- p>],</c->
    <c- p>...</c->
  <c- p>},</c->
  <c- u>"mybalcony"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"BuildingInstallation"</c-><c- p>,</c-> 
    <c- u>"parents"</c-><c- o>:</c-> <c- p>[</c-><c- u>"id-1"</c-><c- p>],</c->
    <c- p>...</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"Building"</c-><c- p>,</c-> 
  <c- u>"address"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"CountryName"</c-><c- o>:</c-> <c- u>"Canada"</c-><c- p>,</c->
    <c- u>"LocalityName"</c-><c- o>:</c-> <c- u>"Chibougamau"</c-><c- p>,</c->
    <c- u>"ThoroughfareNumber"</c-><c- o>:</c-> <c- u>"1"</c-><c- p>,</c->
    <c- u>"ThoroughfareName"</c-><c- o>:</c-> <c- u>"rue de la Patate"</c-><c- p>,</c->
    <c- u>"PostalCode"</c-><c- o>:</c-> <c- u>"H0H 0H0"</c->
  <c- p>},</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="2.3" id="transportation"><span class="secno">2.3. </span><span class="content">Transportation</span><a class="self-link" href="#transportation"></a></h3>
   <p>CityJSON uses 3 classes related to transportation (<code>"Road"</code>, <code>"Railway"</code>, <code>"TransportSquare"</code>) and omits the "Track" from CityGML because it simply can be a road with specific attributes. <code>"TransportSquare"</code> is used to model for instance parking lots and squares.</p>
   <p>In CityGML, each of the 3 classes can have a number of "TrafficArea" and "AuxiliaryTrafficArea", which are defined as new surfaces. In CityJSON, these surfaces do not need to be defined again since the road surfaces become Semantic Surface Objects (with type <code>"TrafficArea"</code> or <code>"AuxiliaryTrafficArea"</code>). That is, the surface representing a road should be split into sub-surfaces (therefore forming a <code>"MultiSurface"</code> or a <code>"CompositeSurface"</code>), and each of the sub-surfaces get a semantics attached to it.</p>
   <p>The geometry of a City Object of type <code>"Road"</code>, <code>"Railway"</code>, <code>"TransportSquare"</code> can be of types <code>"MultiSurface"</code>, <code>"CompositeSurface"</code> or <code>"MultiLineString"</code>.</p>
<pre class="language-javascript highlight"><c- u>"ma_rue"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"Road"</c-><c- p>,</c-> 
  <c- u>"geometry"</c-><c- o>:</c-> <c- p>[{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"MultiSurface"</c-><c- p>,</c->
    <c- u>"lod"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
    <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c->
       <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>4</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>666</c-><c- p>,</c-> <c- mi>12</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>5</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>20</c-><c- p>,</c-> <c- mi>21</c-><c- p>,</c-> <c- mi>75</c-><c- p>]]</c->
    <c- p>]</c->
  <c- p>}],</c->
  <c- u>"semantics"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"surfaces"</c-><c- o>:</c-> <c- p>[</c->
      <c- p>{</c->
        <c- u>"type"</c-><c- o>:</c-> <c- u>"TrafficArea"</c-><c- p>,</c->
        <c- u>"surfaceMaterial"</c-><c- o>:</c-> <c- p>[</c-><c- u>"asphalt"</c-><c- p>],</c->
        <c- u>"function"</c-><c- o>:</c-> <c- u>"road"</c->
      <c- p>},</c->
      <c- p>{</c->
        <c- u>"type"</c-><c- o>:</c-> <c- u>"AuxiliaryTrafficArea"</c-><c- p>,</c->
        <c- u>"function"</c-><c- o>:</c-> <c- u>"green areas"</c->
      <c- p>},</c->
      <c- p>{</c->
        <c- u>"type"</c-><c- o>:</c-> <c- u>"TrafficArea"</c-><c- p>,</c->
        <c- u>"surfaceMaterial"</c-><c- o>:</c-> <c- p>[</c-><c- u>"dirt"</c-><c- p>],</c->
        <c- u>"function"</c-><c- o>:</c-> <c- u>"road"</c->
      <c- p>}</c->
    <c- p>],</c->
    <c- u>"values"</c-><c- o>:</c-> <c- p>[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- kc>null</c-><c- p>,</c-> <c- mi>2</c-><c- p>]</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="2.4" id="tinrelief"><span class="secno">2.4. </span><span class="content">TINRelief</span><a class="self-link" href="#tinrelief"></a></h3>
   <p>The geometry of a City Object of type <code>"TINRelief"</code> can only be of type <code>"CompositeSurface"</code>.</p>
   <p>CityJSON does not define a specific Geometry Object for a TIN (triangulated irregular network), it is simply a CompositeSurface for which every surface is a triangle (thus a polygon having 3 vertices, and no interior ring).</p>
<pre class="language-javascript highlight"><c- u>"myterrain01"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"TINRelief"</c-><c- p>,</c-> 
  <c- u>"geographicalExtent"</c-><c- o>:</c-> <c- p>[</c-> <c- mf>84710.1</c-><c- p>,</c-> <c- mf>446846.0</c-><c- p>,</c-> <c- o>-</c-><c- mf>5.3</c-><c- p>,</c-> <c- mf>84757.1</c-><c- p>,</c-> <c- mf>446944.0</c-><c- p>,</c-> <c- mf>40.9</c-> <c- p>],</c->
  <c- u>"geometry"</c-><c- o>:</c-> <c- p>[{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"CompositeSurface"</c-><c- p>,</c->
    <c- u>"lod"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
    <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c->
       <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>2</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>6</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>5</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>1</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>6</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>2</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>7</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>3</c-><c- p>,</c-> <c- mi>0</c-><c- p>,</c-> <c- mi>4</c-><c- p>]]</c->
    <c- p>]</c->
  <c- p>}]</c->    
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="2.5" id="waterbody"><span class="secno">2.5. </span><span class="content">WaterBody</span><a class="self-link" href="#waterbody"></a></h3>
   <p>The geometry of a City Object of type <code>"WaterBody"</code> can be of types: <code>"MultiLineString"</code>, <code>"MultiSurface"</code>, <code>"CompositeSurface"</code>, <code>"Solid"</code>, or <code>"CompositeSolid"</code>.</p>
<pre class="language-javascript highlight"><c- u>"mygreatlake"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"WaterBody"</c-><c- p>,</c-> 
  <c- u>"attributes"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"usage"</c-><c- o>:</c-> <c- u>"leisure"</c-><c- p>,</c->
  <c- p>},</c->
  <c- u>"geometry"</c-><c- o>:</c-> <c- p>[{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"Solid"</c-><c- p>,</c->
    <c- u>"lod"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
    <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c->
      <c- p>[</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>1</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>7</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>4</c-><c- p>]]</c-> <c- p>]</c->
    <c- p>]</c->
  <c- p>}]</c->    
<c- p>}</c->               
</pre>
   <h3 class="heading settled" data-level="2.6" id="landuse"><span class="secno">2.6. </span><span class="content">LandUse</span><a class="self-link" href="#landuse"></a></h3>
   <p>The geometry of a City Object of type <code>"LandUse"</code> can be of type <code>"MultiSurface"</code> or <code>"CompositeSurface"</code>.</p>
<pre class="language-javascript highlight"><c- u>"oneparcel"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"LandUse"</c-><c- p>,</c-> 
  <c- u>"geometry"</c-><c- o>:</c-> <c- p>[{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"MultiSurface"</c-><c- p>,</c->
    <c- u>"lod"</c-><c- o>:</c-> <c- mi>1</c-><c- p>,</c->
    <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c->
      <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>1</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>7</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>4</c-><c- p>]]</c->
    <c- p>]</c->
  <c- p>}]</c->    
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="2.7" id="plantcover"><span class="secno">2.7. </span><span class="content">PlantCover</span><a class="self-link" href="#plantcover"></a></h3>
   <p>The geometry of a City Object of type <code>"PlantCover"</code> can be of type <code>"MultiSurface"</code> or <code>"MultiSolid"</code>.</p>
<pre class="language-javascript highlight"><c- u>"plants"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"PlantCover"</c-><c- p>,</c-> 
  <c- u>"attributes"</c-><c- o>:</c-> <c- p>{</c-> 
    <c- u>"averageHeight"</c-><c- o>:</c-> <c- mf>11.05</c->
  <c- p>},</c->
  <c- u>"geometry"</c-><c- o>:</c-> <c- p>[{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"MultiSolid"</c-><c- p>,</c->
    <c- u>"lod"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
    <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c->
      <c- p>[</c->
        <c- p>[</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>1</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>7</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>4</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>10</c-><c- p>,</c-> <c- mi>13</c-><c- p>,</c-> <c- mi>22</c-><c- p>,</c-> <c- mi>31</c-><c- p>]]</c-> <c- p>]</c->
      <c- p>],</c->
      <c- p>[</c->
        <c- p>[</c-> <c- p>[[</c-><c- mi>5</c-><c- p>,</c-> <c- mi>34</c-><c- p>,</c-> <c- mi>31</c-><c- p>,</c-> <c- mi>12</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>44</c-><c- p>,</c-> <c- mi>54</c-><c- p>,</c-> <c- mi>62</c-><c- p>,</c-> <c- mi>74</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>10</c-><c- p>,</c-> <c- mi>111</c-><c- p>,</c-> <c- mi>445</c-><c- p>,</c-> <c- mi>222</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>111</c-><c- p>,</c-> <c- mi>123</c-><c- p>,</c-> <c- mi>922</c-><c- p>,</c-> <c- mi>66</c-><c- p>]]</c-> <c- p>]</c->
      <c- p>]</c->  
    <c- p>]</c->
  <c- p>}]</c->    
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="2.8" id="solitaryvegetationobject"><span class="secno">2.8. </span><span class="content">SolitaryVegetationObject</span><a class="self-link" href="#solitaryvegetationobject"></a></h3>
   <p>The geometry of a City Object of type <code>"SolitaryVegetationObject"</code> can be any of the following: <code>"MultiPoint"</code>, <code>"MultiLineString"</code>, <code>"MultiSurface"</code>, <code>"CompositeSurface"</code>, <code>"Solid"</code>, or <code>"CompositeSolid"</code>.</p>
<pre class="language-javascript highlight"><c- u>"onebigtree"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"SolitaryVegetationObject"</c-><c- p>,</c-> 
  <c- u>"attributes"</c-><c- o>:</c-> <c- p>{</c-> 
    <c- u>"trunkDiameter"</c-><c- o>:</c-> <c- mf>5.3</c-><c- p>,</c->
    <c- u>"crownDiameter"</c-><c- o>:</c-> <c- mf>11.0</c->
  <c- p>},</c->
  <c- u>"geometry"</c-><c- o>:</c-> <c- p>[{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"MultiPoint"</c-><c- p>,</c->
    <c- u>"lod"</c-><c- o>:</c-> <c- mi>0</c-><c- p>,</c->
    <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c-><c- mi>1</c-><c- p>]</c->
  <c- p>}]</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="2.9" id="cityfurniture"><span class="secno">2.9. </span><span class="content">CityFurniture</span><a class="self-link" href="#cityfurniture"></a></h3>
   <p>The geometry of a City Object of type <code>"CityFurniture"</code> can be any of the following: <code>"MultiPoint"</code>, <code>"MultiLineString"</code>, <code>"MultiSurface"</code>, <code>"CompositeSurface"</code>, <code>"Solid"</code>, or <code>"CompositeSolid"</code>.</p>
<pre class="language-javascript highlight"><c- u>"stop"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"CityFurniture"</c-><c- p>,</c-> 
  <c- u>"attributes"</c-><c- o>:</c-> <c- p>{</c-> 
    <c- u>"function"</c-><c- o>:</c-> <c- u>"bus stop"</c->
  <c- p>},</c->
  <c- u>"geometry"</c-><c- o>:</c-> <c- p>[{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"MultiSurface"</c-><c- p>,</c->
    <c- u>"lod"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
    <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c->
      <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>1</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>7</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>4</c-><c- p>]]</c->
    <c- p>]</c->
  <c- p>}]</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="2.10" id="genericcityobject"><span class="secno">2.10. </span><span class="content">GenericCityObject</span><a class="self-link" href="#genericcityobject"></a></h3>
   <p>The geometry of a City Object of type <code>"GenericCityObject"</code> can be any of the following: <code>"MultiPoint"</code>, <code>"MultiLineString"</code>, <code>"MultiSurface"</code>, <code>"CompositeSurface"</code>, <code>"Solid"</code>, or <code>"CompositeSolid"</code>.</p>
<pre class="language-javascript highlight"><c- u>"whatisthat"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"GenericCityObject"</c-><c- p>,</c-> 
  <c- u>"attributes"</c-><c- o>:</c-> <c- p>{</c-> 
    <c- u>"usage"</c-><c- o>:</c-> <c- u>"it’s not clear"</c->
  <c- p>},</c->
  <c- u>"geometry"</c-><c- o>:</c-> <c- p>[{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"CompositeSurface"</c-><c- p>,</c->
    <c- u>"lod"</c-><c- o>:</c-> <c- mi>1</c-><c- p>,</c->
    <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c->
      <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>1</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>7</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>4</c-><c- p>]]</c->
    <c- p>]</c->
  <c- p>}]</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="2.11" id="bridge"><span class="secno">2.11. </span><span class="content">Bridge</span><a class="self-link" href="#bridge"></a></h3>
   <p>Four City Objects are related to bridges: <code>"Bridge"</code>, <code>"BridgePart"</code>, <code>"BridgeInstallation"</code>, and <code>"BridgeConstructionElement"</code>.</p>
   <p>The geometry of both <code>"Bridge"</code> and <code>"BridgePart"</code> can only be represented with these Geometry Objects: (1) <code>"Solid"</code>, (2) <code>"CompositeSolid"</code>, (3) <code>"MultiSurface"</code>.</p>
   <p>The geometry of a <code>"BridgeInstallation"</code> or <code>"BridgeConstructionElement"</code> object can be represented with any of the Geometry Objects.</p>
   <p>A City Object of type <code>"Bridge"</code> or <code>"BridgePart"</code> may have a member <code>"address"</code>, whose value is a JSON object describing the address. One location (a <code>"MultiPoint"</code>) can be given, for instance to locate the front door inside the building.</p>
<pre class="language-javascript highlight"><c- u>"CityObjects"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"LondonTower"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"Bridge"</c-><c- p>,</c-> 
    <c- u>"address"</c-><c- o>:</c-> <c- p>{</c->
      <c- u>"CountryName"</c-><c- o>:</c-> <c- u>"UK"</c-><c- p>,</c->
      <c- u>"LocalityName"</c-><c- o>:</c-> <c- u>"London"</c->
    <c- p>},</c->
    <c- u>"children"</c-><c- o>:</c-> <c- p>[</c-><c- u>"Bext1"</c-><c- p>,</c-> <c- u>"Bext2"</c-><c- p>,</c-> <c- u>"Inst-2017-11-14"</c-><c- p>],</c->
    <c- u>"geometry"</c-><c- o>:</c-> <c- p>[{</c->
      <c- u>"type"</c-><c- o>:</c-> <c- u>"MultiSurface"</c-><c- p>,</c->
      <c- u>"lod"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
      <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c->
        <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>1</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>7</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>4</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>1</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>5</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>2</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>7</c-><c- p>,</c-> <c- mi>6</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>3</c-><c- p>,</c-> <c- mi>0</c-><c- p>,</c-> <c- mi>4</c-><c- p>,</c-> <c- mi>7</c-><c- p>]]</c->
      <c- p>]</c->
    <c- p>}]</c->    
  <c- p>}</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="2.12" id="tunnel"><span class="secno">2.12. </span><span class="content">Tunnel</span><a class="self-link" href="#tunnel"></a></h3>
   <p>Three City Objects are related to tunnels: <code>"Tunnel"</code>, <code>"TunnelPart"</code>, and <code>"TunnelInstallation"</code>.</p>
   <p>The geometry of both <code>"Tunnel"</code> and <code>"TunnelPart"</code> can only be represented with these Geometry Objects: (1) <code>"Solid"</code>, (2) <code>"CompositeSolid"</code>, (3) <code>"MultiSurface"</code>.</p>
   <p>The geometry of a <code>"TunnelInstallation"</code> object can be represented with any of the Geometry Objects.</p>
<pre class="language-javascript highlight"><c- u>"CityObjects"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"Lærdalstunnelen"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"Tunnel"</c-><c- p>,</c-> 
    <c- u>"attributes"</c-><c- o>:</c-> <c- p>{</c-> 
      <c- u>"yearOfConstruction"</c-><c- o>:</c-> <c- mi>2000</c-><c- p>,</c->
      <c- u>"length"</c-><c- o>:</c-> <c- u>"24.5km"</c->
    <c- p>},</c->
    <c- u>"children"</c-><c- o>:</c-> <c- p>[</c-><c- u>"stoparea1"</c-><c- p>],</c->
    <c- u>"geometry"</c-><c- o>:</c-> <c- p>[{</c->
      <c- u>"type"</c-><c- o>:</c-> <c- u>"Solid"</c-><c- p>,</c->
      <c- u>"lod"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
      <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c->
        <c- p>[</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>1</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>7</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>4</c-><c- p>]]</c-> <c- p>]</c->
      <c- p>]</c->
    <c- p>}]</c-> 
  <c- p>}</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="2.13" id="cityobjectgroup"><span class="secno">2.13. </span><span class="content">CityObjectGroup</span><a class="self-link" href="#cityobjectgroup"></a></h3>
   <p>The CityGML concept of <em>groups</em>, where City Objects are aggregated based on certain criteria (think of a neighbourhood for instance), is possible in CityJSON. As in CityGML, the group is a City Object, and it can contain, if needed, a geometry (the polygon representing the neighbourhood for instance).</p>
   <p>A City Object of type <code>"CityObjectGroup"</code> must have a member <code>"members"</code>, whose value is an array of the IDs of the City Objects that the group contains. Since a <code>"CityObjectGroup"</code> is also a City Object, it can be part of another group.</p>
   <p>As for other City Objects, a City Object of type <code>"CityObjectGroup"</code> may have a member <code>"geometry"</code>, although only one geometry is allowed in the array of geometries.</p>
<pre class="language-javascript highlight"><c- u>"CityObjects"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"my-neighbourhood"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"CityObjectGroup"</c-><c- p>,</c->
    <c- u>"members"</c-><c- o>:</c-> <c- p>[</c-><c- u>"building1"</c-><c- p>,</c-> <c- u>"building2"</c-><c- p>],</c->
    <c- u>"geometry"</c-><c- o>:</c-> <c- p>[{</c->
      <c- u>"type"</c-><c- o>:</c-> <c- u>"MultiSurface"</c-><c- p>,</c->
      <c- u>"lod"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
      <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c-> <c- p>[[</c-><c- mi>2</c-><c- p>,</c-> <c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>]]</c-> <c- p>]</c->
    <c- p>}]</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   <h2 class="heading settled" data-level="3" id="geometry-objects"><span class="secno">3. </span><span class="content">Geometry Objects</span><a class="self-link" href="#geometry-objects"></a></h2>
   <p>CityJSON defines the following 3D geometric primitives, all of them are embedded in 3D space (and therefore their vertices have <em>(x, y, z)</em> coordinates). The indexing mechanism of the format <a href="https://en.wikipedia.org/wiki/Wavefront_.obj_file">Wavefront OBJ</a> is reused, that is a geometry does not store the locations of its vertices, but points to a vertex in a list (property <code>"vertices"</code> in the CityJSON Object).</p>
   <p>As is the case in CityGML, only linear and planar primitives are allowed; no curves or parametric surfaces can be represented.</p>
   <p>A Geometry object is a JSON object for which the type member’s value is one of the following:</p>
   <ol>
    <li data-md>
     <p><code>"MultiPoint"</code></p>
    <li data-md>
     <p><code>"MultiLineString"</code></p>
    <li data-md>
     <p><code>"MultiSurface"</code></p>
    <li data-md>
     <p><code>"CompositeSurface"</code></p>
    <li data-md>
     <p><code>"Solid"</code></p>
    <li data-md>
     <p><code>"MultiSolid"</code></p>
    <li data-md>
     <p><code>"CompositeSolid"</code></p>
   </ol>
   <p>A Geometry object:</p>
   <ul>
    <li data-md>
     <p>must have one member with the name <code>"lod"</code>, whose value is a number identifying the level-of-detail (LoD) of the geometry. This can be either an integer (following the CityGML standards), or a number following the <a href="https://3d.bk.tudelft.nl/lod">improved LoDs by TU Delft</a></p>
    <li data-md>
     <p>must have one member with the name <code>"boundaries"</code>, whose value is a hierarchy of arrays (the depth depends on the Geometry object) with integers. An integer refers to the index in the <code>"vertices"</code> array of the CityJSON object, and it is 0-based (ie the first element in the array has the index "0", the second one "1", etc.).</p>
    <li data-md>
     <p>may have one member <code>"semantics"</code>, whose value is a JSON Object, as defined below.</p>
    <li data-md>
     <p>may have one member <code>"material"</code>, whose value is a JSON Object, as defined below.</p>
    <li data-md>
     <p>may have one member <code>"texture"</code>, whose value is a JSON Object, as defined below.</p>
   </ul>
   <div class="note" role="note"> There is <em>no</em> Geometry Object for MultiGeometry. Instead, for the <code>"geometry"</code> member of a CityObject, the different geometries may be enumerated in the array (all with the same value for the member <code>"lod"</code>). </div>
   <h3 class="heading settled" data-level="3.1" id="the-coordinates-of-the-vertices"><span class="secno">3.1. </span><span class="content">The coordinates of the vertices</span><a class="self-link" href="#the-coordinates-of-the-vertices"></a></h3>
   <p>A CityJSON must have one member named <code>"vertices"</code>, whose value is an array of coordinates of each vertex of the city model. Their position in this array (0-based) is used to represent the Geometric Objects.</p>
   <ul>
    <li data-md>
     <p>one vertex must be an array with exactly 3 values, representing the <em>(x,y,z)</em> location of the vertex.</p>
    <li data-md>
     <p>the array of vertices may be empty.</p>
    <li data-md>
     <p>vertices may be repeated</p>
   </ul>
<pre class="language-javascript highlight"><c- u>"vertices"</c-><c- o>:</c-> <c- p>[</c->
  <c- p>[</c-><c- mf>0.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>],</c->
  <c- p>[</c-><c- mf>1.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>],</c->
  <c- p>[</c-><c- mf>0.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>],</c->
  <c- p>...</c->
  <c- p>[</c-><c- mf>1.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>],</c->
  <c- p>[</c-><c- mf>8523.134</c-><c- p>,</c-> <c- mf>487625.134</c-><c- p>,</c-> <c- mf>2.03</c-><c- p>]</c->
<c- p>]</c->
</pre>
   <h3 class="heading settled" data-level="3.2" id="arrays-to-represent-boundaries"><span class="secno">3.2. </span><span class="content">Arrays to represent boundaries</span><a class="self-link" href="#arrays-to-represent-boundaries"></a></h3>
   <ul>
    <li data-md>
     <p>A <code>"MultiPoint"</code> has an array with the indices of the vertices; this array can be empty.</p>
    <li data-md>
     <p>A <code>"MultiLineString"</code> has an array of arrays, each containing the indices of a LineString</p>
    <li data-md>
     <p>A <code>"MultiSurface"</code>, or a <code>"CompositeSurface"</code>, has an array containing surfaces, each surface is modelled by an array of array, the first array being the exterior boundary of the surface, and the others the interior boundaries.</p>
    <li data-md>
     <p>A <code>"Solid"</code> has an array of shells, the first array being the exterior shell of the solid, and the others the interior shells. Each shell has an array of surfaces, modelled in the exact same way as a MultiSurface/CompositeSurface.</p>
    <li data-md>
     <p>A <code>"MultiSolid"</code>, or a <code>"CompositeSolid"</code>, has an array containing solids, each solid is modelled as above.</p>
   </ul>
   <div class="note" role="note"> JSON does not allow comments, the comments in the example below (C++ style: <code>//-- my comments</code>) are only to explain the cases, and should be removed. </div>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"MultiPoint"</c-><c- p>,</c->
  <c- u>"lod"</c-><c- o>:</c-> <c- mi>1</c-><c- p>,</c->
  <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c-><c- mi>2</c-><c- p>,</c-> <c- mi>44</c-><c- p>,</c-> <c- mi>0</c-><c- p>,</c-> <c- mi>7</c-><c- p>]</c->
<c- p>}</c->
</pre>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"MultiLineString"</c-><c- p>,</c->
  <c- u>"lod"</c-><c- o>:</c-> <c- mi>1</c-><c- p>,</c->
  <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c->
    <c- p>[</c-><c- mi>2</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>5</c-><c- p>],</c-> <c- p>[</c-><c- mi>77</c-><c- p>,</c-> <c- mi>55</c-><c- p>,</c-> <c- mi>212</c-><c- p>]</c->
  <c- p>]</c->  
<c- p>}</c->
</pre>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"MultiSurface"</c-><c- p>,</c->
  <c- u>"lod"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
  <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c->
    <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>1</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>7</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>4</c-><c- p>]]</c->
  <c- p>]</c->
<c- p>}</c->
</pre>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"Solid"</c-><c- p>,</c->
  <c- u>"lod"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
  <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c->
    <c- p>[</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>22</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>7</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>4</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>1</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>5</c-><c- p>]]</c-> <c- p>],</c-> <c- c1>//-- exterior shell</c->
    <c- p>[</c-> <c- p>[[</c-><c- mi>240</c-><c- p>,</c-> <c- mi>243</c-><c- p>,</c-> <c- mi>124</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>244</c-><c- p>,</c-> <c- mi>246</c-><c- p>,</c-> <c- mi>724</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>34</c-><c- p>,</c-> <c- mi>414</c-><c- p>,</c-> <c- mi>45</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>111</c-><c- p>,</c-> <c- mi>246</c-><c- p>,</c-> <c- mi>5</c-><c- p>]]</c-> <c- p>]</c-> <c- c1>//-- interior shell</c->
  <c- p>]</c->
<c- p>}</c->
</pre>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"CompositeSolid"</c-><c- p>,</c->
  <c- u>"lod"</c-><c- o>:</c-> <c- mi>3</c-><c- p>,</c->
  <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c->
    <c- p>[</c-> <c- c1>//-- 1st Solid</c->
      <c- p>[</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>22</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>7</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>4</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>1</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>5</c-><c- p>]]</c-> <c- p>],</c->
      <c- p>[</c-> <c- p>[[</c-><c- mi>240</c-><c- p>,</c-> <c- mi>243</c-><c- p>,</c-> <c- mi>124</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>244</c-><c- p>,</c-> <c- mi>246</c-><c- p>,</c-> <c- mi>724</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>34</c-><c- p>,</c-> <c- mi>414</c-><c- p>,</c-> <c- mi>45</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>111</c-><c- p>,</c-> <c- mi>246</c-><c- p>,</c-> <c- mi>5</c-><c- p>]]</c-> <c- p>]</c->
    <c- p>],</c->
    <c- p>[</c-> <c- c1>//-- 2st Solid</c->
      <c- p>[</c-> <c- p>[[</c-><c- mi>666</c-><c- p>,</c-> <c- mi>667</c-><c- p>,</c-> <c- mi>668</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>74</c-><c- p>,</c-> <c- mi>75</c-><c- p>,</c-> <c- mi>76</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>880</c-><c- p>,</c-> <c- mi>881</c-><c- p>,</c-> <c- mi>885</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>111</c-><c- p>,</c-> <c- mi>122</c-><c- p>,</c-> <c- mi>226</c-><c- p>]]</c-> <c- p>]</c-> 
    <c- p>]</c->    
  <c- p>]</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="3.3" id="semantic-surface-object"><span class="secno">3.3. </span><span class="content">Semantic Surface Object</span><a class="self-link" href="#semantic-surface-object"></a></h3>
   <p>A Semantics Surface is a JSON object representing the semantics of a surface, and may also represent other attributes of the surface (eg the slope of the roof or the solar potential).</p>
   <p>A Semantic Object:</p>
   <ul>
    <li data-md>
     <p>must have one member with the name <code>"type"</code>, whose value is one of the allowed value. These depend on the City Object, see below.</p>
    <li data-md>
     <p>may have an attribute <code>"parent"</code>, whose value is an integer pointing to another Semantic Object of the same geometry (index of it, 0-based). This is used to explicitly represent to which wall or roof a window or door belongs to; there can be only one parent.</p>
    <li data-md>
     <p>may have an attribute <code>"children"</code>, whose value is an array of integers pointing to other Semantic Objects of the same geometry (index of it, 0-based). This is used to explicitly represent the openings (windows and doors) of walls and roofs.</p>
    <li data-md>
     <p>may have other attributes in the form of a JSON key-value pair, where the value must not be a JSON object (but a string/number/integer/boolean).</p>
   </ul>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"RoofSurface"</c-><c- p>,</c->
  <c- u>"slope"</c-><c- o>:</c-> <c- mf>16.4</c-><c- p>,</c->
  <c- u>"children"</c-><c- o>:</c-> <c- p>[</c-><c- mi>2</c-><c- p>,</c-> <c- mi>37</c-><c- p>],</c->
  <c- u>"solar-potential"</c-><c- o>:</c-> <c- mi>5</c->
<c- p>}</c->

<c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"Window"</c-><c- p>,</c->
  <c- u>"parent"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
  <c- u>"type-glass"</c-><c- o>:</c-> <c- u>"HR++"</c->
<c- p>}</c->
</pre>
   <p><code>"Building"</code>, <code>"BuildingPart"</code>, and <code>"BuildingInstallation"</code> can have the following semantics for (LoD0 to LoD3; LoD4 is omitted):</p>
   <ul>
    <li data-md>
     <p><code>"RoofSurface"</code></p>
    <li data-md>
     <p><code>"GroundSurface"</code></p>
    <li data-md>
     <p><code>"WallSurface"</code></p>
    <li data-md>
     <p><code>"ClosureSurface"</code></p>
    <li data-md>
     <p><code>"OuterCeilingSurface"</code></p>
    <li data-md>
     <p><code>"OuterFloorSurface"</code></p>
    <li data-md>
     <p><code>"Window"</code></p>
    <li data-md>
     <p><code>"Door"</code></p>
   </ul>
   <p>For <code>"WaterBody"</code>:</p>
   <ul>
    <li data-md>
     <p><code>"WaterSurface"</code></p>
    <li data-md>
     <p><code>"WaterGroundSurface"</code></p>
    <li data-md>
     <p><code>"WaterClosureSurface"</code></p>
   </ul>
   <p>For Transportation (<code>"Road"</code>, <code>"Railway"</code>, <code>"TransportSquare"</code>):</p>
   <ul>
    <li data-md>
     <p><code>"TrafficArea"</code></p>
    <li data-md>
     <p><code>"AuxiliaryTrafficArea"</code></p>
   </ul>
   <p>Because in one given City Object (say a <code>"Building"</code>) several surfaces can have the same semantics (think of a complex building that has been triangulated, there can be dozens of triangles used to model the same surface), a Semantic Surfaces object has to be declared once, and each of the surfaces used to represent it points to it. This is achieved by first declaring all the Semantic Surfaces in an array, and then having an array where each surface links to Semantic Surfaces (position in the array).</p>
   <p>A Geometry object:</p>
   <ul>
    <li data-md>
     <p>may have one member with the name <code>"semantics"</code>, whose values are two properties: <code>"surfaces"</code> and <code>"values"</code>. Both have to be present.</p>
    <li data-md>
     <p>the value of <code>"surfaces"</code> is an array of Semantic Surface Objects.</p>
    <li data-md>
     <p>the value of <code>"values"</code> is a hierarchy of arrays (the depth depends on the Geometry object; it is two less than the array <code>"boundaries"</code>) with integers. An integer refers to the index in the <code>"surfaces"</code> array of the same geometry, and it is 0-based. If one surface has no semantics, a value of <code>null</code> must be used.</p>
   </ul>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"MultiSurface"</c-><c- p>,</c->
  <c- u>"lod"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
  <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c->
    <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>1</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>7</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>4</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>8</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>10</c-><c- p>,</c-> <c- mi>12</c-><c- p>,</c-> <c- mi>23</c-><c- p>,</c-> <c- mi>48</c-><c- p>]]</c->
  <c- p>],</c->
  <c- u>"semantics"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"surfaces"</c-> <c- o>:</c-> <c- p>[</c->
      <c- p>{</c->
        <c- u>"type"</c-><c- o>:</c-> <c- u>"WallSurface"</c-><c- p>,</c->
        <c- u>"slope"</c-><c- o>:</c-> <c- mf>33.4</c-><c- p>,</c->
        <c- u>"children"</c-><c- o>:</c-> <c- p>[</c-><c- mi>2</c-><c- p>]</c->
      <c- p>},</c-> 
      <c- p>{</c->
        <c- u>"type"</c-><c- o>:</c-> <c- u>"RoofSurface"</c-><c- p>,</c->
        <c- u>"slope"</c-><c- o>:</c-> <c- mf>66.6</c->
      <c- p>},</c->
      <c- p>{</c->
        <c- u>"type"</c-><c- o>:</c-> <c- u>"Door"</c-><c- p>,</c->
        <c- u>"parent"</c-><c- o>:</c-> <c- mi>0</c-><c- p>,</c->
        <c- u>"colour"</c-><c- o>:</c-> <c- u>"blue"</c->
      <c- p>}</c->
    <c- p>],</c->
    <c- u>"values"</c-><c- o>:</c-> <c- p>[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>0</c-><c- p>,</c-> <c- kc>null</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>2</c-><c- p>]</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   <div class="note" role="note"> A <code>null</code> value is used to specify that a given surface has no semantics, but to avoid having arrays filled with <code>null</code>, it is also possible to specify <code>null</code> for a shell or a whole Solid in a MultiSolid, the <code>null</code> propagates to the nested arrays. </div>
<pre class="language-javascript highlight"><c- p>{</c->
   <c- u>"type"</c-><c- o>:</c-> <c- u>"CompositeSolid"</c-><c- p>,</c->
   <c- u>"lod"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
   <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c->
     <c- p>[</c-> <c- c1>//-- 1st Solid</c->
       <c- p>[</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>22</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>7</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>4</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>1</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>5</c-><c- p>]]</c-> <c- p>]</c->
     <c- p>],</c->
     <c- p>[</c-> <c- c1>//-- 2nd Solid</c->
       <c- p>[</c-> <c- p>[[</c-><c- mi>666</c-><c- p>,</c-> <c- mi>667</c-><c- p>,</c-> <c- mi>668</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>74</c-><c- p>,</c-> <c- mi>75</c-><c- p>,</c-> <c- mi>76</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>880</c-><c- p>,</c-> <c- mi>881</c-><c- p>,</c-> <c- mi>885</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>111</c-><c- p>,</c-> <c- mi>122</c-><c- p>,</c-> <c- mi>226</c-><c- p>]]</c-> <c- p>]</c-> 
     <c- p>]</c->    
   <c- p>],</c->
   <c- u>"semantics"</c-><c- o>:</c-> <c- p>{</c->
     <c- u>"surfaces"</c-> <c- o>:</c-> <c- p>[</c->
       <c- p>{</c->      
         <c- u>"type"</c-><c- o>:</c-> <c- u>"RoofSurface"</c-><c- p>,</c->
       <c- p>},</c-> 
       <c- p>{</c->
         <c- u>"type"</c-><c- o>:</c-> <c- u>"WallSurface"</c-><c- p>,</c->
       <c- p>}</c->
     <c- p>],</c->
     <c- u>"values"</c-><c- o>:</c-> <c- p>[</c->
       <c- p>[</c-> <c- c1>//-- 1st Solid</c->
         <c- p>[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- kc>null</c-><c- p>]</c->
       <c- p>],</c->
       <c- p>[</c-> <c- c1>//-- 2nd Solid get all null values</c->
         <c- kc>null</c->
       <c- p>]</c->
     <c- p>]</c->
   <c- p>}</c->
 <c- p>}</c->  
</pre>
   <h2 class="heading settled" data-level="4" id="metadata"><span class="secno">4. </span><span class="content">Metadata</span><a class="self-link" href="#metadata"></a></h2>
   <p>The metadata related to the 3D city model may be stored in a JSON object that may have different members, as follows.
Many of the members in <a href="https://www.iso.org/standard/53798.html">ISO19115</a> are used, and a few are added because they are useful in 3D in a city modelling context (eg <code>"presentLoDs"</code> and <code>"thematicModels"</code>). 
To see all the possible ones, look at the schema file <a href="https://3d.bk.tudelft.nl/schemas/cityjson/">metadata.schema.json</a> of a given version.</p>
<pre class="language-javascript highlight"><c- u>"metadata"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"datasetTitle"</c-><c- o>:</c-> <c- u>"3D city model of Chibougamau, Canada"</c-><c- p>,</c->
  <c- u>"datasetReferenceDate"</c-><c- o>:</c-> <c- u>"1977-02-28"</c-><c- p>,</c->
  <c- u>"geographicLocation"</c-><c- o>:</c-> <c- u>"Chibougamau, Québec, Canada"</c-><c- p>,</c->
  <c- u>"referenceSystem"</c-><c- o>:</c-> <c- u>"urn:ogc:def:crs:EPSG::2355"</c-><c- p>,</c->
  <c- u>"geographicalExtent"</c-><c- o>:</c-> <c- p>[</c-> <c- mi>84710</c-><c- p>,</c-> <c- mi>346846</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>84757</c-><c- p>,</c-> <c- mi>346944</c-><c- p>,</c-> <c- mi>40</c-> <c- p>],</c->
  <c- u>"datasetPointOfContact"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"contactName"</c-><c- o>:</c-> <c- u>"3D Geoinformation Group"</c-><c- p>,</c->
    <c- u>"phone"</c-><c- o>:</c-> <c- u>"+31-6666666666"</c-><c- p>,</c->
    <c- u>"address"</c-><c- o>:</c-> <c- u>"Delft University of Technology, the Netherlands"</c-><c- p>,</c->
    <c- u>"emailAddress"</c-><c- o>:</c-> <c- u>"elvis@tudelft.nl"</c-><c- p>,</c->
    <c- u>"contactType"</c-><c- o>:</c-> <c- u>"organization"</c-><c- p>,</c->
    <c- u>"website"</c-><c- o>:</c-> <c- u>"https://3d.bk.tudelft.nl"</c->
  <c- p>},</c->
  <c- u>"metadataStandard"</c-><c- o>:</c-> <c- u>"ISO 19115 - Geographic Information - Metadata"</c-><c- p>,</c->
  <c- u>"metadataStandardVersion"</c-><c- o>:</c-> <c- u>"ISO 19115:2014(E)"</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="4.1" id="crs"><span class="secno">4.1. </span><span class="content">CRS</span><a class="self-link" href="#crs"></a></h3>
   <p>The coordinate reference system (CRS) may be given as a string. <a href="http://www.opengeospatial.org/ogcna/">OGC CRS URNs</a> such as <code>"urn:ogc:def:crs:EPSG::7415"</code> are favoured over the legacy ones such as <code>"EPSG:7415"</code>:</p>
   <p>For instance, for the <a href="http://www.spatialreference.org/ref/epsg/7415/">Dutch national CRS in 3D</a>:</p>
<pre class="language-javascript highlight"><c- u>"metadata"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"referenceSystem"</c-><c- o>:</c-> <c- u>"urn:ogc:def:crs:EPSG::7415"</c->
<c- p>}</c->
</pre>
   <p>Be aware that the CRS should be a three-dimensional one, ie the elevation/height values should be with respect to a specific datum.</p>
   <div class="note" role="note"> Unlike in (City)GML where each object can have a different CRS (eg a wall of a building could theoretically have a different from the other walls used to represent the building), in CityJSON all the city objects need to be in the same CRS. </div>
   <h3 class="heading settled" data-level="4.2" id="geographic-extent-bbox"><span class="secno">4.2. </span><span class="content">Geographic Extent (bbox)</span><a class="self-link" href="#geographic-extent-bbox"></a></h3>
   <p>While this can be extracted from the dataset itself, it is useful to store it. It may be stored as an array with 6 values: <code>[minx, miny, minz, maxx, maxy, maxz]</code></p>
<pre class="language-javascript highlight"><c- u>"metadata"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"geographicalExtent"</c-><c- o>:</c-> <c- p>[</c-> <c- mf>84710.1</c-><c- p>,</c-> <c- mf>446846.0</c-><c- p>,</c-> <c- o>-</c-><c- mf>5.3</c-><c- p>,</c-> <c- mf>84757.1</c-><c- p>,</c-> <c- mf>446944.0</c-><c- p>,</c-> <c- mf>40.9</c-> <c- p>]</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="4.3" id="geographic-location"><span class="secno">4.3. </span><span class="content">Geographic location</span><a class="self-link" href="#geographic-location"></a></h3>
   <p>The name of an area or a city.</p>
<pre class="language-javascript highlight"><c- u>"metadata"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"geographicLocation"</c-><c- o>:</c-> <c- u>"Chibougamau, Québec, Canada"</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="4.4" id="topic-category"><span class="secno">4.4. </span><span class="content">Topic Category</span><a class="self-link" href="#topic-category"></a></h3>
   <p>A one-word category, the possible values are enumerated in the Table B.3.30 of the <a href="https://www.iso.org/standard/53798.html">ISO19115-1:2014 document</a></p>
<pre class="language-javascript highlight"><c- u>"metadata"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"datasetTopicCategory"</c-><c- o>:</c-> <c- u>"planningCadastre"</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="4.5" id="lineage"><span class="secno">4.5. </span><span class="content">Lineage</span><a class="self-link" href="#lineage"></a></h3>
   <p>It is possible to give the lineage of one or more city objects in the datasets. This allows us to document how certain city objects were reconstructed; if many were with the same method then their IDs should simply be listed in <code>"featureID"</code>.</p>
<pre class="language-javascript highlight"><c- u>"lineage"</c-><c- o>:</c-> <c- p>[</c->
   <c- p>{</c->
     <c- u>"featureIDs"</c-><c- o>:</c-> <c- p>[</c-><c- u>"id-1"</c-><c- p>,</c-> <c- u>"id-2"</c-><c- p>,</c-> <c- u>"id-8235"</c-><c- p>],</c->
     <c- u>"source"</c-><c- o>:</c-> <c- p>{</c->
       <c- u>"description"</c-><c- o>:</c-> <c- u>"Source of Terrain Data"</c-><c- p>,</c->
          <c- u>"sourceSpatialResolution"</c-><c- o>:</c-> <c- u>"10 points/m2"</c-><c- p>,</c->
          <c- u>"sourceReferenceSystem"</c-><c- o>:</c-> <c- u>"urn:ogc:def:crs:EPSG::4326"</c->
     <c- p>},</c->
     <c- u>"processStep"</c-><c- o>:</c-> <c- p>{</c->
       <c- u>"description"</c-> <c- o>:</c-> <c- u>"Processing of Terrain Data using 3dfier"</c-><c- p>,</c->
       <c- u>"processor"</c-><c- o>:</c-> <c- p>{</c->
         <c- u>"contactName"</c-><c- o>:</c-> <c- u>"3D Geoinformation Group"</c-><c- p>,</c->
     <c- u>"phone"</c-><c- o>:</c-> <c- u>"+31-6666666666"</c-><c- p>,</c->
       <c- u>"address"</c-><c- o>:</c-> <c- u>"Delft University of Technology, the Netherlands"</c-><c- p>,</c->
       <c- u>"emailAddress"</c-><c- o>:</c-> <c- u>"3d.bk@tudelft.nl"</c-><c- p>,</c->
       <c- u>"contactType"</c-><c- o>:</c-> <c- u>"organization"</c-><c- p>,</c->
       <c- u>"website"</c-><c- o>:</c-> <c- u>"https://3d.bk.tudelft.nl"</c->
       <c- p>}</c->
     <c- p>}</c->
   <c- p>}</c->
 <c- p>]</c->
</pre>
   <div class="note" role="note">
     It should be noticed that JSON does not have a date type, and thus the representations defined by <a href="https://tools.ietf.org/html/rfc3339#section-5.6">RFC 3339, Section 5.6</a> should be used. A simple date is <code>"full-date"</code> (thus <code>"1977-07-11"</code> as a string), and should be used for the metadata above. 
    <p>It’s also possible, for other attributes in a CityJSON file, to have a date with a time is a <code>"full-time"</code> (thus <code>"1985-04-12T23:20:50.52Z"</code> as a string).</p>
   </div>
   <h2 class="heading settled" data-level="5" id="transform-object"><span class="secno">5. </span><span class="content">Transform Object</span><a class="self-link" href="#transform-object"></a></h2>
   <p>To reduce the size of a file, it is possible to represent the coordinates of the vertices with integer values, and store the scale factor and the translation needed to obtain the original coordinates (stored with floats/doubles). To use compression, a CityJSON object may have one member <code>"transform"</code>, whose values are 2 mandatory JSON objects (<code>"scale"</code> and <code>"translate"</code>), both arrays with 3 values.</p>
   <p>The <a href="https://github.com/topojson/topojson-specification/blob/master/README.md#212-transforms">scheme of TopoJSON (called quantization)</a> is reused, and here we simply add a third coordinate because our vertices are embedded in 3D space.</p>
   <p>If a CityJSON object has a member <code>"transform"</code>, to obtain the real position of a given vertex <em>v</em>, we must take the 3 values <em>vi</em> listed in the <code>"vertices"</code> member and:</p>
<pre>v[0] = (vi[0] * ["transform"]["scale"][0]) + ["transform"]["translate"][0]
v[1] = (vi[1] * ["transform"]["scale"][1]) + ["transform"]["translate"][1]
v[2] = (vi[2] * ["transform"]["scale"][2]) + ["transform"]["translate"][2]
</pre>
   <p>If the CityJSON file does not have a <code>"transform"</code> member, then the values of the vertices must be read as-is.</p>
<pre class="language-javascript highlight"><c- u>"transform"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"scale"</c-><c- o>:</c-> <c- p>[</c-><c- mf>0.01</c-><c- p>,</c-> <c- mf>0.01</c-><c- p>,</c-> <c- mf>0.01</c-><c- p>],</c->
    <c- u>"translate"</c-><c- o>:</c-> <c- p>[</c-><c- mf>4424648.79</c-><c- p>,</c-> <c- mf>5482614.69</c-><c- p>,</c-> <c- mf>310.19</c-><c- p>]</c->
<c- p>}</c->
</pre>
   <h2 class="heading settled" data-level="6" id="geometry-templates"><span class="secno">6. </span><span class="content">Geometry templates</span><a class="self-link" href="#geometry-templates"></a></h2>
   <p>CityGML’s Implicit Geometries, better known in computer graphics as <em>templates</em>, are one method to compress files since the geometries (eg benches, lamp posts, and trees), need only be defined once. In CityJSON, they are implemented slightly different from in CityGML: they are defined separately in the file, and each template can be reused. (While in CityGML one reuses the geometry used for another City Object.)</p>
   <p>The Geometry Templates are defined as a JSON object that:</p>
   <ul>
    <li data-md>
     <p>must have one member with the name <code>"templates"</code>, whose value is an array of Geometry Objects.</p>
    <li data-md>
     <p>must have one member with the name <code>"vertices-templates"</code>, whose value is an array of coordinates of each vertex of the templates (0-based indexing). The reason the vertices index are not global is to ensure that calculating the bounding box of a CityJSON file/dataset will not be affected by the templates (since they will often be defined locally, and translated/rotated/scaled to their final position).</p>
   </ul>
<pre class="language-javascript highlight"><c- u>"geometry-templates"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"templates"</c-><c- o>:</c-> <c- p>[</c->
    <c- p>{</c->
      <c- u>"type"</c-><c- o>:</c-> <c- u>"MultiSurface"</c-><c- p>,</c->
      <c- u>"lod"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
      <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c-> 
         <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>1</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>7</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>4</c-><c- p>]]</c->
      <c- p>]</c->
    <c- p>},</c->
    <c- p>{</c->
      <c- u>"type"</c-><c- o>:</c-> <c- u>"MultiSurface"</c-><c- p>,</c->
      <c- u>"lod"</c-><c- o>:</c-> <c- mi>1</c-><c- p>,</c->
      <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c-> 
         <c- p>[[</c-><c- mi>1</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>5</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>2</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>7</c-><c- p>,</c-> <c- mi>6</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>3</c-><c- p>,</c-> <c- mi>0</c-><c- p>,</c-> <c- mi>4</c-><c- p>,</c-> <c- mi>7</c-><c- p>]]</c->
      <c- p>]</c->
    <c- p>}</c->
  <c- p>],</c->
  <c- u>"vertices-templates"</c-><c- o>:</c-> <c- p>[</c->
    <c- p>[</c-><c- mf>0.0</c-><c- p>,</c-> <c- mf>0.5</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>],</c->
    <c- p>...</c->
    <c- p>[</c-><c- mf>1.0</c-><c- p>,</c-> <c- mf>1.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>],</c->
    <c- p>[</c-><c- mf>0.0</c-><c- p>,</c-> <c- mf>1.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>]</c->
  <c- p>]</c->
<c- p>}</c->
</pre>
   <p>A given template can be used for a City Object instead of a Geometry Object. A new JSON object of type <code>"GeometryInstance"</code> is defined, and it:</p>
   <ul>
    <li data-md>
     <p>must have one member with the name <code>"template"</code>, whose value is the position of the template in the <code>"geometry-templates"</code> (0-indexing).</p>
    <li data-md>
     <p>must have one member with the name <code>"boundaries"</code>, whose value is an array containing only one vertex index, which refers to one vertex in the <code>"vertices"</code> property of a CityJSON file. (This is the "referencePoint" in CityGML.)</p>
    <li data-md>
     <p>must have one member with the name <code>"transformationMatrix"</code>, whose value is a 4x4 matrix (thus 16 values in an array) defining the the rotation/translation/scaling of the template (as defined in the CityGML 2.0.0 documentation).</p>
   </ul>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"SolitaryVegetationObject"</c-><c- p>,</c-> 
  <c- u>"geometry"</c-><c- o>:</c-> <c- p>[</c->
    <c- p>{</c->
      <c- u>"type"</c-><c- o>:</c-> <c- u>"GeometryInstance"</c-><c- p>,</c->
      <c- u>"template"</c-><c- o>:</c-> <c- mi>0</c-><c- p>,</c->
      <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c-><c- mi>372</c-><c- p>]</c->
      <c- u>"transformationMatrix"</c-><c- o>:</c-> <c- p>[</c->
        <c- mf>2.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>,</c->
        <c- mf>0.0</c-><c- p>,</c-> <c- mf>2.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>,</c->
        <c- mf>0.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>,</c-> <c- mf>2.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>,</c->
        <c- mf>0.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>,</c-> <c- mf>1.0</c->
      <c- p>]</c->
    <c- p>}</c->
  <c- p>]</c->
<c- p>}</c->
</pre>
   <h2 class="heading settled" data-level="7" id="appearance-object"><span class="secno">7. </span><span class="content">Appearance Object</span><a class="self-link" href="#appearance-object"></a></h2>
   <p>Both textures and materials are supported, and the same mechanisms used in CityGML are reused, so the conversion back-and-forth is easy.
The material is represented with the <a href="http://www.web3d.org/documents/specifications/19775-1/V3.2/Part01/components/shape.html#Material">X3D</a> specifications, as is the case for CityGML. For the texture, the COLLADA is reused, as is the case for CityGML. However:</p>
   <ul>
    <li data-md>
     <p>the CityGML class <code>GeoreferencedTexture</code> is not supported.</p>
    <li data-md>
     <p>the CityGML class <code>TexCoordGen</code> is not supported, ie one must specify the UV coordinates in the texture files.</p>
    <li data-md>
     <p>the major difference is that in CityGML each Material/Texture object keeps a list of the primitives using it, while in CityJSON it is the opposite: if a primitive has a Material/Texture than it is stated with the primitive (with a link to it).</p>
   </ul>
   <p>An Appearance Object is a JSON object that</p>
   <ul>
    <li data-md>
     <p>may have one member with the name <code>"materials"</code>, whose value is an array of Material Objects.</p>
    <li data-md>
     <p>may have one member with the name <code>"textures"</code>, whose value is an array of Texture Objects.</p>
    <li data-md>
     <p>may have both <code>"materials"</code> and <code>"textures"</code>.</p>
    <li data-md>
     <p>may have one member with the name <code>"vertex-texture"</code>, whose value is an array of coordinates of each so-called UV vertex of the city model.</p>
    <li data-md>
     <p>may have one member with the name <code>"default-theme-texture"</code>, whose value is the name of the default theme for the appearance (a string). This can be used if geometries have more than one textures, so that a viewer displays the default one.</p>
    <li data-md>
     <p>may have one member with the name <code>"default-theme-material"</code>, whose value is the name of the default theme for the material (a string). This can be used if geometries have more than one textures, so that a viewer displays the default one.</p>
   </ul>
<pre class="language-javascript highlight"><c- u>"appearance"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"materials"</c-><c- o>:</c-> <c- p>[],</c->
  <c- u>"textures"</c-><c- o>:</c-><c- p>[],</c->
  <c- u>"vertices-texture"</c-><c- o>:</c-> <c- p>[],</c->
  <c- u>"default-theme-texture"</c-><c- o>:</c-> <c- u>"myDefaultTheme1"</c-><c- p>,</c->
  <c- u>"default-theme-material"</c-><c- o>:</c-> <c- u>"myDefaultTheme2"</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="7.1" id="geometry-object-having-material-s"><span class="secno">7.1. </span><span class="content">Geometry Object having material(s)</span><a class="self-link" href="#geometry-object-having-material-s"></a></h3>
   <p>Each surface in a Geometry Object can have one or more materials assigned to it. To store these, a Geometry Object may have a member <code>"material"</code>, the value of this member is a collection of key-value pairs, where the key is the <em>theme</em> of the material, and the value is one JSON object that must contain either:</p>
   <ul>
    <li data-md>
     <p>one member <code>"values"</code>, whose value is a hierarchy of arrays with integers. Each integer refers to the position (0-based) in the <code>"materials"</code> member of the <code>"appearance"</code> member of the CityJSON object. If a surface has no material, then <code>null</code> should be used in the array. The depth of the array depends on the Geometry object, and is equal to the depth of the <code>"boundary"</code> array minus 2, because each surface (<code>[[]]</code>) gets one material.</p>
    <li data-md>
     <p>one member <code>"value"</code>, whose value is one integer referring to the position (0-based) in the <code>"materials"</code> member of the <code>"appearance"</code> member of the CityJSON object. This is used because often the materials are used to colour full objects, and repetition of materials is not necessary.</p>
   </ul>
   <p>In the following, the Solid has 4 surfaces, and there are 2 themes: "irradiation" and "irradiation-2" could for instance represent different colours based on different scenarios of an solar irradiation analysis. Notice that the last surface get no material (for both themes), thus <code>null</code> is used.</p>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"Solid"</c-><c- p>,</c->
  <c- u>"lod"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
  <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c->
    <c- p>[</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>1</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>7</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>4</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>1</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>5</c-><c- p>]]</c-> <c- p>]</c-> 
  <c- p>],</c->
  <c- u>"material"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"irradiation"</c-><c- o>:</c-> <c- p>{</c-> 
      <c- u>"values"</c-><c- o>:</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- kc>null</c-><c- p>]]</c-> 
    <c- p>},</c->
    <c- u>"irradiation-2"</c-><c- o>:</c-> <c- p>{</c-> 
      <c- u>"values"</c-><c- o>:</c-> <c- p>[[</c-><c- mi>2</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- kc>null</c-><c- p>]]</c-> 
    <c- p>}</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="7.2" id="geometry-object-having-texture-s"><span class="secno">7.2. </span><span class="content">Geometry Object having texture(s)</span><a class="self-link" href="#geometry-object-having-texture-s"></a></h3>
   <p>To store the texture(s) of a surface, a Geometry Object may have a member with the value <code>"texture"</code>, its value is a collection of key-value pairs, where the key is the <em>theme</em> of the textures, and the value is one JSON object that must contain one member <code>"values"</code>, whose value is a hierarchy of arrays with integers. For each ring of each surface, the first value refers to the position (0-based) in the <code>"textures"</code> member of the <code>"appearance"</code> member of the CityJSON object. The other indices refer to the UV positions of the corresponding vertices (as listed in the <code>"boundaries"</code> member of the geometry). Each array representing a ring therefore has one more value than that to store its vertices.</p>
   <p>The depth of the array depends on the Geometry object, and is equal to the depth of the <code>"boundary"</code> array.</p>
   <p>In the following, the Solid has 4 surfaces, and there are 2 themes: "winter-textures" and "summer-textures" could for instance represent the textures during winter and summer.. Notice that the last 2 surfaces of the first theme gets no material, thus <code>null</code> is used.</p>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"Solid"</c-><c- p>,</c->
  <c- u>"lod"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
  <c- u>"boundaries"</c-><c- o>:</c-> <c- p>[</c->
    <c- p>[</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>3</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>1</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>4</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>7</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>5</c-><c- p>,</c-> <c- mi>4</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>1</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>5</c-><c- p>]]</c-> <c- p>]</c-> 
  <c- p>],</c->
  <c- u>"texture"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"winter-textures"</c-><c- o>:</c-> <c- p>{</c->
      <c- u>"values"</c-><c- o>:</c-> <c- p>[</c->
        <c- p>[</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>10</c-><c- p>,</c-> <c- mi>23</c-><c- p>,</c-> <c- mi>22</c-><c- p>,</c-> <c- mi>21</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>0</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>5</c-><c- p>]],</c-> <c- p>[[</c-><c- kc>null</c-><c- p>]],</c-> <c- p>[[</c-><c- kc>null</c-><c- p>]]</c-> <c- p>]</c->                  
      <c- p>]</c->
    <c- p>},</c->
    <c- u>"summer-textures"</c-><c- o>:</c-> <c- p>{</c->
      <c- u>"values"</c-><c- o>:</c-> <c- p>[</c->
        <c- p>[</c-> <c- p>[[</c-><c- mi>1</c-><c- p>,</c-> <c- mi>10</c-><c- p>,</c-> <c- mi>23</c-><c- p>,</c-> <c- mi>22</c-><c- p>,</c-> <c- mi>21</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>1</c-><c- p>,</c-> <c- mi>1</c-><c- p>,</c-> <c- mi>2</c-><c- p>,</c-> <c- mi>6</c-><c- p>,</c-> <c- mi>5</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>1</c-><c- p>,</c-> <c- mi>66</c-><c- p>,</c-> <c- mi>12</c-><c- p>,</c-> <c- mi>64</c-><c- p>,</c-> <c- mi>5</c-><c- p>]],</c-> <c- p>[[</c-><c- mi>2</c-><c- p>,</c-> <c- mi>99</c-><c- p>,</c-> <c- mi>21</c-><c- p>,</c-> <c- mi>16</c-><c- p>,</c-> <c- mi>25</c-><c- p>]]</c-> <c- p>]</c->                  
      <c- p>]</c->      
    <c- p>}</c->
  <c- p>}</c->     
<c- p>}</c->        
</pre>
   <h3 class="heading settled" data-level="7.3" id="material-object"><span class="secno">7.3. </span><span class="content">Material Object</span><a class="self-link" href="#material-object"></a></h3>
   <p>A Material Object:</p>
   <ul>
    <li data-md>
     <p>must have one member with the name <code>"name"</code>, whose value is a string identifying the material.</p>
    <li data-md>
     <p>may have the following members (their meaning is explained <a href="http://www.web3d.org/documents/specifications/19775-1/V3.2/Part01/components/shape.html#Material">there</a>):</p>
     <ol>
      <li data-md>
       <p><code>"ambientIntensity"</code>, whose value is a number between 0.0 and 1.0</p>
      <li data-md>
       <p><code>"diffuseColor"</code>, whose value is an array with 3 numbers between 0.0 and 1.0 (RGB colour)</p>
      <li data-md>
       <p><code>"emissiveColor"</code>, whose value is an array with 3 numbers between 0.0 and 1.0 (RGB colour)</p>
      <li data-md>
       <p><code>"specularColor"</code>, whose value is an array with 3 numbers between 0.0 and 1.0 (RGB colour)</p>
      <li data-md>
       <p><code>"shininess"</code>, whose value is a number between 0.0 and 1.0</p>
      <li data-md>
       <p><code>"transparency"</code>, whose value is a number between 0.0 and 1.0 (1.0 being completely transparent)</p>
      <li data-md>
       <p><code>"isSmooth"</code>, whose value is a Boolean value, is defined in CityGML as "a hint for normal interpolation. If this boolean flag is set to true, vertex normals should be used for shading (Gouraud shading). Otherwise, normals should be constant for a surface patch (flat shading)."</p>
     </ol>
   </ul>
<pre class="language-javascript highlight"><c- u>"materials"</c-><c- o>:</c-> <c- p>[</c->
  <c- p>{</c->
    <c- u>"name"</c-><c- o>:</c-> <c- u>"roofandground"</c-><c- p>,</c->
    <c- u>"ambientIntensity"</c-><c- o>:</c->  <c- mf>0.2000</c-><c- p>,</c->
    <c- u>"diffuseColor"</c-><c- o>:</c->  <c- p>[</c-><c- mf>0.9000</c-><c- p>,</c-> <c- mf>0.1000</c-><c- p>,</c-> <c- mf>0.7500</c-><c- p>],</c->
    <c- u>"emissiveColor"</c-><c- o>:</c-> <c- p>[</c-><c- mf>0.9000</c-><c- p>,</c-> <c- mf>0.1000</c-><c- p>,</c-> <c- mf>0.7500</c-><c- p>],</c->
    <c- u>"specularColor"</c-><c- o>:</c-> <c- p>[</c-><c- mf>0.9000</c-><c- p>,</c-> <c- mf>0.1000</c-><c- p>,</c-> <c- mf>0.7500</c-><c- p>],</c->
    <c- u>"shininess"</c-><c- o>:</c-> <c- mf>0.2</c-><c- p>,</c->
    <c- u>"transparency"</c-><c- o>:</c-> <c- mf>0.5</c-><c- p>,</c->
    <c- u>"isSmooth"</c-><c- o>:</c-> <c- kc>false</c->
  <c- p>},</c->
  <c- p>{</c->
    <c- u>"name"</c-><c- o>:</c-> <c- u>"wall"</c-><c- p>,</c->
    <c- u>"ambientIntensity"</c-><c- o>:</c->  <c- mf>0.4000</c-><c- p>,</c->
    <c- u>"diffuseColor"</c-><c- o>:</c->  <c- p>[</c-><c- mf>0.1000</c-><c- p>,</c-> <c- mf>0.1000</c-><c- p>,</c-> <c- mf>0.9000</c-><c- p>],</c->
    <c- u>"emissiveColor"</c-><c- o>:</c-> <c- p>[</c-><c- mf>0.1000</c-><c- p>,</c-> <c- mf>0.1000</c-><c- p>,</c-> <c- mf>0.9000</c-><c- p>],</c->
    <c- u>"specularColor"</c-><c- o>:</c-> <c- p>[</c-><c- mf>0.9000</c-><c- p>,</c-> <c- mf>0.1000</c-><c- p>,</c-> <c- mf>0.7500</c-><c- p>],</c->
    <c- u>"shininess"</c-><c- o>:</c-> <c- mf>0.0</c-><c- p>,</c->
    <c- u>"transparency"</c-><c- o>:</c-> <c- mf>0.5</c-><c- p>,</c->
    <c- u>"isSmooth"</c-><c- o>:</c-> <c- kc>true</c->
  <c- p>}</c->            
<c- p>]</c->
</pre>
   <h3 class="heading settled" data-level="7.4" id="texture-object"><span class="secno">7.4. </span><span class="content">Texture Object</span><a class="self-link" href="#texture-object"></a></h3>
   <p>A Texture Object:</p>
   <ul>
    <li data-md>
     <p>must have one member with the name <code>"type"</code>, whose value is a string with either "PNG" or "JPG" as value</p>
    <li data-md>
     <p>must have one member with the name <code>"image"</code>, whose value is a string with the name of the file. This file can be a URL (eg <code>"http://www.hugo.com/filename.jpg"</code>), a relative path (eg <code>"appearances/myroof.jpg"</code>), or an absolute path (eg <code>"/home/elvis/mycityjson/appearances/myroof.jpg"</code>).</p>
    <li data-md>
     <p>may have one member with the name <code>"wrapMode"</code>, whose value can be any of the following: <code>"none"</code>, <code>"wrap"</code>, <code>"mirror"</code>, <code>"clamp"</code>, or <code>"border"</code>.</p>
    <li data-md>
     <p>may have one member with the name <code>"textureType"</code>, whose value can be any of the following: <code>"unknown"</code>, <code>"specific"</code>, or <code>"typical"</code>.</p>
    <li data-md>
     <p>may have one member with the name <code>"borderColor"</code>, whose value is an array with 4 numbers between 0.0 and 1.0 (RGBA colour).</p>
   </ul>
<pre class="language-javascript highlight"><c- u>"textures"</c-><c- o>:</c-> <c- p>[</c->
  <c- p>{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"PNG"</c-><c- p>,</c->
    <c- u>"image"</c-><c- o>:</c-> <c- u>"http://www.hugo.com/filename.jpg"</c->
  <c- p>},</c->
  <c- p>{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"JPG"</c-><c- p>,</c->
    <c- u>"image"</c-><c- o>:</c-> <c- u>"appearances/myroof.jpg"</c-><c- p>,</c->
    <c- u>"wrapMode"</c-><c- o>:</c-> <c- u>"wrap"</c-><c- p>,</c->
    <c- u>"textureType"</c-><c- o>:</c-> <c- u>"unknown"</c-><c- p>,</c->
    <c- u>"borderColor"</c-><c- o>:</c-> <c- p>[</c-><c- mf>0.0</c-><c- p>,</c-> <c- mf>0.1</c-><c- p>,</c-> <c- mf>0.2</c-><c- p>,</c-> <c- mf>1.0</c-><c- p>]</c->
  <c- p>}</c->      
<c- p>]</c->
</pre>
   <h3 class="heading settled" data-level="7.5" id="vertices-texture-object"><span class="secno">7.5. </span><span class="content">Vertices-texture Object</span><a class="self-link" href="#vertices-texture-object"></a></h3>
   <p>A Appearance Object may have one member named <code>"vertices-texture"</code>, whose value is an array of the <em>(u,v)</em> coordinates of the vertices used for texturing surfaces. Their position in this array (0-based) is used by the <code>"texture"</code> member of the Geometry Objects.</p>
   <ul>
    <li data-md>
     <p>the array of vertices may be empty.</p>
    <li data-md>
     <p>one vertex must be an array with exactly 2 values, representing the <em>(u,v)</em> coordinates.</p>
    <li data-md>
     <p>The value of <em>u</em> and <em>v</em> must be between 0.0 and 1.0.</p>
    <li data-md>
     <p>vertices may be repeated</p>
   </ul>
<pre class="language-javascript highlight"><c- u>"vertices-texture"</c-><c- o>:</c-> <c- p>[</c->
  <c- p>[</c-><c- mf>0.0</c-><c- p>,</c-> <c- mf>0.5</c-><c- p>],</c->
  <c- p>[</c-><c- mf>1.0</c-><c- p>,</c-> <c- mf>0.0</c-><c- p>],</c->
  <c- p>[</c-><c- mf>1.0</c-><c- p>,</c-> <c- mf>1.0</c-><c- p>],</c->
  <c- p>[</c-><c- mf>0.0</c-><c- p>,</c-> <c- mf>1.0</c-><c- p>]</c->
<c- p>]</c->
</pre>
   <h2 class="heading settled" data-level="8" id="extensions"><span class="secno">8. </span><span class="content">Extensions</span><a class="self-link" href="#extensions"></a></h2>
   <p>CityJSON uses <a href="http://json-schema.org/">JSON Schemas</a> to document and validate the data model, schemas should be seen as basically validating the syntax of a JSON document.</p>
   <p>A CityJSON <em>Extension</em> is a JSON file that allows us to document how the core data model of CityJSON may be extended, and to validate CityJSON files.
This is conceptually akin to the <em>Application Domain Extensions</em> (ADEs) in CityGML; see Section 10.13 of the <a href="https://portal.opengeospatial.org/files/?artifact_id=47842">official CityGML documentation</a>.</p>
   <p>The following 3 cases for extension are possible:</p>
   <ol>
    <li data-md>
     <p>Adding new complex attributes to existing City Objects</p>
    <li data-md>
     <p>Adding new properties at the root of a document</p>
    <li data-md>
     <p>Creating a new City Object, or "extending" one, and defining complex geometries</p>
   </ol>
   <div class="note" role="note">
     While Extensions are less flexible than CityGML ADEs (inheritance and namespaces are for instance not supported, and less customisation is possible), it should be noted that the flexibility of ADEs comes at a price: the software processing an extended CityGML file will not necessarily know what structure to expect. 
  There is ongoing work to use the ADE schemas to automatically do this, but this currently is not supported by most software. Viewers might not be affected by ADEs because the geometries are usually not changed by an ADE. However, software parsing the XML to extract attributes and features might not work directly (and thus specific code would need to be written). 
    <p>CityJSON Extensions are designed such that they can be read and processed by standard CityJSON software, often no changes in the parsing code is required.
  This is achieved by enforcing a set of simple rules, as defined below, when adding new City Objects. 
  If these are followed, then a CityJSON file containing Extensions will be seen as a "standard" CityJSON file.</p>
   </div>
   <h3 class="heading settled" data-level="8.1" id="using-an-extension-in-a-cityjson-file"><span class="secno">8.1. </span><span class="content">Using an Extension in a CityJSON file</span><a class="self-link" href="#using-an-extension-in-a-cityjson-file"></a></h3>
   <p>An Extension should be given a name (eg "Noise") and the URL of the Extension file should be given, along with the version that is used for this file.
It is expected that the Extension is publicly available at the URL, and can be downloaded.</p>
   <p>Several Extensions can be used in a single file, each one is indexed by its name in the <code>"extensions"</code> JSON object.
In the example below we have 2 Extensions: one named "Noise" and one named "Solar_Potential".</p>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"CityJSON"</c-><c- p>,</c->
  <c- u>"version"</c-><c- o>:</c-> <c- u>"1.0"</c-><c- p>,</c->
  <c- u>"extensions"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"Noise"</c-><c- o>:</c-> <c- p>{</c->
      <c- u>"url"</c-> <c- o>:</c-> <c- u>"https://someurl.org/noise.json"</c-><c- p>,</c->
      <c- u>"version"</c-><c- o>:</c-> <c- u>"1.0"</c->
    <c- p>},</c->
    <c- u>"Solar_Potential"</c-><c- o>:</c-> <c- p>{</c->
      <c- u>"url"</c-> <c- o>:</c-> <c- u>"https://someurl.org/solar.json"</c-><c- p>,</c->
      <c- u>"version"</c-><c- o>:</c-> <c- u>"0.8"</c->
    <c- p>}</c->
  <c- p>},</c->
  <c- u>"CityObjects"</c-><c- o>:</c-> <c- p>{},</c->
  <c- u>"vertices"</c-><c- o>:</c-> <c- p>[]</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="8.2" id="the-extension-file"><span class="secno">8.2. </span><span class="content">The Extension file</span><a class="self-link" href="#the-extension-file"></a></h3>
   <p>A CityJSON Extension is a JSON object, and it must have the following 7 members:</p>
   <ol>
    <li data-md>
     <p>one member with the name <code>"type"</code>, whose value must be <code>"CityJSON_Extension"</code>;</p>
    <li data-md>
     <p>one member with the name <code>"name"</code>, whose value must be a string identifying the extension;</p>
    <li data-md>
     <p>one member with the name <code>"uri"</code>, whose value must be a string with the URI of the location of the schema where the JSON object is located;</p>
    <li data-md>
     <p>one member with the name <code>"version"</code>, whose value must be a string identifying the version of the Extension;</p>
    <li data-md>
     <p>one member with the name <code>"extraRootProperties"</code>, whose value must be a JSON object; its content is part of a JSON schema (explained below), or an empty object;</p>
    <li data-md>
     <p>one member with the name <code>"extraAttributes"</code>, whose value must be a JSON object; its content is part of a JSON schema (explained below), or an empty object;</p>
    <li data-md>
     <p>one member with the name <code>"extraCityObjects"</code>, whose value must be a JSON object; its content is part of a JSON schema (explained below), or an empty object;</p>
   </ol>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"CityJSON_Extension"</c-><c- p>,</c->
  <c- u>"name"</c-><c- o>:</c-> <c- u>"Noise"</c-><c- p>,</c->
  <c- u>"uri"</c-><c- o>:</c-> <c- u>"https://someurl.org/noise.json"</c-><c- p>,</c->
  <c- u>"version"</c-><c- o>:</c-> <c- u>"0.1"</c-><c- p>,</c->
  <c- u>"description"</c-><c- o>:</c-> <c- u>"Extension to model the noise"</c->
  <c- u>"extraRootProperties"</c-><c- o>:</c-> <c- p>{},</c->     
  <c- u>"extraAttributes"</c-><c- o>:</c-> <c- p>{},</c->
  <c- u>"extraCityObjects"</c-><c- o>:</c-> <c- p>{}</c->
<c- p>}</c->
</pre>
   <p>A CityJSON Extension object must be in a standalone file and it must be located in a folder <code>/extensions</code> in the folder where the CityJSON schemas are located.
For a new extension <code>noise.json</code> the following structure would result:</p>
<pre class="language-console highlight">|-- appearance.schema.json
|-- cityjson.schema.json
|-- cityobjects.schema.json
|-- geomprimitives.schema.json
|-- geomtemplates.schema.json
|-- metadata.schema.json
|-- /extensions
    |-- noise.json
</pre>
   <p>This also means that if an element of the Extension reuses or references structures defined in the schemas of CityJSON, then the relative path <code>../</code> must be used.
An example would be to reuse the Solid type would be:</p>
<pre class="language-javascript highlight"><c- u>"items"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"oneOf"</c-><c- o>:</c-> <c- p>[</c->
    <c- p>{</c-><c- u>"$ref"</c-><c- o>:</c-> <c- u>"../geomprimitives.json#/Solid"</c-><c- p>}</c->
  <c- p>]</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="8.3" id="case-1-adding-new-complex-attributes-to-existing-city-objects"><span class="secno">8.3. </span><span class="content">Case 1: Adding new complex attributes to existing City Objects</span><a class="self-link" href="#case-1-adding-new-complex-attributes-to-existing-city-objects"></a></h3>
   <p>One of the philosophy of JSON is "schema-less", which means that one is allowed to define new properties for the JSON objects without documenting them in a JSON schema (watch out: this does <em>not</em> mean that JSON cannot have schemas!).
While this is in contrast to CityGML (and GML as a whole) where the schemas are central, the schemas of CityJSON (schema) are partly following that philosophy. 
That is, for a given City Object, the "allowed" properties/attributes are listed in the schema, but it is not an error to add new ones. 
The "official validator" of CityJSON (<a href="https://github.com/tudelft3d/cjio">cjio</a> with the option <code>--validate</code>) does more than simply validate a dataset against the schemas, and will return a <em>warning</em> if an attribute is not in the schema, but it is not considered as invalid in CityJSON.</p>
   <p>In brief, if one wants to simply add a new attribute to a given <code>"Building"</code>, say to document its colour (<code>"colour": "red"</code>), the easiest way is just to add a property to the City Object (notice that <code>"storeysAboveGround"</code> is an allowed attributes to buildings):</p>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"Building"</c-><c- p>,</c-> 
  <c- u>"attributes"</c-><c- o>:</c-> <c- p>{</c-> 
    <c- u>"storeysAboveGround"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
    <c- u>"colour"</c-><c- o>:</c-> <c- u>"red"</c->
  <c- p>},</c->
  <c- u>"geometry"</c-><c- o>:</c-> <c- p>[...]</c->
<c- p>}</c->
</pre>
   <p>It is also possible to add, and document in a schema, complex attributes, for example if we wanted to have the colour of the buildings as a RGBA value (red-green-blue-alpha):</p>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"Building"</c-><c- p>,</c-> 
  <c- u>"attributes"</c-><c- o>:</c-> <c- p>{</c-> 
    <c- u>"storeysAboveGround"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
    <c- u>"+colour"</c-><c- o>:</c-> <c- p>{</c->
      <c- u>"rgba"</c-><c- o>:</c-> <c- p>[</c-><c- mi>255</c-><c- p>,</c-> <c- mi>255</c-><c- p>,</c-> <c- mi>255</c-><c- p>,</c-> <c- mi>1</c-><c- p>],</c->
    <c- p>},</c->
  <c- p>},</c->
  <c- u>"geometry"</c-><c- o>:</c-> <c- p>[...]</c->
<c- p>}</c->
</pre>
   <p>Another example would be to store the area of the parcel of a building, and to document also the unit of measurement:</p>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"Building"</c-><c- p>,</c-> 
  <c- u>"attributes"</c-><c- o>:</c-> <c- p>{</c-> 
    <c- u>"storeysAboveGround"</c-><c- o>:</c-> <c- mi>2</c-><c- p>,</c->
    <c- u>"+area-parcel"</c-><c- o>:</c-> <c- p>{</c->
      <c- u>"value"</c-><c- o>:</c-> <c- mi>437</c-><c- p>,</c->
      <c- u>"uom"</c-><c- o>:</c-> <c- u>"m2"</c->
    <c- p>}</c-> 
  <c- p>},</c->
  <c- u>"geometry"</c-><c- o>:</c-> <c- p>[...]</c->
<c- p>}</c->
</pre>
   <p>For these 2 cases, the CityJSON Extension object would look like the snippet below.
Notice that <code>"extraAttributes"</code> may have several properties (the types of the City Objects are the possibilities) and then each of these have as properties the new attributes (there can be several).</p>
   <p>An extra attribute must start with a <code>"+"</code>; notice that it is good practice to prepend the attribute with the name of the Extension, to avoid that 2 attributes from 2 different extensions have the same name.</p>
   <p>The value of the property is a JSON schema, this schema can reference and reuse JSON objects already defined in the CityJSON schemas.</p>
<pre class="language-javascript highlight"><c- u>"extraAttributes"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"Building"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"+colour"</c-><c- o>:</c-> <c- p>{</c->
      <c- u>"type"</c-><c- o>:</c-> <c- u>"object"</c-><c- p>,</c->
      <c- u>"properties"</c-><c- o>:</c-> <c- p>{</c->
        <c- u>"rgba"</c-><c- o>:</c-> <c- p>{</c->
          <c- u>"type"</c-><c- o>:</c-> <c- u>"array"</c-><c- p>,</c->
          <c- u>"items"</c-><c- o>:</c-> <c- p>{</c-><c- u>"type"</c-><c- o>:</c-> <c- u>"number"</c-><c- p>},</c->
          <c- u>"minItems"</c-><c- o>:</c-> <c- mi>4</c-><c- p>,</c->    
          <c- u>"maxItems"</c-><c- o>:</c-> <c- mi>4</c->
        <c- p>}</c->
      <c- p>},</c->
      <c- u>"required"</c-><c- o>:</c-> <c- p>[</c-><c- u>"rgba"</c-><c- p>],</c->
      <c- u>"additionalProperties"</c-><c- o>:</c-> <c- kc>false</c->
    <c- p>},</c->
    <c- u>"+area-parcel"</c-><c- o>:</c-> <c- p>{</c->
      <c- u>"type"</c-><c- o>:</c-> <c- u>"object"</c-><c- p>,</c->
      <c- u>"properties"</c-><c- o>:</c-> <c- p>{</c->
        <c- u>"value"</c-><c- o>:</c-> <c- p>{</c-> <c- u>"type"</c-><c- o>:</c-> <c- u>"number"</c-> <c- p>},</c->
        <c- u>"uom"</c-><c- o>:</c-> <c- p>{</c-> <c- u>"type"</c-><c- o>:</c-> <c- u>"string"</c-><c- p>,</c-> <c- u>"enum"</c-><c- o>:</c-> <c- p>[</c-><c- u>"m2"</c-><c- p>,</c-> <c- u>"feet2"</c-><c- p>]</c-> <c- p>}</c->
      <c- p>},</c->
      <c- u>"required"</c-><c- o>:</c-> <c- p>[</c-><c- u>"value"</c-><c- p>,</c-> <c- u>"uom"</c-><c- p>],</c->
      <c- u>"additionalProperties"</c-><c- o>:</c-> <c- kc>false</c->
    <c- p>}</c->      
  <c- p>}</c-> 
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="8.4" id="case-2-adding-new-properties-at-the-root-of-a-document"><span class="secno">8.4. </span><span class="content">Case 2: Adding new properties at the root of a document</span><a class="self-link" href="#case-2-adding-new-properties-at-the-root-of-a-document"></a></h3>
   <p>It is allowed to add a new property at the root of a CityJSON file, but if one wants to document it in a schema, then this property must start with a <code>"+"</code>.
Imagine we wanted to store some census data for a given neighbourhood for which we have a CityJSON file, then we could define the extra root property <code>"+census"</code> as follows:</p>
<pre class="language-javascript highlight"><c- u>"extraRootProperties"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"+census"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"type"</c-><c- o>:</c-> <c- u>"object"</c-><c- p>,</c->
    <c- u>"properties"</c-><c- o>:</c-> <c- p>{</c->
      <c- u>"percent_men"</c-><c- o>:</c-> <c- p>{</c-> 
        <c- u>"type"</c-><c- o>:</c-> <c- u>"number"</c-><c- p>,</c->
        <c- u>"minimum"</c-><c- o>:</c-> <c- mf>0.0</c-><c- p>,</c->
        <c- u>"maximum"</c-><c- o>:</c-> <c- mf>100.0</c->
      <c- p>},</c->
      <c- u>"percent_women"</c-><c- o>:</c-> <c- p>{</c-> 
        <c- u>"type"</c-><c- o>:</c-> <c- u>"number"</c-><c- p>,</c->
        <c- u>"minimum"</c-><c- o>:</c-> <c- mf>0.0</c-><c- p>,</c->
        <c- u>"maximum"</c-><c- o>:</c-> <c- mf>100.0</c->
      <c- p>}</c->
    <c- p>}</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   <p>And a CityJSON file would look like this:</p>
<pre class="language-javascript highlight"><c- p>{</c->
  <c- u>"type"</c-><c- o>:</c-> <c- u>"CityJSON"</c-><c- p>,</c->
  <c- u>"version"</c-><c- o>:</c-> <c- u>"0.9"</c-><c- p>,</c->
  <c- u>"CityObjects"</c-><c- o>:</c-> <c- p>{...},</c->
  <c- u>"vertices"</c-><c- o>:</c-> <c- p>[...],</c->
  <c- u>"+census"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"percent_men"</c-><c- o>:</c-> <c- mf>49.5</c-><c- p>,</c->
    <c- u>"percent_women"</c-><c- o>:</c-> <c- mf>51.5</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   <h3 class="heading settled" data-level="8.5" id="case-3-creating-extending-new-city-objects"><span class="secno">8.5. </span><span class="content">Case 3: Creating/extending new City Objects</span><a class="self-link" href="#case-3-creating-extending-new-city-objects"></a></h3>
   <p>The creation of a new City Object is done by defining it in the CityJSON Extension object in the <code>"extraCityObjects"</code> property:</p>
<pre class="language-javascript highlight"><c- u>"extraCityObjects"</c-><c- o>:</c-> <c- p>{</c->
  <c- u>"+NoiseBuilding"</c-><c- o>:</c-> <c- p>{</c->
    <c- u>"allOf"</c-><c- o>:</c-> <c- p>[</c->
      <c- p>{</c-> <c- u>"$ref"</c-><c- o>:</c-> <c- u>"../cityobjects.json#/_AbstractBuilding"</c-> <c- p>},</c->
      <c- p>{</c->
        <c- u>"properties"</c-><c- o>:</c-> <c- p>{</c->
          <c- u>"type"</c-><c- o>:</c-> <c- p>{</c-> <c- u>"enum"</c-><c- o>:</c-> <c- p>[</c-><c- u>"+NoiseBuilding"</c-><c- p>]</c-> <c- p>},</c->
          <c- u>"toplevel"</c-><c- o>:</c-> <c- p>{</c-><c- u>"type"</c-><c- o>:</c-> <c- u>"boolean"</c-><c- p>},</c->
          <c- u>"attributes"</c-><c- o>:</c-> <c- p>{</c->
            <c- u>"properties"</c-><c- o>:</c-> <c- p>{</c->
              <c- u>"buildingLDenMin"</c-><c- o>:</c-> <c- p>{</c-><c- u>"type"</c-><c- o>:</c-> <c- u>"number"</c-><c- p>}</c->
            <c- p>}</c->
          <c- p>}</c->
        <c- p>},</c->
        <c- u>"required"</c-><c- o>:</c-> <c- p>[</c-><c- u>"type"</c-><c- p>]</c->
      <c- p>}</c->
    <c- p>]</c->
  <c- p>}</c->
<c- p>}</c->
</pre>
   <p>Since all City Objects are documented in the schemas of CityJSON (in <a href="https://github.com/tudelft3d/cityjson/tree/master/schemas">cityobjects.json</a>), it is basically a matter of copying the parts needed in a new file and modifying its content.</p>
   <p>A new name for the City Object must be given and it must begin with a <code>"+"</code>.</p>
   <p>Because City Objects can be of different levels (1st-level ones can exist by themselves; 2nd-level ones need to have a parent), we need to explicitly state this by using the property <code>"toplevel"</code>, which is a Boolean value.</p>
   <p>It should be observed that since JSON schemas do not allow inheritance, the only way to extend a City Object is to define an entirely new one (with a new name, eg <code>"+NoiseBuilding"</code>).
This is done by copying the schema of the parent City Object and extending it.</p>
   <h3 class="heading settled" data-level="8.6" id="rules-to-follow-to-define-new-city-objects"><span class="secno">8.6. </span><span class="content">Rules to follow to define new City Objects</span><a class="self-link" href="#rules-to-follow-to-define-new-city-objects"></a></h3>
   <p>The challenge when creating Extensions to the core model is that we do not want to break the software packages (viewers, spatial analysis, etc) that already read and process CityJSON files.
While one could define a new City Object and document it, if this new object does not follow the rules below then it will mean that new specific software needs to be built for it---this would go against the fundamental ideas behind CityJSON.</p>
   <ol>
    <li data-md>
     <p>The name of a new City Object must begin with a <code>"+"</code>, eg <code>"+NoiseBuilding"</code>.</p>
    <li data-md>
     <p>A new City Object must conform to the rules of CityJSON, ie it must contain a property <code>"type"</code> and one <code>"geometry"</code>. If the object contains appearances, the same mechanism should be used so that the new City Objects can be processed without modification.</p>
    <li data-md>
     <p>A new City Object must contain the property <code>"toplevel"</code>, whose value is a Boolean (true = 1st-level; false = 2nd-level).</p>
    <li data-md>
     <p>All the geometries must be in the property <code>"geometry"</code>, and cannot be located somewhere else deep in a hierarchy of a new property. This ensures that all the code written to process, manipulate, and view CityJSON files will be working without modifications.</p>
    <li data-md>
     <p>If a new City Object contains other objects and requires different geometries, then a new City Object needs to be defined using the parent-children structure of CityJSON, as used by <code>"Building"</code> and <code>"BuildingPart"</code>.</p>
    <li data-md>
     <p>The reuse of types defined in CityJSON, eg <code>"Solid"</code> or semantic surfaces, is allowed.</p>
    <li data-md>
     <p>To define a new semantic surface, a <code>+</code> must be prepended to its name, eg <code>"+ThermalSurface"</code>.</p>
   </ol>
  </main>
  <div data-fill-with="conformance">
   <h2 class="no-ref no-num heading settled" id="conformance"><span class="content"> Conformance</span><a class="self-link" href="#conformance"></a></h2>
   <p> Conformance requirements are expressed with a combination of descriptive assertions and RFC 2119 terminology.
            The key words “MUST”, “MUST NOT”, “REQUIRED”, “SHALL”, “SHALL NOT”, “SHOULD”, “SHOULD NOT”, “RECOMMENDED”, “MAY”, and “OPTIONAL”
            in the normative parts of this document
            are to be interpreted as described in RFC 2119.
            However, for readability,
            these words do not appear in all uppercase letters in this specification. </p>
   <p> All of the text of this specification is normative
            except sections explicitly marked as non-normative, examples, and notes. <a data-link-type="biblio" href="#biblio-rfc2119">[RFC2119]</a> </p>
   <p> Examples in this specification are introduced with the words “for example”
            or are set apart from the normative text with <code>class="example"</code>, like this: </p>
   <div class="example" id="example-example"><a class="self-link" href="#example-example"></a> This is an example of an informative example. </div>
   <p> Informative notes begin with the word “Note”
            and are set apart from the normative text with <code>class="note"</code>, like this: </p>
   <p class="note" role="note"> Note, this is an informative note. </p>
  </div>
<script>
(function() {
  "use strict";
  var collapseSidebarText = '<span aria-hidden="true">←</span> '
                          + '<span>Collapse Sidebar</span>';
  var expandSidebarText   = '<span aria-hidden="true">→</span> '
                          + '<span>Pop Out Sidebar</span>';
  var tocJumpText         = '<span aria-hidden="true">↑</span> '
                          + '<span>Jump to Table of Contents</span>';

  var sidebarMedia = window.matchMedia('screen and (min-width: 78em)');
  var autoToggle   = function(e){ toggleSidebar(e.matches) };
  if(sidebarMedia.addListener) {
    sidebarMedia.addListener(autoToggle);
  }

  function toggleSidebar(on) {
    if (on == undefined) {
      on = !document.body.classList.contains('toc-sidebar');
    }

    /* Don’t scroll to compensate for the ToC if we’re above it already. */
    var headY = 0;
    var head = document.querySelector('.head');
    if (head) {
      // terrible approx of "top of ToC"
      headY += head.offsetTop + head.offsetHeight;
    }
    var skipScroll = window.scrollY < headY;

    var toggle = document.getElementById('toc-toggle');
    var tocNav = document.getElementById('toc');
    if (on) {
      var tocHeight = tocNav.offsetHeight;
      document.body.classList.add('toc-sidebar');
      document.body.classList.remove('toc-inline');
      toggle.innerHTML = collapseSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, 0 - tocHeight);
      }
      tocNav.focus();
      sidebarMedia.addListener(autoToggle); // auto-collapse when out of room
    }
    else {
      document.body.classList.add('toc-inline');
      document.body.classList.remove('toc-sidebar');
      toggle.innerHTML = expandSidebarText;
      if (!skipScroll) {
        window.scrollBy(0, tocNav.offsetHeight);
      }
      if (toggle.matches(':hover')) {
        /* Unfocus button when not using keyboard navigation,
           because I don’t know where else to send the focus. */
        toggle.blur();
      }
    }
  }

  function createSidebarToggle() {
    /* Create the sidebar toggle in JS; it shouldn’t exist when JS is off. */
    var toggle = document.createElement('a');
      /* This should probably be a button, but appearance isn’t standards-track.*/
    toggle.id = 'toc-toggle';
    toggle.class = 'toc-toggle';
    toggle.href = '#toc';
    toggle.innerHTML = collapseSidebarText;

    sidebarMedia.addListener(autoToggle);
    var toggler = function(e) {
      e.preventDefault();
      sidebarMedia.removeListener(autoToggle); // persist explicit off states
      toggleSidebar();
      return false;
    }
    toggle.addEventListener('click', toggler, false);


    /* Get <nav id=toc-nav>, or make it if we don’t have one. */
    var tocNav = document.getElementById('toc-nav');
    if (!tocNav) {
      tocNav = document.createElement('p');
      tocNav.id = 'toc-nav';
      /* Prepend for better keyboard navigation */
      document.body.insertBefore(tocNav, document.body.firstChild);
    }
    /* While we’re at it, make sure we have a Jump to Toc link. */
    var tocJump = document.getElementById('toc-jump');
    if (!tocJump) {
      tocJump = document.createElement('a');
      tocJump.id = 'toc-jump';
      tocJump.href = '#toc';
      tocJump.innerHTML = tocJumpText;
      tocNav.appendChild(tocJump);
    }

    tocNav.appendChild(toggle);
  }

  var toc = document.getElementById('toc');
  if (toc) {
    createSidebarToggle();
    toggleSidebar(sidebarMedia.matches);

    /* If the sidebar has been manually opened and is currently overlaying the text
       (window too small for the MQ to add the margin to body),
       then auto-close the sidebar once you click on something in there. */
    toc.addEventListener('click', function(e) {
      if(e.target.tagName.toLowerCase() == "a" && document.body.classList.contains('toc-sidebar') && !sidebarMedia.matches) {
        toggleSidebar(false);
      }
    }, false);
  }
  else {
    console.warn("Can’t find Table of Contents. Please use <nav id='toc'> around the ToC.");
  }

  /* Wrap tables in case they overflow */
  var tables = document.querySelectorAll(':not(.overlarge) > table.data, :not(.overlarge) > table.index');
  var numTables = tables.length;
  for (var i = 0; i < numTables; i++) {
    var table = tables[i];
    var wrapper = document.createElement('div');
    wrapper.className = 'overlarge';
    table.parentNode.insertBefore(wrapper, table);
    wrapper.appendChild(table);
  }

})();
</script>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-rfc2119">[RFC2119]
   <dd>S. Bradner. <a href="https://tools.ietf.org/html/rfc2119">Key words for use in RFCs to Indicate Requirement Levels</a>. March 1997. Best Current Practice. URL: <a href="https://tools.ietf.org/html/rfc2119">https://tools.ietf.org/html/rfc2119</a>
  </dl>