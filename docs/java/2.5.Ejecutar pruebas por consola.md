---
title: Ejecutar pruebas por consola
parent: Java
nav_order: 2.5
---
# **Ejecutar pruebas por consola**

### **Â¿QuÃ© esÂ SurefireÂ en Maven? ğŸš€**

**Surefire**Â es unÂ **plugin de Maven**Â diseÃ±ado para ejecutar pruebas automatizadas en proyectos Java. Es el encargado de ejecutar los tests cuando corres el comando:

mvn test

### **ğŸ”Â Â¿Para quÃ© se usa?**

- Ejecutar pruebas unitarias y de integraciÃ³n.
- Generar reportes de ejecuciÃ³n de tests.
- Determinar si el build de Maven es exitoso o no basado en los tests.

### **ğŸ“ŒÂ Â¿CÃ³mo funciona?**

Cuando ejecutasÂ `mvn test`, Surefire busca archivos de prueba que cumplan ciertas convenciones de nombres:

1. **Clases que terminan en**Â `Test.java`Â (Ejemplo:Â `MyClassTest.java`).
2. **Clases que comienzan con**Â `Test`Â (Ejemplo:Â `TestMyClass.java`).
3. **Clases que terminan en**Â `Tests.java`Â (Ejemplo:Â `MyClassTests.java`).

Luego, usa el framework de pruebas configurado (JUnit o TestNG) para ejecutar los tests.

### **ğŸ“ŒÂ Comandos Ãºtiles**

ğŸ”¹ EjecutarÂ **todos los tests**:
``

`mvn test`

ğŸ”¹ EjecutarÂ **un test especÃ­fico**:

`mvn -Dtest=MiClaseTest test`

ğŸ”¹ EjecutarÂ **un mÃ©todo especÃ­fico dentro de una clase de test**:
``

`mvn -Dtest=MiClaseTest#miMetodoTest test`

### **ğŸ“Œ EjecuciÃ³n segÃºn configuraciÃ³n de `testng.xml`**

Si existe un archivo de configuraciÃ³n `testng.xml`, es necesario configurar el plugin `maven-surefire-plugin` en el archivo `POM.xml` para que, al ejecutar el comando `mvn test`, se tenga en cuenta la configuraciÃ³n establecida en `testng.xml`.

El plugin `maven-surefire-plugin` viene incluido por defecto en todos los proyectos Maven, pero se recomienda declararlo explÃ­citamente en el archivo `POM.xml`. Para verificar cuÃ¡l es la versiÃ³n instalada por defecto, puedes ejecutar el siguiente comando:

```bash
bash
mvn help:effective-pom
```

En los resultados, aparecerÃ¡ una secciÃ³n similar a la siguiente:

```xml
xml
CopiarEditar
<plugin>
  <artifactId>maven-surefire-plugin</artifactId>
  <version>3.2.5</version>
  <executions>
    <execution>
      <id>default-test</id>
      <phase>test</phase>
      <goals>
        <goal>test</goal>
      </goals>
    </execution>
  </executions>
</plugin>

```

En este ejemplo, la versiÃ³n del plugin es `3.2.5`.

Ahora, puedes acceder a la documentaciÃ³n de Maven y buscar el plugin Surefire en la pÃ¡gina oficial:

- [Listado de Plugins de Maven](https://maven.apache.org/plugins/index.html)
- [DocumentaciÃ³n del plugin Maven Surefire](https://maven.apache.org/surefire/maven-surefire-plugin/)

En la secciÃ³n **Examples: Using TestNG**, encontrarÃ¡s un ejemplo similar a este:

```xml
xml
CopiarEditar
<plugins>
  [...]
  <plugin>
    <groupId>org.apache.maven.plugins</groupId>
    <artifactId>maven-surefire-plugin</artifactId>
    <version>3.5.2</version>
    <configuration>
      <suiteXmlFiles>
        <suiteXmlFile>testng.xml</suiteXmlFile>
      </suiteXmlFiles>
    </configuration>
  </plugin>
  [...]
</plugins>

```

Para ejecutar las pruebas, utiliza los siguientes comandos:

```bash
bash
CopiarEditar
mvn install
mvn test

```

De esta forma, el comando `mvn test` tendrÃ¡ en cuenta la configuraciÃ³n definida en el archivo **`testng.xml`**.

ğŸ”¥ **Los plugins siempre deben ir en `<build><plugins>`**, no en `<dependencies>`.

Si lo pones en `<dependencies>`, Maven intentarÃ¡ **usarlo como una librerÃ­a en tiempo de compilaciÃ³n**, lo cual no tiene sentido porque **Surefire no es una librerÃ­a de cÃ³digo**, sino un ejecutor de pruebas.

---

## **ğŸ“Œ Regla general**

- **Si es una librerÃ­a** que usas en cÃ³digo Java, va en **`<dependencies>`**.
- **Si es una herramienta que Maven ejecuta (compilar, testear, empaquetar, etc.), va en `<build><plugins>`**.

Por eso, **Surefire es un plugin, no una dependencia**.

## **ğŸ” CÃ³mo verificar si algo es un plugin o una dependencia**

1. **Si tiene la palabra `maven-` en su nombre, es casi seguro que es un plugin.**
    - `maven-surefire-plugin` âœ… **PLUGIN**
    - `maven-compiler-plugin` âœ… **PLUGIN**
    - `maven-jar-plugin` âœ… **PLUGIN**
    - `testng` âŒ **DEPENDENCIA**
2. **Si aparece en el ciclo de vida de Maven (`compile, test, package, install`), es un plugin.**
    - Puedes ver esto con:
        
        ```
        
        mvn help:effective-pom
        ```
        
    - En la salida verÃ¡s todos los **plugins activos**.

## **ğŸ” CÃ³mo verificar si algo es un plugin o una dependencia**

1. **Si tiene la palabra `maven-` en su nombre, es casi seguro que es un plugin.**
    - `maven-surefire-plugin` âœ… **PLUGIN**
    - `maven-compiler-plugin` âœ… **PLUGIN**
    - `maven-jar-plugin` âœ… **PLUGIN**
    - `testng` âŒ **DEPENDENCIA**